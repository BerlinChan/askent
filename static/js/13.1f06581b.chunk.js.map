{"version":3,"sources":["../../../node_modules/@material-ui/core/esm/utils/deprecatedPropType.js","../../../node_modules/@material-ui/core/esm/utils/index.js","../../../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../../node_modules/@babel/runtime/helpers/interopRequireWildcard.js","../../../node_modules/@material-ui/icons/utils/createSvgIcon.js","../../../node_modules/@material-ui/core/esm/utils/unsupportedProp.js","../../../node_modules/@material-ui/icons/QuestionAnswer.js","../../src/utils.ts","../../src/actions.ts","../../src/constants.ts","../../src/streams.ts","../../src/pipe.ts","../../src/transformers.ts","../../src/system.ts","../../src/index.ts","../../src/comparators.tsx","../../src/loggerSystem.ts","../../src/domIOSystem.ts","../../src/propsReadySystem.ts","../../src/stateFlagsSystem.ts","../../src/scrollSeekSystem.ts","../../src/AATree.ts","../../src/utils/binaryArraySearch.ts","../../src/utils/correctItemSize.ts","../../src/sizeSystem.ts","../../src/scrollToIndexSystem.ts","../../src/sizeRangeSystem.ts","../../src/windowScrollerSystem.ts","../../src/gridSystem.ts","../../src/hooks/useSize.ts","../../src/hooks/useWindowViewportRect.ts","../../src/hooks/useIsomorphicLayoutEffect.ts","../../src/hooks/useScrollTop.ts","../../src/initialTopMostItemIndexSystem.ts","../../src/followOutputSystem.ts","../../src/groupedListSystem.ts","../../src/listStateSystem.ts","../../src/utils/simpleMemoize.ts","../../src/initialItemCountSystem.ts","../../src/topItemCountSystem.ts","../../src/totalListHeightSystem.ts","../../src/upwardScrollFixSystem.ts","../../src/initialScrollTopSystem.ts","../../src/alignToBottomSystem.ts","../../src/listSystem.ts","../../src/utils/positionStickyCssValue.ts","../../src/List.tsx","../../src/hooks/useChangedChildSizes.ts","../../src/Grid.tsx","../../src/components.tsx","../../../node_modules/@material-ui/core/esm/utils/requirePropFactory.js","../../../node_modules/@material-ui/icons/Publish.js","../../../node_modules/@material-ui/icons/ThumbUp.js","../../../node_modules/ramda/es/internal/_isString.js","../../../src/utils/isBrowser.js","../../../src/utils/debounce.js","../../../src/utils/isFunction.js","../../../src/utils/getStyleComputedProperty.js","../../../src/utils/getParentNode.js","../../../src/utils/getScrollParent.js","../../../src/utils/getReferenceNode.js","../../../src/utils/isIE.js","../../../src/utils/getOffsetParent.js","../../../src/utils/getRoot.js","../../../src/utils/findCommonOffsetParent.js","../../../src/utils/isOffsetContainer.js","../../../src/utils/getScroll.js","../../../src/utils/includeScroll.js","../../../src/utils/getBordersSize.js","../../../src/utils/getWindowSizes.js","../../../src/utils/getClientRect.js","../../../src/utils/getBoundingClientRect.js","../../../src/utils/getOffsetRectRelativeToArbitraryNode.js","../../../src/utils/getViewportOffsetRectRelativeToArtbitraryNode.js","../../../src/utils/isFixed.js","../../../src/utils/getFixedPositionOffsetParent.js","../../../src/utils/getBoundaries.js","../../../src/utils/computeAutoPlacement.js","../../../src/utils/getReferenceOffsets.js","../../../src/utils/getOuterSizes.js","../../../src/utils/getOppositePlacement.js","../../../src/utils/getPopperOffsets.js","../../../src/utils/find.js","../../../src/utils/runModifiers.js","../../../src/utils/findIndex.js","../../../src/methods/update.js","../../../src/utils/isModifierEnabled.js","../../../src/utils/getSupportedPropertyName.js","../../../src/methods/destroy.js","../../../src/utils/getWindow.js","../../../src/utils/setupEventListeners.js","../../../src/methods/enableEventListeners.js","../../../src/methods/disableEventListeners.js","../../../src/utils/removeEventListeners.js","../../../src/utils/isNumeric.js","../../../src/utils/setStyles.js","../../../src/modifiers/computeStyle.js","../../../src/utils/isModifierRequired.js","../../../src/methods/placements.js","../../../src/utils/clockwise.js","../../../src/modifiers/flip.js","../../../src/modifiers/offset.js","../../../src/modifiers/index.js","../../../src/methods/defaults.js","../../../src/modifiers/shift.js","../../../src/modifiers/preventOverflow.js","../../../src/modifiers/keepTogether.js","../../../src/modifiers/arrow.js","../../../src/utils/getOppositeVariation.js","../../../src/modifiers/inner.js","../../../src/modifiers/hide.js","../../../src/utils/getRoundedOffsets.js","../../../src/modifiers/applyStyle.js","../../../src/utils/setAttributes.js","../../../src/index.js","../../../node_modules/@material-ui/system/esm/styleFunctionSx.js","../../../node_modules/@material-ui/system/esm/compose.js","../../../node_modules/@material-ui/system/esm/style.js","../../../node_modules/@material-ui/system/esm/borders.js","../../../node_modules/@material-ui/system/esm/display.js","../../../node_modules/@material-ui/system/esm/flexbox.js","../../../node_modules/@material-ui/system/esm/grid.js","../../../node_modules/@material-ui/system/esm/positions.js","../../../node_modules/@material-ui/system/esm/palette.js","../../../node_modules/@material-ui/system/esm/shadows.js","../../../node_modules/@material-ui/system/esm/sizing.js","../../../node_modules/@material-ui/system/esm/typography.js","../../../node_modules/@material-ui/styles/esm/styled/styled.js","../../../node_modules/@material-ui/core/esm/styles/styled.js","../../../node_modules/@material-ui/core/esm/Box/Box.js","../../../node_modules/@material-ui/core/esm/ListItem/ListItem.js","../../../node_modules/@material-ui/core/esm/ListItemText/ListItemText.js","../../../node_modules/@material-ui/core/esm/Tooltip/Tooltip.js","../../../node_modules/@material-ui/core/esm/Popper/Popper.js","../../../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js","../../../node_modules/ramda/es/sortWith.js","../../../node_modules/ramda/es/descend.js","../../../node_modules/ramda/es/ascend.js","../../../node_modules/ramda/es/internal/_isInteger.js","../../../node_modules/ramda/es/nth.js","../../../node_modules/ramda/es/paths.js","../../../node_modules/ramda/es/path.js","../../../node_modules/ramda/es/prop.js","../../../node_modules/@material-ui/core/esm/internal/svg-icons/Person.js","../../../node_modules/@material-ui/core/esm/Avatar/Avatar.js","../../../../src/react/data/SubscriptionData.ts","../../../../src/react/hooks/useSubscription.ts"],"names":["deprecatedPropType","validator","reason","module","exports","obj","__esModule","_typeof","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","value","enumerable","_utils","createSvgIcon","require","unsupportedProp","props","propName","componentName","location","propFullName","_interopRequireDefault","_interopRequireWildcard","default","React","_default","createElement","d","compose","a","b","thrush","arg","proc","curry2to1","arg1","arg2","curry1to0","prop","property","object","tap","tup","args","always","joinProc","procs","noop","subscribe","emitter","subscription","publish","publisher","reset","getValue","depot","connect","handleNext","unsub","stream","subscriptions","indexOf","Error","statefulStream","initial","innerSubject","action","streamFromEmitter","statefulStreamFromEmitter","combineOperators","operators","pipe","source","project","defaultComparator","previous","next","distinctUntilChanged","comparator","done","current","filter","predicate","map","mapTo","scan","scanner","skip","times","throttleTime","interval","currentValue","timeout","setTimeout","withLatestFrom","sources","values","Array","called","allCalled","Math","bit","concat","duc","combineLatest","emitters","system","constructor","dependencies","singleton","id","Symbol","useIsomorphicLayoutEffect","document","systemToComponent","systemSpec","Root","requiredPropNames","optionalPropNames","methodNames","eventNames","Context","createContext","requiredPropName","optionalPropName","handlers","cleanup","currentSubscription","eventHandler","Component","forwardRef","children","propsWithChildren","useState","singletons","_init","init","applyPropsToSystem","buildEventHandlers","eventName","useImperativeHandle","ref","acc","buildMethods","result","index","idx","len","keys","omit","usePublisher","useCallback","useEmitterValue","useContext","setValue","useEmitter","callback","tupleComparator","prev","rangeComparator","startIndex","endIndex","LogLevel","UP","domIOSystem","u","scrollTop","deviation","smoothScrollTargetReached","statefulScrollTop","viewportHeight","headerHeight","footerHeight","scrollTo","scrollBy","scrollingInProgress","scrollDirection","direction","prevScrollTop","CONSOLE_METHOD_MAP","DEBUG","INFO","WARN","ERROR","loggerSystem","logLevel","log","label","message","level","globalThis","console","propsReadySystem","propsReady","didMount","ready","INITIAL_BOTTOM_STATE","atBottom","notAtBottomBecause","state","offsetBottom","totalHeight","stateFlagsSystem","isAtBottom","isAtTop","atBottomStateChange","atTopStateChange","listStateListener","isScrolling","clearTimeout","top","atBottomState","bottom","scrollSeekSystem","scrollVelocity","isSeeking","rangeChanged","scrollSeekConfiguration","speed","config","range","enter","exit","change","scrollSeekRangeChanged","NIL_NODE","lvl","newAANode","k","v","l","r","empty","node","newTree","remove","last","adjust","clone","deleteLast","findMaxKeyValue","field","Infinity","insert","split","skew","walkWithin","start","end","push","walk","isSingle","rl","rlvl","rangesWithin","arrayToRanges","items","parser","length","i","nextIndex","nextValue","findIndexOfClosestSmallerOrEqual","floor","match","join","findClosestSmallerOrEqual","correctItemSize","el","dimension","round","getBoundingClientRect","rangeIncludes","refRange","size","indexComparator","itemIndex","offsetComparator","offset","itemOffset","offsetPointParser","point","sizeStateReducer","ranges","groupIndices","sizeTree","offsetTree","newSizeTree","syncStart","groupSize","itemSize","reduce","tree","groupIndex","min","overlappingRanges","some","firstPassDone","shouldInsert","rangeStart","rangeEnd","rangeValue","prevIndex","prevSize","prevAOffset","startAIndex","arrayBinarySearch","kv","slice","aOffset","groupOffsetTree","offsetOf","lastIndex","lastOffset","lastSize","originalIndexFromItemIndex","sizes","hasGroups","groupOffset","SIZE_MAP","offsetHeight","offsetWidth","sizeSystem","sizeRanges","totalCount","unshiftWith","firstItemIndex","fixedItemSize","defaultItemSize","data","indexes","trackItemSizes","listRefresh","newSizes","changed","diff","val","beforeUnshiftWith","SUPPORTS_SCROLL_TO_OPTIONS","documentElement","style","normalizeIndexLocation","align","behavior","scrollToIndexSystem","scrollToIndex","topListHeight","unsubscribeNextListRefresh","cleartTimeoutRef","unsubscribeListRefresh","normalLocation","max","retry","listChanged","getOverscan","overscan","main","reverse","sizeRangeSystem","listBoundary","visibleRange","listTop","listBottom","headerVisible","windowScrollerSystem","windowViewportRect","windowScrollTop","windowScrollTo","useWindowScroll","offsetTop","INITIAL_GRID_STATE","itemHeight","itemWidth","PROBE_GRID_STATE","ceil","hackFloor","buildItems","from","_","gridSystem","stateFlags","scrollSeek","initialItemCount","gridState","viewportDimensions","height","width","itemDimensions","startOffset","endOffset","item","viewport","viewportWidth","perRow","gridLayout","endReached","startReached","itemTop","totalListHeight","viewportInfo","visibleWidth","visibleHeight","useSizeWithElRef","enabled","useRef","callbackRef","_el","ResizeObserver","observer","entries","element","target","offsetParent","elRef","observe","unobserve","useSize","useWindowViewportRectRef","calculateInfo","rect","window","innerHeight","pageYOffset","windowEH","useEffect","addEventListener","removeEventListener","useLayoutEffect","useScrollTop","scrollTopCallback","scrollerElement","scrollerRefCallback","scrollerRef","scrollTopTarget","timeoutRef","handler","ev","scrollHeight","localRef","passive","scrollByCallback","scrollToCallback","isSmooth","abs","initialTopMostItemIndexSystem","scrolledToInitialItem","initialTopMostItemIndex","normalizeFollowOutput","follow","followOutputSystem","followOutput","pendingScrollHandle","scrollToBottom","followOutputBehavior","shouldFollow","behaviorFromFollowOutput","refreshed","cancel","groupCountsToIndicesAndCount","counts","groupCount","groupedListSystem","groupCounts","topItemsIndexes","groupIndicesAndCount","EMPTY_LIST_STATE","topItems","transposeItems","originalIndex","transposedItems","groupRanges","currentRange","currentGroupIndex","shift","type","buildListState","lastItem","func","listStateSystem","rangeTopListHeight","itemsRendered","listState","sizesValue","rangeStartIndex","rangeEndIndex","minStartIndex","offsetPointRanges","endValue","maxIndex","t","initialItemCountSystem","count","includedGroupsCount","adjustedCount","topItemCountSystem","topItemCount","totalListHeightSystem","totalListHeightChanged","upwardScrollFixSystem","deviationOffset","prevItems","newDev","prevFirstItemIndex","prevItem","find","pItem","amount","initialScrollTopSystem","initialScrollTop","alignToBottomSystem","alignToBottom","paddingTopAddition","featureGroup1System","listSystem","domIO","flags","featureGroup1","fixedItemHeight","defaultItemHeight","positionStickyCssValue","position","identity","listComponentPropsSystem","itemContent","groupContent","components","computeItemKey","headerFooterTag","distinctProp","defaultValue","FooterComponent","HeaderComponent","TopItemListComponent","ListComponent","ItemComponent","GroupComponent","ScrollerComponent","EmptyPlaceholder","ScrollSeekPlaceholder","addDeprecatedAlias","alias","warn","combinedSystem","propsSystem","deprecatedProps","group","scrollingStateChange","adjustForPrependedItems","maxHeightCacheSize","footer","header","HeaderContainer","FooterContainer","ItemContainer","ScrollContainer","GroupContainer","ListContainer","emptyComponent","deprecateComponentProp","comp","placeholder","DefaultScrollSeekPlaceholder","GROUP_STYLE","zIndex","Items","showTopList","results","child","dataset","parseInt","knownSize","parseFloat","lastResult","containerStyle","boxSizing","paddingTop","paddingBottom","marginTop","data-test-id","data-index","data-known-size","data-item-index","data-item-group-index","scrollerStyle","outline","overflowY","WebkitOverflowScrolling","viewportStyle","topItemListStyle","Header","Footer","buildScroller","tabIndex","buildWindowScroller","Viewport","viewportRef","WindowViewport","TopItemListContainer","TopItemList","required","optional","methods","events","TheViewport","WindowScroller","Scroller","List","gridComponentPropsSystem","itemClassName","listClassName","GridItems","listRef","firstItem","firstChild","className","Grid","Virtuoso","GroupedVirtuoso","requirePropFactory","componentNameInError","_isString","x","toString","navigator","timeoutDuration","longerTimeoutBrowsers","isBrowser","fn","scheduled","isFunction","functionToCheck","getType","getStyleComputedProperty","css","getParentNode","getScrollParent","overflow","overflowX","test","getReferenceNode","reference","isIE11","isIE10","isIE","version","getOffsetParent","noOffsetParent","nodeName","getRoot","findCommonOffsetParent","element1","element2","order","Node","commonAncestorContainer","isOffsetContainer","element1root","getScroll","side","upperSide","html","scrollingElement","includeScroll","subtract","scrollLeft","modifier","getBordersSize","styles","axis","sideA","sideB","getSize","body","computedStyle","getWindowSizes","getComputedStyle","getClientRect","offsets","horizScrollbar","vertScrollbar","getOffsetRectRelativeToArbitraryNode","parent","fixedPosition","runIsIE","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","isFixed","parentNode","getFixedPositionOffsetParent","getBoundaries","boundaries","left","boundariesElement","boundariesNode","popper","isPaddingNumber","padding","getArea","computeAutoPlacement","placement","rects","refRect","sortedAreas","filteredAreas","computedPlacement","variation","getReferenceOffsets","commonOffsetParent","getOuterSizes","y","getOppositePlacement","hash","right","replace","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","arr","check","runModifiers","modifiers","ends","findIndex","cur","update","this","options","flip","positionFixed","isModifierEnabled","modifierName","name","getSupportedPropertyName","prefixes","upperProp","prefix","toCheck","destroy","getWindow","ownerDocument","attachToScrollParents","event","scrollParents","isBody","setupEventListeners","scrollElement","enableEventListeners","disableEventListeners","removeEventListeners","isNumeric","n","isNaN","isFinite","setStyles","unit","isFirefox","isModifierRequired","requesting","isRequired","requested","validPlacements","placements","clockwise","counter","BEHAVIORS","parseOffset","useHeight","basePlacement","fragments","frag","divider","splitRegex","ops","mergeWithPrevious","op","str","toValue","index2","shiftvariation","isVertical","shiftOffsets","transformProp","popperStyles","transform","opSide","arrowElement","sideCapitalized","altSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","placementOpposite","flipOrder","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariationByRef","flippedVariationByContent","flippedVariation","getOppositeVariation","subtractLength","bound","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","shouldRound","noRound","referenceWidth","popperWidth","isVariation","horizontalToInteger","verticalToInteger","bothOddWidth","getRoundedOffsets","prefixedProperty","invertTop","invertLeft","attributes","undefined","Popper","requestAnimationFrame","debounce","bind","modifierOptions","eventsEnabled","Utils","PopperUtils","Defaults","input","fields","output","forEach","styleFunctionSx","styleFunction","newStyleFunction","_extends","merge","theme","filterProps","sx","propTypes","_toConsumableArray","_len","arguments","_key","getPath","path","_options$cssProperty","cssProperty","themeKey","propValue","themeMapping","handleBreakpoints","propValueFinal","isArray","_defineProperty","getBorder","borders","display","flexbox","grid","palette","boxShadow","maxWidth","minWidth","maxHeight","minHeight","sizing","typography","styled","componentCreator","stylesOptions","_objectWithoutProperties","classNamePrefix","stylesOrCreator","root","useStyles","makeStyles","displayName","StyledComponent","classNameProp","ComponentProp","component","other","classes","clsx","spread","cloneElement","FinalComponent","hoistNonReactStatics","styledWithoutDefault","defaultTheme","positions","shadows","spacing","Box","useEnhancedEffect","ListItem","_props$alignItems","alignItems","_props$autoFocus","autoFocus","_props$button","button","childrenProp","componentProp","_props$ContainerCompo","ContainerComponent","_props$ContainerProps","ContainerProps","ContainerClassName","_props$dense","dense","_props$disabled","disabled","_props$disableGutters","disableGutters","_props$divider","focusVisibleClassName","_props$selected","selected","context","ListContext","childContext","listItemRef","focus","toArray","hasSecondaryAction","isMuiElement","handleOwnRef","instance","ReactDOM","handleRef","useForkRef","componentProps","gutters","alignItemsFlexStart","secondaryAction","focusVisible","ButtonBase","Provider","container","pop","withStyles","justifyContent","textDecoration","textAlign","backgroundColor","opacity","borderBottom","backgroundClip","paddingLeft","paddingRight","transition","transitions","create","duration","shortest","hover","ListItemText","_props$disableTypogra","disableTypography","_props$inset","inset","primaryProp","primary","primaryTypographyProps","secondaryProp","secondary","secondaryTypographyProps","Typography","variant","color","multiline","flex","marginBottom","hystersisOpen","hystersisTimer","Tooltip","_props$arrow","arrow","_props$disableFocusLi","disableFocusListener","_props$disableHoverLi","disableHoverListener","_props$disableTouchLi","disableTouchListener","_props$enterDelay","enterDelay","_props$enterNextDelay","enterNextDelay","_props$enterTouchDela","enterTouchDelay","idProp","_props$interactive","interactive","_props$leaveDelay","leaveDelay","_props$leaveTouchDela","leaveTouchDelay","onClose","onOpen","openProp","open","_props$placement","_props$PopperComponen","PopperComponent","PopperProps","title","_props$TransitionComp","TransitionComponent","Grow","TransitionProps","useTheme","_React$useState","childNode","setChildNode","_React$useState2","arrowRef","setArrowRef","ignoreNonTouchEvents","closeTimer","enterTimer","leaveTimer","touchTimer","_useControlled","useControlled","controlled","_useControlled2","_slicedToArray","openState","setOpenState","useId","handleOpen","handleEnter","forward","childrenProps","onMouseOver","removeAttribute","persist","_useIsFocusVisible","useIsFocusVisible","isFocusVisible","onBlurVisible","focusVisibleRef","_React$useState3","childIsFocusVisible","setChildIsFocusVisible","handleBlur","handleFocus","currentTarget","onFocus","handleClose","handleLeave","onBlur","onMouseLeave","detectTouchStart","onTouchStart","handleUseRef","handleFocusRef","setRef","shouldShowNativeTitle","interactiveWrapperListeners","onTouchEnd","mergedPopperProps","deepmerge","popperOptions","Boolean","popperInteractive","popperArrow","anchorEl","_ref","placementInner","TransitionPropsInner","shorter","tooltip","capitalize","touch","tooltipArrow","pointerEvents","marginRight","transformOrigin","alpha","grey","borderRadius","shape","common","white","fontFamily","fontSize","pxToRem","lineHeight","wordWrap","fontWeight","fontWeightMedium","margin","content","fontWeightRegular","tooltipPlacementLeft","breakpoints","up","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","getAnchorEl","defaultPopperOptions","_props$disablePortal","disablePortal","_props$keepMounted","keepMounted","initialPlacement","_props$popperOptions","popperRefProp","popperRef","_props$transition","tooltipRef","ownRef","handlePopperRef","handlePopperRefRef","exited","setExited","rtlPlacement","flipPlacement","setPlacement","handlePopperUpdate","PopperJs","preventOverflow","onCreate","createChainedFunction","onUpdate","childProps","in","onEnter","onExited","Portal","role","MenuItem","_props$component","ListItemClasses","_props$role","tabIndexProp","body1","whiteSpace","body2","sortWith","_curry2","fns","list","sort","descend","_curry3","aa","bb","ascend","Number","isInteger","nth","charAt","paths","pathsArray","p","_isInteger","pathAr","Avatar","alt","imgProps","src","srcSet","_props$variant","loaded","setLoaded","active","image","Image","onload","onerror","useLoaded","hasImg","hasImgNotFailing","img","Person","fallback","colorDefault","flexShrink","userSelect","background","circle","circular","rounded","square","objectFit","textIndent","setResult","currentObservable","initialize","execute","getOptions","loading","error","variables","currentResult","refreshClient","isNew","getLoadingResult","shouldResubscribe","previousOptions","startSubscription","afterExecute","isMounted","endSubscription","query","client","fetchPolicy","updateCurrentData","updateError","complete","completeSubscription","updateResult","onSubscriptionData","subscriptionData","Promise","resolve","then","onSubscriptionComplete","unsubscribe","useSubscription","forceUpdate","updatedOptions","subscriptionDataRef","setOptions","__DEV__","useAfterFastRefresh"],"mappings":"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","file":"static/js/13.1f06581b.chunk.js","sourcesContent":["export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return function () {\n      return null;\n    };\n  }\n\n  return function (props, propName, componentName, location, propFullName) {\n    var componentNameSafe = componentName || '<<anonymous>>';\n    var propFullNameSafe = propFullName || propName;\n\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(\"The \".concat(location, \" `\").concat(propFullNameSafe, \"` of \") + \"`\".concat(componentNameSafe, \"` is deprecated. \").concat(reason));\n    }\n\n    return null;\n  };\n}","export { default as capitalize } from './capitalize';\nexport { default as createChainedFunction } from './createChainedFunction';\nexport { default as createSvgIcon } from './createSvgIcon';\nexport { default as debounce } from './debounce';\nexport { default as deprecatedPropType } from './deprecatedPropType';\nexport { default as isMuiElement } from './isMuiElement';\nexport { default as ownerDocument } from './ownerDocument';\nexport { default as ownerWindow } from './ownerWindow';\nexport { default as requirePropFactory } from './requirePropFactory';\nexport { default as setRef } from './setRef';\nexport { default as unsupportedProp } from './unsupportedProp';\nexport { default as useControlled } from './useControlled';\nexport { default as useEventCallback } from './useEventCallback';\nexport { default as useForkRef } from './useForkRef'; // eslint-disable-next-line camelcase\n\nexport { default as unstable_useId } from './unstable_useId';\nexport { default as useIsFocusVisible } from './useIsFocusVisible';","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.createSvgIcon;\n  }\n});\n\nvar _utils = require(\"@material-ui/core/utils\");","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n\n  var propFullNameSafe = propFullName || propName;\n\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(\"The prop `\".concat(propFullNameSafe, \"` is not supported. Please remove it.\"));\n  }\n\n  return null;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z\"\n}), 'QuestionAnswer');\n\nexports.default = _default;","/**\n * Utils includes\n * - a handful of functional utilities inspired by or taken from the [Ramda library](https://ramdajs.com/);\n * - TypeScript crutches - the [[tup]] function.\n *\n * Use these for your convenience - they are here so that urx is zero-dependency package.\n *\n * @packageDocumentation\n */\n\n/** @internal */\nexport interface Proc {\n  (): any\n}\n\n/**\n * Performs left to right composition of two functions.\n */\nexport function compose<I, A, R>(a: (arg: A) => R, b: (arg: I) => A): (arg: I) => R {\n  return (arg: I) => a(b(arg))\n}\n\n/**\n * Takes a value and applies a function to it.\n */\nexport function thrush<I, K>(arg: I, proc: (arg: I) => K) {\n  return proc(arg)\n}\n\n/**\n * Takes a 2 argument function and partially applies the first argument.\n */\nexport function curry2to1<T, K, R>(proc: (arg1: T, arg2: K) => R, arg1: T): (arg2: K) => R {\n  return arg2 => proc(arg1, arg2)\n}\n\n/**\n * Takes a 1 argument function and returns a function which when called, executes it with the provided argument.\n */\nexport function curry1to0<T, R>(proc: (arg: T) => R, arg: T): () => R {\n  return () => proc(arg)\n}\n\n/**\n * Returns a function which extracts the property from from the passed object.\n */\nexport function prop(property: string) {\n  return (object: any) => object[property]\n}\n\n/**\n * Calls callback with the first argument, and returns it.\n */\nexport function tap<T>(arg: T, proc: (arg: T) => any): T {\n  proc(arg)\n  return arg\n}\n\n/**\n *  Utility function to help typescript figure out that what we pass is a tuple and not a generic array.\n *  Taken from (this StackOverflow tread)[https://stackoverflow.com/questions/49729550/implicitly-create-a-tuple-in-typescript/52445008#52445008]\n */\nexport function tup<T extends Array<any>>(...args: T): T {\n  return args\n}\n\n/**\n * Calls the passed function.\n */\nexport function call(proc: Proc) {\n  proc()\n}\n\n/**\n * returns a function which when called always returns the passed value\n */\nexport function always<T>(value: T) {\n  return () => value\n}\n\n/**\n * returns a function which calls all passed functions in the passed order.\n * joinProc does not pass arguments or collect return values.\n */\nexport function joinProc(...procs: Proc[]) {\n  return () => {\n    procs.map(call)\n  }\n}\n\nexport function noop() {}\n","/**\n * urx Actions operate on streams - `publish` publishes data in a stream, and `subscribe` attaches a subscription to a stream.\n * @packageDocumentation\n */\nimport { PUBLISH, RESET, SUBSCRIBE, VALUE } from './constants'\nimport { curry2to1 } from './utils'\n\n/**\n * A Publisher is the **input end** of a Stream. The [[publish]] action publishes values in publishers.\n * @typeParam T the type of values to be published.\n */\nexport interface Publisher<T> {\n  /** @internal */\n  (action: PUBLISH, value: T): void\n}\n\n/**\n * An Emitter is the **output end** of a Stream. The [[subscribe]] action binds {@link Subscription | subscriptions} to emitters.\n * @typeParam T the type of values that will be emitted.\n */\nexport interface Emitter<T> {\n  /** @internal */\n  (action: SUBSCRIBE, subscription: Subscription<T>): Unsubscribe\n  /** @internal */\n  (action: RESET): void\n}\n\n/**\n * Subscriptions are bound to Emitters with the [[subscribe]] action, and get called with the new values.\n * @typeParam T the Emitter value type.\n */\nexport interface Subscription<T> {\n  (value: T): any\n}\n\n/**\n * Subscribe-like actions return unsubscribe handles of the Unsubscribe type, which, when called, unbind the subscription.\n */\nexport interface Unsubscribe {\n  (): void\n}\n\n/**\n * Streams present both the input and the output ends of a stream.\n * A single stream instance can be both subscribed to and published in.\n */\nexport interface Stream<T> extends Publisher<T>, Emitter<T> {\n  /** @internal */\n  (action: SUBSCRIBE | PUBLISH | RESET): any // fix for bug with pipe + connect\n}\n\n/**\n * Just like {@link Stream | streams}, stateful streams present both input and output ends of a stream.\n * A single stream instance can be both subscribed to and published in.\n * Stateful Streams can also act like depots, preserving the last passed value and immediately publishing it to new subscriptions.\n * [[getValue]] can be used to extract value from stateful streams.\n */\nexport interface StatefulStream<T> extends Publisher<T>, Emitter<T> {\n  /** @internal */\n  (action: SUBSCRIBE | PUBLISH | RESET | VALUE): any // fix for bug with pipe + connect\n  // StatefulStream should extend rather then duplicate the signature, but this somehow causes a bug in TS\n}\n\n/**\n * Subscribes the specified [[Subscription]] to the updates from the Emitter.\n * The emitter calls the subscription with the new data each time new data is published into it.\n *\n * ```ts\n * const foo = stream<number>();\n * subscribe(foo, (value) => console.log(value));\n * ```\n *\n * @returns an [[Unsubscribe]] handle  - calling it will unbind the subscription from the emitter.\n *```ts\n * const foo = stream<number>();\n * const unsub = subscribe(foo, (value) => console.log(value));\n * unsub();\n *```\n */\nexport function subscribe<T>(emitter: Emitter<T>, subscription: Subscription<T>): Unsubscribe {\n  return emitter(SUBSCRIBE, subscription)\n}\n\n/**\n * Publishes the value into the passed [[Publisher]].\n *\n * ```ts\n * const foo = stream<number>();\n * publish(foo, 42);\n * ```\n */\nexport function publish<T>(publisher: Publisher<T>, value: T) {\n  publisher(PUBLISH, value)\n}\n\n/**\n * Clears all subscriptions from the [[Emitter]].\n * ```ts\n * const foo = stream<number>();\n * subscribe(foo, (value) => console.log(value));\n * reset(foo);\n * publish(foo, 42);\n * ```\n */\nexport function reset(emitter: Emitter<any>) {\n  emitter(RESET)\n}\n\n/**\n * Extracts the current value from a stateful stream. Use it only as an escape hatch, as it violates the concept of reactive programming.\n * ```ts\n * const foo = statefulStream(42);\n * console.log(getValue(foo));\n * ```\n */\nexport function getValue<T>(depot: StatefulStream<T>): T {\n  return depot(VALUE)\n}\n\n/**\n * Connects two streams - any value emitted from the emitter will be published in the publisher.\n * ```ts\n * const foo = stream<number>();\n * const bar = stream<number>();\n * subscribe(bar, (value) => console.log(`Bar emitted ${value}`));\n *\n * connect(foo, bar);\n * publish(foo);\n * ```\n * @returns an [[Unsubscribe]] handle which will disconnect the two streams.\n */\nexport function connect<T>(emitter: Emitter<T>, publisher: Publisher<T>) {\n  return subscribe(emitter, curry2to1(publisher, PUBLISH))\n}\n\n/**\n * Executes the passed subscription at most once, for the next emit from the emitter.\n * ```ts\n * const foo = stream<number>()\n * handleNext(foo, value => console.log(value)) // called once, with 42\n * publish(foo, 42)\n * publish(foo, 43)\n * ```\n * @returns an [[Unsubscribe]] handle to unbind the subscription if necessary.\n */\nexport function handleNext<T>(emitter: Emitter<T>, subscription: Subscription<T>) {\n  const unsub = emitter(SUBSCRIBE, value => {\n    unsub()\n    subscription(value)\n  })\n  return unsub\n}\n","export const PUBLISH = 0 as const\nexport type PUBLISH = typeof PUBLISH\n\nexport const SUBSCRIBE = 1 as const\nexport type SUBSCRIBE = typeof SUBSCRIBE\n\nexport const RESET = 2 as const\nexport type RESET = typeof RESET\n\nexport const VALUE = 4 as const\nexport type VALUE = typeof VALUE\n","/**\n * Streams are the basic building blocks of a reactive system. Think of them as the system permanent \"data tubes\".\n *\n * A stream acts as both an [[Emitter]] and [[Publisher]]. Each stream can have multiple {@link Subscription | Subscriptions}.\n *\n * urx streams are either **stateless** or **stateful**.\n * Stateless streams emit data to existing subscriptions when published, without keeping track of it.\n * Stateful streams remember the last published value and immediately publish it to new subscriptions.\n *\n * ```ts\n * import { stream, statefulStream, publish, subscribe } from \"@virtuoso.dev/urx\";\n *\n * // foo is a stateless stream\n * const foo = stream<number>();\n *\n * publish(foo, 42);\n * // this subsription will not be called...\n * subscribe(foo, (value) => console.log(value));\n * // it will only catch published values after it\n * publish(foo, 43);\n *\n * // stateful streams always start with an initial value\n * const bar = statefulStream(42);\n *\n * // subscribing to a stateful stream\n * // immediately calls the subscription with the current value\n * subscribe(bar, (value) => console.log(value));\n *\n * // subsequent publishing works just like stateless streams\n * publish(bar, 43);\n * ```\n * @packageDocumentation\n */\n\nimport { Emitter, StatefulStream, Stream, Subscription, Unsubscribe, subscribe, connect } from './actions'\nimport { RESET, PUBLISH, SUBSCRIBE, VALUE } from './constants'\nimport { tap, noop } from './utils'\n\n/**\n * Constructs a new stateless stream.\n * ```ts\n * const foo = stream<number>();\n * ```\n * @typeParam T the type of values to publish in the stream.\n * @returns a [[Stream]]\n */\nexport function stream<T>(): Stream<T> {\n  const subscriptions = [] as Subscription<T>[]\n\n  return ((action: PUBLISH | SUBSCRIBE | RESET, arg: any) => {\n    switch (action) {\n      case RESET:\n        subscriptions.splice(0, subscriptions.length)\n        return\n      case SUBSCRIBE:\n        subscriptions.push(arg)\n        return () => {\n          const indexOf = subscriptions.indexOf(arg)\n          if (indexOf > -1) {\n            subscriptions.splice(indexOf, 1)\n          }\n        }\n      case PUBLISH:\n        subscriptions.slice().forEach(subscription => {\n          subscription(arg as T)\n        })\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  }) as Stream<T>\n}\n\n/**\n * Constructs a new stateful stream.\n * ```ts\n * const foo = statefulStream(42);\n * ```\n * @param initial the initial value in the stream.\n * @typeParam T the type of values to publish in the stream. If omitted, the function infers it from the initial value.\n * @returns a [[StatefulStream]]\n */\nexport function statefulStream<T>(initial: T): StatefulStream<T> {\n  let value: T = initial\n  const innerSubject = stream<T>()\n\n  return ((action: PUBLISH | SUBSCRIBE | RESET | VALUE, arg: any) => {\n    switch (action) {\n      case SUBSCRIBE:\n        const subscription = arg as Subscription<T>\n        subscription(value)\n        break\n      case PUBLISH:\n        value = arg as T\n        break\n      case VALUE:\n        return value\n    }\n    return innerSubject(action as any, arg)\n  }) as StatefulStream<T>\n}\n\n/**\n * Event handlers are special emitters which can have **at most one active subscription**.\n * Subscribing to an event handler unsubscribes the previous subscription, if present.\n * ```ts\n * const foo = stream<number>();\n * const fooEvent = eventHandler(foo);\n *\n * // will be called once with 42\n * subscribe(fooEvent, (value) => console.log(`Sub 1 ${value}`));\n * publish(foo, 42);\n *\n * // unsubscribes sub 1\n * subscribe(fooEvent, (value) => console.log(`Sub 2 ${value}`));\n * publish(foo, 43);\n * ```\n * @param emitter the source emitter.\n * @returns the single-subscription emitter.\n */\nexport function eventHandler<T>(emitter: Emitter<T>) {\n  let unsub: Unsubscribe | undefined\n  let currentSubscription: any\n  let cleanup = () => unsub && unsub()\n\n  return function(action: SUBSCRIBE | RESET, subscription?: Subscription<T>) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (subscription) {\n          if (currentSubscription === subscription) {\n            return\n          }\n          cleanup()\n          currentSubscription = subscription\n          unsub = subscribe(emitter, subscription!)\n          return unsub\n        } else {\n          cleanup()\n          return noop\n        }\n      case RESET:\n        cleanup()\n        currentSubscription = null\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  } as Emitter<T>\n}\n\n/**\n * Creates and connects a \"junction\" stream to the specified emitter. Often used with [[pipe]], to avoid the multiple evaluation of operator sets.\n *\n * ```ts\n * const foo = stream<number>();\n *\n * const fooX2 = pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`multiplying ${value}`);\n *     return value * 2;\n *   })\n * );\n *\n * subscribe(fooX2, (value) => console.log(value));\n * subscribe(fooX2, (value) => console.log(value));\n *\n * publish(foo, 42); // executes the map operator twice for each subscription.\n *\n * const sharedFooX2 = streamFromEmitter(pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`shared multiplying ${value}`);\n *     return value * 2;\n *   })\n * ));\n *\n * subscribe(sharedFooX2, (value) => console.log(value));\n * subscribe(sharedFooX2, (value) => console.log(value));\n *\n * publish(foo, 42);\n *```\n * @returns the resulting stream.\n */\nexport function streamFromEmitter<T>(emitter: Emitter<T>): Stream<T> {\n  return tap(stream<T>(), stream => connect(emitter, stream))\n}\n\n/**\n * Creates and connects a \"junction\" stateful stream to the specified emitter. Often used with [[pipe]], to avoid the multiple evaluation of operator sets.\n *\n * ```ts\n * const foo = stream<number>();\n *\n * const fooX2 = pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`multiplying ${value}`);\n *     return value * 2;\n *   })\n * );\n *\n * subscribe(fooX2, (value) => console.log(value));\n * subscribe(fooX2, (value) => console.log(value));\n *\n * publish(foo, 42); // executes the map operator twice for each subscription.\n *\n * const sharedFooX2 = statefulStreamFromEmitter(pipe(\n *   foo,\n *   map((value) => {\n *     console.log(`shared multiplying ${value}`);\n *     return value * 2;\n *   })\n * ), 42);\n *\n * subscribe(sharedFooX2, (value) => console.log(value));\n * subscribe(sharedFooX2, (value) => console.log(value));\n *\n * publish(foo, 42);\n *```\n * @param initial the initial value in the stream.\n * @returns the resulting stateful stream.\n */\nexport function statefulStreamFromEmitter<T>(emitter: Emitter<T>, initial: T): StatefulStream<T> {\n  return tap(statefulStream(initial), stream => connect(emitter, stream))\n}\n","/**\n *\n * Stream values can be transformed and controlled by {@link pipe | **piping**} through **operators**.\n * urx includes several operators like [[map]], [[filter]], [[scan]], and [[throttleTime]].\n * The [[withLatestFrom]] operator allows the combination of values from other streams.\n *\n * ```ts\n * const foo = stream<number>()\n *\n * // create an emitter that first adds 2 to the passed value, then multiplies it by * 2\n * const bar = pipe(foo, map(value => value + 2), map(value => value * 2))\n * subscribe(bar, value => console.log(value))\n * publish(foo, 2) // outputs 8\n * ```\n *\n * ### Implementing Custom Operators\n * To implement your own operators, implement the [[Operator]] interface.\n * @packageDocumentation\n */\nimport { compose, thrush } from './utils'\nimport { Emitter, subscribe, Subscription, reset } from './actions'\nimport { SUBSCRIBE, RESET } from './constants'\n\n/**\n * Operators can transform and control the flow of values.\n * [[pipe]] is used to transform one Emitter into another by stacking operators to its values.\n * To build your own operator that looks like the built-in ones,\n * create a function which returns an operator.\n * The following custom operator multiplies the passed value:\n *\n * ```ts\n * function multiplyBy(multiplier: number): Operator<number> {\n *  return done => value => done(value * multiplier)\n * }\n *\n * const foo = stream<number>()\n * const multipliedFoo = pipe(foo, multiplyBy(3))\n * subscribe(multipliedFoo, value => console.log(value))\n * publish(foo, 42)\n * ```\n */\nexport interface Operator<Input, Output = Input> {\n  (done: (value: Output) => void): (value: Input) => void\n}\n\n/** @internal */\ntype CombineOperatorsReturnType<I, O> = (subscriber: (value: O) => void) => (value: I) => void\n\n/** @internal */\nfunction combineOperators<I>(...operators: Operator<any, any>[]): CombineOperatorsReturnType<I, any> {\n  return (subscriber: (value: any) => void) => {\n    return operators.reduceRight(thrush, subscriber)\n  }\n}\n\n/** @internal */\ntype O<I, OP> = Operator<I, OP>\n\n/**\n * Creates a new emitter from the passed one by piping its values through one or more operators.\n * Operators can perform various actions like filter values, pull values from other emitters, or compute new values.\n *\n * ```ts\n * const foo = stream<number>()\n *\n * // create an emitter that first adds 2 to the passed value, then multiplies it by * 2\n * const bar = pipe(foo, map(value => value + 2), map(value => value * 2))\n * subscribe(bar, value => console.log(value))\n * publish(foo, 2) // outputs 8\n * ```\n * #### Sharing Subscription Calculations\n *\n * `pipe` acts as a proxy for the source emitter, and re-runs the operators for each subscription to the derived emitter.\n * Use [[streamFromEmitter]] or [[statefulStreamFromEmitter]] to avoid that.\n */\nexport function pipe<T>(s: Emitter<T>): Emitter<T> // prettier-ignore\nexport function pipe<T, O1>(s: Emitter<T>, o1: O<T, O1>): Emitter<O1> // prettier-ignore\nexport function pipe<T, O1, O2>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>]): Emitter<O2> // prettier-ignore\nexport function pipe<T, O1, O2, O3>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>]): Emitter<O3> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>]): Emitter<O4> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4, O5>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>, O<O4, O5>]): Emitter<O5> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4, O5, O6>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>, O<O4, O5>, O<O5, O6>]): Emitter<O6> // prettier-ignore\nexport function pipe<T, O1, O2, O3, O4, O5, O6, O7>(s: Emitter<T>, ...o: [O<T, O1>, O<O1, O2>, O<O2, O3>, O<O3, O4>, O<O4, O5>, O<O5, O6>, O<O6, O7>]): Emitter<O7> // prettier-ignore\nexport function pipe<T>(source: Emitter<T>, ...operators: O<any, any>[]): Emitter<any> {\n  // prettier-ignore\n  const project = combineOperators(...operators)\n  return ((action: SUBSCRIBE | RESET, subscription: Subscription<any>) => {\n    switch (action) {\n      case SUBSCRIBE:\n        return subscribe(source, project(subscription))\n      case RESET:\n        reset(source)\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  }) as Emitter<any>\n}\n\n/**\n * A function which determines if two values are equal.\n * Implement custom comparators when [[distinctUntilChanged]] needs to work on non-primitive objects.\n * @returns true if values should be considered equal.\n */\nexport interface Comparator<T> {\n  (previous: T, next: T): boolean\n}\n\n/**\n * The default [[Comparator]] for [[distinctUntilChanged]] and [[duc]].\n */\nexport function defaultComparator<T>(previous: T, next: T) {\n  return previous === next\n}\n\n/**\n * Filters out identical values. Pass an optional [[Comparator]] if you need to filter non-primitive values.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, distinctUntilChanged()),\n *  console.log\n * ) // will be called only once\n *\n * publish(foo, 42)\n * publish(foo, 42)\n * ```\n */\nexport function distinctUntilChanged<T>(comparator: Comparator<T> = defaultComparator): Operator<T> {\n  let current: T\n  return done => next => {\n    if (!comparator(current, next)) {\n      current = next\n      done(next)\n    }\n  }\n}\n\n/**\n * Filters out values for which the predicator does not return `true`-ish.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, filter(value => value % 2 === 0)),\n *  console.log\n * ) // will be called only with even values\n *\n * publish(foo, 2)\n * publish(foo, 3)\n * publish(foo, 4)\n * publish(foo, 5)\n * ```\n */\nexport function filter<T>(predicate: (value: T) => boolean): Operator<T> {\n  return done => value => {\n    predicate(value) && done(value)\n  }\n}\n\n/**\n * Maps values using the provided project function.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, map(value => value * 2)),\n *  console.log\n * ) // 4, 6\n *\n * publish(foo, 2)\n * publish(foo, 3)\n * ```\n */\nexport function map<T, K>(project: (value: T) => K): Operator<T, K> {\n  return done => compose(done, project)\n}\n\n/**\n * Maps values to the hard-coded value.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, mapTo(3)),\n *  console.log\n * ) // 3, 3\n *\n * publish(foo, 1)\n * publish(foo, 2)\n * ```\n */\nexport function mapTo<T>(value: T): Operator<any, T> {\n  return done => () => done(value)\n}\n\n/**\n * Works like Array#reduce.\n * Applies an accumulator function on the emitter, and outputs intermediate result. Starts with the initial value.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, scan((acc, value) => acc + value, 2),\n *  console.log\n * ) // 3, 5\n *\n * publish(foo, 1)\n * publish(foo, 2)\n * ```\n */\nexport function scan<T, K>(scanner: (current: T, value: K) => T, initial: T): Operator<K, T> {\n  return done => value => done((initial = scanner(initial, value)))\n}\n\n/**\n * Skips the specified amount of values from the emitter.\n * ```ts\n * const foo = stream<number>()\n *\n * subscribe(\n *  pipe(foo, skip(2)),\n *  console.log\n * ) // 3, 4\n *\n * publish(foo, 1) // skipped\n * publish(foo, 2) // skipped\n * publish(foo, 3)\n * publish(foo, 4)\n * ```\n */\nexport function skip<T>(times: number): Operator<T> {\n  return done => value => {\n    times > 0 ? times-- : done(value)\n  }\n}\n\n/**\n * Throttles flowing values at the provided interval in milliseconds.\n * [Throttle VS Debounce in SO](https://stackoverflow.com/questions/25991367/difference-between-throttling-and-debouncing-a-function).\n *\n * ```ts\n *  const foo = stream<number>()\n *  publish(foo, 1)\n *\n *  setTimeout(() => publish(foo, 2), 20)\n *  setTimeout(() => publish(foo, 3), 20)\n *\n *  subscribe(pipe(foo, throttleTime(50)), val => {\n *    console.log(value); // 3\n *  })\n * ```\n */\nexport function throttleTime<T>(interval: number): Operator<T> {\n  let currentValue: T | undefined\n  let timeout: any\n\n  return done => value => {\n    currentValue = value\n\n    if (timeout) {\n      return\n    }\n\n    timeout = setTimeout(() => {\n      timeout = undefined\n      done(currentValue!)\n    }, interval)\n  }\n}\n\n/**\n * Debounces flowing values at the provided interval in milliseconds.\n * [Throttle VS Debounce in SO](https://stackoverflow.com/questions/25991367/difference-between-throttling-and-debouncing-a-function).\n *\n * ```ts\n *  const foo = stream<number>()\n *  publish(foo, 1)\n *\n *  setTimeout(() => publish(foo, 2), 20)\n *  setTimeout(() => publish(foo, 3), 20)\n *\n *  subscribe(pipe(foo, debounceTime(50)), val => {\n *    console.log(value); // 3\n *  })\n * ```\n */\nexport function debounceTime<T>(interval: number): Operator<T> {\n  let currentValue: T | undefined\n  let timeout: any\n\n  return done => value => {\n    currentValue = value\n    if (timeout) {\n      clearTimeout(timeout)\n    }\n\n    timeout = setTimeout(() => {\n      done(currentValue!)\n    }, interval)\n  }\n}\n\n/**\n * Combines the source Emitter with the latest values from the specified Emitters into an array. Outputs only when the source Emitter emits.\n * See [[combineLatest]] for a transformer that outputs when any of the emitters emit.\n *\n * ```ts\n *  const foo = stream<number>()\n *  const bar = stream<number>()\n *  subscribe(\n *    pipe(\n *      foo,\n *      withLatestFrom(bar)\n *    ),\n *    (([foo, bar]) => console.log({ foo, bar }))\n *  )\n *\n *  publish(foo, 1) // nothing happens, bar has not emitted yet\n *  publish(bar, 1) // still nothing\n *  publish(foo, 2) // logs { foo: 2, bar: 1 }\n *  publish(bar, 2)\n *  publish(foo, 3) // logs { foo: 3, bar: 2 }\n * ```\n */\nexport function withLatestFrom<T, R1>(...s: [Emitter<R1>]): Operator<T, [T, R1]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2>(...s: [Emitter<R1>, Emitter<R2>]): Operator<T, [T, R1, R2]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>]): Operator<T, [T, R1, R2, R3]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>]): Operator<T, [T, R1, R2, R3, R4]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4, R5>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>, Emitter<R5>]): Operator<T, [T, R1, R2, R3, R4, R5]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4, R5, R6>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>, Emitter<R5>, Emitter<R6>]): Operator<T, [T, R1, R2, R3, R4, R5, R6]> // prettier-ignore\nexport function withLatestFrom<T, R1, R2, R3, R4, R5, R6, R7>( ...s: [Emitter<R1>, Emitter<R2>, Emitter<R3>, Emitter<R4>, Emitter<R5>, Emitter<R6>, Emitter<R7>]): Operator<T, [T, R1, R2, R3, R4, R5, R6, R7]> // prettier-ignore\nexport function withLatestFrom(...sources: Emitter<any>[]): Operator<any, any> {\n  const values = new Array(sources.length)\n  let called = 0\n  const allCalled = Math.pow(2, sources.length) - 1\n\n  sources.forEach((source, index) => {\n    const bit = Math.pow(2, index)\n    subscribe(source, value => {\n      called = called | bit\n      values[index] = value\n    })\n  })\n\n  return done => value => {\n    if (called === allCalled) {\n      done([value].concat(values))\n    }\n  }\n}\n","/**\n * Transformers change and combine streams, similar to operators.\n * urx comes with two combinators - [[combineLatest]] and [[merge]], and one convenience filter - [[duc]].\n *\n * @packageDocumentation\n */\nimport { Emitter, publish, reset, subscribe, Subscription } from './actions'\nimport { RESET, SUBSCRIBE } from './constants'\nimport { Comparator, defaultComparator, distinctUntilChanged, pipe } from './pipe'\nimport { stream } from './streams'\nimport { joinProc } from './utils'\n\n/**\n * Merges one or more emitters from the same type into a new Emitter which emits values from any of the source emitters.\n * ```ts\n * const foo = stream<number>()\n * const bar = stream<number>()\n *\n * subscribe(merge(foo, bar), (value) => console.log(value)) // 42, 43\n *\n * publish(foo, 42)\n * publish(bar, 43)\n * ```\n */\nexport function merge<T>(...sources: Emitter<T>[]): Emitter<T> {\n  return function(action: SUBSCRIBE | RESET, subscription?: Subscription<any>) {\n    switch (action) {\n      case SUBSCRIBE:\n        return joinProc(...sources.map(source => subscribe(source, subscription!)))\n      case RESET:\n        // do nothing, we are stateless\n        return\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  } as Emitter<T>\n}\n\n/**\n * A convenience wrapper that emits only the distinct values from the passed Emitter. Wraps [[pipe]] and [[distinctUntilChanged]].\n *\n * ```ts\n * const foo = stream<number>()\n *\n * // this line...\n * const a = duc(foo)\n *\n * // is equivalent to this\n * const b = pipe(distinctUntilChanged(foo))\n * ```\n *\n * @param source The source emitter.\n * @param comparator optional custom comparison function for the two values.\n *\n * @typeParam T the type of the value emitted by the source.\n *\n * @returns the resulting emitter.\n */\nexport function duc<T>(source: Emitter<T>, comparator: Comparator<T> = defaultComparator): Emitter<T> {\n  return pipe(source, distinctUntilChanged(comparator))\n}\n\n/**\n * Creates an emitter with the latest values from all passed emitters as an array.\n *\n * `combineLatest` acts as a Depot. Using it on stateless streams persists the last emitted value of each [[Emitter]].\n * Provided that all emitters have emitted at least once, subscribing to the resulting emitter will immediately receive their combined latest values.\n *\n * ```ts\n * const foo = stream<number>()\n * const bar = stream<number>()\n *\n * subscribe(combineLatest(foo, bar), ([foo, bar]) => console.log({ foo, bar }))\n *\n * publish(foo, 42)\n * publish(bar, 43) // { foo: 42, bar: 43 }\n * publish(foo, 44) // { foo: 44, bar: 43 }\n * publish(bar, 45) // { foo: 44, bar: 45 }\n * ```\n */\nexport function combineLatest<O1, O2>(...emitters: [Emitter<O1>, Emitter<O2>]): Emitter<[O1, O2]> // prettier-ignore\nexport function combineLatest<O1, O2, O3>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>]): Emitter<[O1, O2, O3]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>]): Emitter<[O1, O2, O3, O4]> // prettier-ignore\nexport function combineLatest<O1, O2, O3>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>]): Emitter<[O1, O2, O3]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>]): Emitter<[O1, O2, O3, O4, O5]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>]): Emitter<[O1, O2, O3, O4, O5, O6]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>]): Emitter<[O1, O2, O3, O4, O5, O6, O7]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8, O9>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>, Emitter<O9>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8, O9]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8, O9, O10>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>, Emitter<O9>, Emitter<O10>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8, O9, O10]> // prettier-ignore\nexport function combineLatest<O1, O2, O3, O4, O5, O6, O7, O8, O9, O10, O11>( ...emitters: [Emitter<O1>, Emitter<O2>, Emitter<O3>, Emitter<O4>, Emitter<O5>, Emitter<O6>, Emitter<O7>, Emitter<O8>, Emitter<O9>, Emitter<O10>, Emitter<O11>]): Emitter<[O1, O2, O3, O4, O5, O6, O7, O8, O9, O10, O11]> // prettier-ignore\nexport function combineLatest(...emitters: Emitter<any>[]): Emitter<any> {\n  let innerSubject = stream<any>()\n  const values = new Array(emitters.length)\n  let called = 0\n  const allCalled = Math.pow(2, emitters.length) - 1\n\n  emitters.forEach((source, index) => {\n    const bit = Math.pow(2, index)\n    subscribe(source, value => {\n      values[index] = value\n      called = called | bit\n      if (called === allCalled) {\n        publish(innerSubject, values)\n      }\n    })\n  })\n\n  return function(action: SUBSCRIBE | RESET, subscription?: Subscription<any>) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (called === allCalled) {\n          subscription!(values)\n        }\n        return subscribe(innerSubject, subscription!)\n      case RESET:\n        return reset(innerSubject)\n      default:\n        throw new Error(`unrecognized action ${action}`)\n    }\n  } as Emitter<any>\n}\n","/**\n * ## Thinking in Systems\n * systems are a stateful **data-processing machines** which accept input through **input streams**,\n * init and maintain state in **depots** and, in certain conditions, emit values to subscriptions through **output streams**.\n * Systems can specify other systems as dependencies, and can act as singletons in the resulting dependency tree.\n *\n * ### Depots\n *\n * The first, and probably the most critical part to understand are **the depots**\n * mostly because they are somewhat implicit.\n * Unlike other state management paradigms, the depots are not kept in a single data structure.\n * Insted, depots are defined and maintained as stateful streams, stateful transfomers\n * like [[combineLatest]] or stateful operators like[ []withLatestFrom] or [[scan]].\n *\n * **Depots persist values over time**.\n * If it was not for them, the system had to re-receive its entire input state simultaneously in order to calculate the values for its output stream.\n *\n * Of course, strictly speaking, it is possible to implement a pure, stateless system as a form of a complex map/reduce. urx would not mind that ;).\n *\n * ### Input Streams\n *\n * The system receives updates from the rest of the world through values published in its input streams.\n * The streams used can be either stateless (acting as means to send **signals**) or stateful, where the initial stream state acts as the default value for that system parameter.\n *\n * The effects of the input streams are up to the system data-processing logic. It can change its depots' state, and/or emit values through its output streams.\n *\n * ### Data Processing\n *\n * The actual system behavior is exclusively implemented by **applying transformers and operators** to the input streams, producing the respective output streams.\n * In the final state the system streams are organized in a directed graph, where incoming data is routed through certain edges and nodes.\n * Simple systems like the one in [urx by example](https://urx.virtuoso.dev/docs/urx-by-example) can use a straightforward single-step transformation (in this case, `combineLatest` and `map`),\n * while complex ones can introduce multiple intermediate streams to model their logic.\n *\n * ### Output Streams\n *\n * The system publishes updates to its clients (other systems or an UI bound to it) by publishing data in its output streams.\n * State-reflecting output streams, like `sum` in the [urx by example](https://urx.virtuoso.dev/docs/urx-by-example) should use stateful streams as output streams.\n * Signal-like output should use regular, stateless streams. In general, stateless input streams tend to have a symmetrical stateless streams, and the opposite.\n *\n * @packageDocumentation\n */\nimport { Emitter } from './actions'\n\n/**\n * Systems are a dictionaries of streams. a [[SystemConstructor]] should return a System.\n */\nexport interface System {\n  [key: string]: Emitter<any>\n}\n\n/**\n * a SystemSpec is the result from a [[system]] call. To obtain the [[System]], pass the spec to [[init]].\n */\nexport interface SystemSpec<SS extends SystemSpecs, C extends SystemConstructor<SS>> {\n  id: string\n  constructor: C\n  dependencies: SS\n  singleton: boolean\n}\n\n/** @internal **/\nexport type AnySystemSpec = SystemSpec<any, any>\n\n/** @internal **/\nexport type SystemSpecs = AnySystemSpec[]\n\n/** @internal **/\nexport type SR<E extends AnySystemSpec, R extends System = ReturnType<E['constructor']>> = R\n\n/** @internal **/\nexport type SpecResults<SS extends SystemSpecs, L = SS['length']> = L extends 0\n  ? []\n  : L extends 1\n  ? [SR<SS[0]>]\n  : L extends 2\n  ? [SR<SS[0]>, SR<SS[1]>]\n  : L extends 3\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>]\n  : L extends 4\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>]\n  : L extends 5\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>]\n  : L extends 6\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>]\n  : L extends 7\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>]\n  : L extends 8\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>]\n  : L extends 9\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>, SR<SS[8]>]\n  : L extends 10\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>, SR<SS[8]>, SR<SS[9]>]\n  : L extends 11\n  ? [SR<SS[0]>, SR<SS[1]>, SR<SS[2]>, SR<SS[3]>, SR<SS[4]>, SR<SS[5]>, SR<SS[6]>, SR<SS[7]>, SR<SS[8]>, SR<SS[9]>, SR<SS[10]>]\n  : never\n\n/**\n * The system constructor is a function which initializes and connects streams and returns them as a [[System]].\n * If the [[system]] call specifies system dependencies, the constructor receives the dependencies as an array argument.\n */\nexport type SystemConstructor<D extends SystemSpecs> = (dependencies: SpecResults<D>) => System\n\n/**\n * `system` defines a specification of a system - its constructor, dependencies and if it should act as a singleton in a system dependency tree.\n * When called, system returns a [[SystemSpec]], which is then initialized along with its dependencies by passing it to [[init]].\n *\n * ```ts\n * @import { subscribe, publish, system, init, tup, connect, map, pipe } from 'urx'\n *\n * // a simple system with two streams\n * const sys1 = system(() => {\n *  const a = stream<number>()\n *  const b = stream<number>()\n *\n *  connect(pipe(a, map(value => value * 2)), b)\n *  return { a, b }\n * })\n *\n * // a second system which depends on the streams from the first one\n * const sys2 = system(([ {a, b} ]) => {\n *  const c = stream<number>()\n *  connect(pipe(b, map(value => value * 2)), c)\n *  // re-export the `a` stream, keep `b` internal\n *  return { a, c }\n * }, tup(sys1))\n *\n * // init will recursively initialize sys2 dependencies, in this case sys1\n * const { a, c } = init(sys2)\n * subscribe(c, c => console.log(`Value multiplied by 4`, c))\n * publish(a, 2)\n * ```\n *\n * #### Singletons in Dependency Tree\n *\n * By default, systems will be initialized only once if encountered multiple times in the dependency tree.\n * In the below dependency system tree, systems `b` and `c` will receive the same stream instances from system `a` when system `d` is initialized.\n * ```txt\n *   a\n *  / \\\n * b   c\n *  \\ /\n *   d\n * ```\n * If `a` gets `{singleton: false}` as a last argument, `init` creates two separate instances - one for `b` and one for `c`.\n *\n * @param constructor the system constructor function. Initialize and connect the streams in its body.\n *\n * @param dependencies the system dependencies, which the constructor will receive as arguments.\n * Use the [[tup]] utility **For TypeScript type inference to work correctly**.\n * ```ts\n * const sys3 = system(() => { ... }, tup(sys2, sys1))\n * ```\n * @param __namedParameters Options\n * @param singleton determines if the system will act as a singleton in a system dependency tree. `true` by default.\n */\nexport function system<F extends SystemConstructor<D>, D extends SystemSpecs>(\n  constructor: F,\n  dependencies: D = ([] as unknown) as D,\n  { singleton }: { singleton: boolean } = { singleton: true }\n): SystemSpec<D, F> {\n  return {\n    id: id(),\n    constructor,\n    dependencies,\n    singleton,\n  }\n}\n\n/** @internal */\nconst id = () => (Symbol() as unknown) as string\n\n/**\n * Initializes a [[SystemSpec]] by recursively initializing its dependencies.\n *\n * ```ts\n * // a simple system with two streams\n * const sys1 = system(() => {\n *  const a = stream<number>()\n *  const b = stream<number>()\n *\n *  connect(pipe(a, map(value => value * 2)), b)\n *  return { a, b }\n * })\n *\n * const { a, b } = init(sys1)\n * subscribe(b, b => console.log(b))\n * publish(a, 2)\n * ```\n *\n * @returns the [[System]] constructed by the spec constructor.\n * @param systemSpec the system spec to initialize.\n */\nexport function init<SS extends AnySystemSpec>(systemSpec: SS): SR<SS> {\n  const singletons = new Map<string, System>()\n  const _init = <SS extends AnySystemSpec>({ id, constructor, dependencies, singleton }: SS) => {\n    if (singleton && singletons.has(id)) {\n      return singletons.get(id)! as SR<SS>\n    }\n    const system = constructor(dependencies.map((e: AnySystemSpec) => _init(e)))\n    if (singleton) {\n      singletons.set(id, system)\n    }\n    return system as any\n  }\n  return _init(systemSpec)\n}\n","/**\n * `@virtuoso.dev/react-urx` exports the [[systemToComponent]] function.\n * It wraps urx systems in to UI **logic provider components**,\n * mapping the system input and output streams to the component input / output points.\n *\n * ### Simple System wrapped as React Component\n *\n * ```tsx\n * const sys = system(() => {\n *   const foo = statefulStream(42)\n *   return { foo }\n * })\n *\n * const { Component: MyComponent, useEmitterValue } = systemToComponent(sys, {\n *   required: { fooProp: 'foo' },\n * })\n *\n * const Child = () => {\n *   const foo = useEmitterValue('foo')\n *   return <div>{foo}</div>\n * }\n *\n * const App = () => {\n *   return <Comp fooProp={42}><Child /><Comp>\n * }\n * ```\n *\n * @packageDocumentation\n */\nimport * as React from 'react'\nimport {\n  ComponentType,\n  createContext,\n  createElement,\n  forwardRef,\n  ForwardRefExoticComponent,\n  ReactNode,\n  RefAttributes,\n  useContext,\n  useImperativeHandle,\n  useState,\n  useCallback,\n} from 'react'\nimport {\n  AnySystemSpec,\n  reset,\n  curry1to0,\n  curry2to1,\n  Emitter,\n  SR,\n  eventHandler,\n  getValue,\n  publish,\n  Publisher,\n  init,\n  StatefulStream,\n  Stream,\n  subscribe,\n  always,\n  tap,\n} from '@virtuoso.dev/urx'\n\n/** @internal */\ninterface Dict<T> {\n  [key: string]: T\n}\n\n/** @internal */\nfunction omit<O extends Dict<any>, K extends readonly string[]>(keys: K, obj: O): Omit<O, K[number]> {\n  var result = {} as Dict<any>\n  var index = {} as Dict<1>\n  var idx = 0\n  var len = keys.length\n\n  while (idx < len) {\n    index[keys[idx]] = 1\n    idx += 1\n  }\n\n  for (var prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop]\n    }\n  }\n\n  return result as any\n}\n\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\n/** @internal */\nexport type Observable<T> = Emitter<T> | Publisher<T>\n\n/**\n * Describes the mapping between the system streams and the component properties.\n * Each property uses the keys as the names of the properties and the values as the corresponding stream names.\n * @typeParam SS the type of the system.\n */\nexport interface SystemPropsMap<SS extends AnySystemSpec, K = keyof SR<SS>, D = { [key: string]: K }> {\n  /**\n   * Specifies the required component properties.\n   */\n  required?: D\n  /**\n   * Specifies the optional component properties.\n   */\n  optional?: D\n  /**\n   * Specifies the component methods, if any. Streams are converted to methods with a single argument.\n   * When invoked, the method publishes the value of the argument to the specified stream.\n   */\n  methods?: D\n  /**\n   * Specifies the component \"event\" properties, if any.\n   * Event properties accept callback functions which get executed when the stream emits a new value.\n   */\n  events?: D\n}\n\n/** @internal */\nexport type PropsFromPropMap<E extends AnySystemSpec, M extends SystemPropsMap<E>> = {\n  [K in Extract<keyof M['required'], string>]: M['required'][K] extends string\n    ? SR<E>[M['required'][K]] extends Observable<infer R>\n      ? R\n      : never\n    : never\n} &\n  {\n    [K in Extract<keyof M['optional'], string>]?: M['optional'][K] extends string\n      ? SR<E>[M['optional'][K]] extends Observable<infer R>\n        ? R\n        : never\n      : never\n  } &\n  {\n    [K in Extract<keyof M['events'], string>]?: M['events'][K] extends string\n      ? SR<E>[M['events'][K]] extends Observable<infer R>\n        ? (value: R) => void\n        : never\n      : never\n  }\n\n/** @internal */\nexport type MethodsFromPropMap<E extends AnySystemSpec, M extends SystemPropsMap<E>> = {\n  [K in Extract<keyof M['methods'], string>]: M['methods'][K] extends string\n    ? SR<E>[M['methods'][K]] extends Observable<infer R>\n      ? (value: R) => void\n      : never\n    : never\n}\n\n/**\n * Used to correctly specify type refs for system components\n *\n * ```tsx\n * const s = system(() => { return { a: statefulStream(0) } })\n * const { Component } = systemToComponent(s)\n *\n * const App = () => {\n *  const ref = useRef<RefHandle<typeof Component>>()\n *  return <Component ref={ref} />\n * }\n * ```\n *\n * @typeParam T the type of the component\n */\nexport type RefHandle<T> = T extends ForwardRefExoticComponent<RefAttributes<infer Handle>> ? Handle : never\n\n/**\n * Converts a system spec to React component by mapping the system streams to component properties, events and methods. Returns hooks for querying and modifying\n * the system streams from the component's child components.\n * @param systemSpec The return value from a [[system]] call.\n * @param map The streams to props / events / methods mapping Check [[SystemPropsMap]] for more details.\n * @param Root The optional React component to render. By default, the resulting component renders nothing, acting as a logical wrapper for its children.\n * @returns an object containing the following:\n *  - `Component`: the React component.\n *  - `useEmitterValue`: a hook that lets child components use values emitted from the specified output stream.\n *  - `useEmitter`: a hook that calls the provided callback whenever the specified stream emits a value.\n *  - `usePublisher`: a hook which lets child components publish values to the specified stream.\n *  <hr />\n */\nexport function systemToComponent<SS extends AnySystemSpec, M extends SystemPropsMap<SS>, S extends SR<SS>, R>(\n  systemSpec: SS,\n  map: M,\n  Root?: R\n) {\n  const requiredPropNames = Object.keys(map.required || {})\n  const optionalPropNames = Object.keys(map.optional || {})\n  const methodNames = Object.keys(map.methods || {})\n  const eventNames = Object.keys(map.events || {})\n  const Context = createContext<SR<SS>>(({} as unknown) as any)\n\n  type RootCompProps = R extends ComponentType<infer RP> ? RP : { children?: ReactNode }\n\n  type CompProps = PropsFromPropMap<SS, M> & RootCompProps\n\n  type CompMethods = MethodsFromPropMap<SS, M>\n\n  function applyPropsToSystem(system: ReturnType<SS['constructor']>, props: any) {\n    if (system['propsReady']) {\n      publish(system['propsReady'], false)\n    }\n\n    for (const requiredPropName of requiredPropNames) {\n      const stream = system[map.required![requiredPropName]]\n      publish(stream, (props as any)[requiredPropName])\n    }\n\n    for (const optionalPropName of optionalPropNames) {\n      if (optionalPropName in props) {\n        const stream = system[map.optional![optionalPropName]]\n        publish(stream, (props as any)[optionalPropName])\n      }\n    }\n\n    if (system['propsReady']) {\n      publish(system['propsReady'], true)\n    }\n  }\n\n  function buildMethods(system: ReturnType<SS['constructor']>) {\n    return methodNames.reduce((acc, methodName) => {\n      ;(acc as any)[methodName] = (value: any) => {\n        const stream = system[map.methods![methodName]]\n        publish(stream, value)\n      }\n      return acc\n    }, {} as CompMethods)\n  }\n\n  function buildEventHandlers(system: ReturnType<SS['constructor']>) {\n    return eventNames.reduce((handlers, eventName) => {\n      handlers[eventName] = eventHandler(system[map.events![eventName]])\n      return handlers\n    }, {} as { [key: string]: Emitter<any> })\n  }\n\n  /**\n   * A React component generated from an urx system\n   */\n  const Component = forwardRef<CompMethods, CompProps>((propsWithChildren, ref) => {\n    const { children, ...props } = propsWithChildren as any\n\n    const [system] = useState(() => {\n      return tap(init(systemSpec), system => applyPropsToSystem(system, props))\n    })\n\n    const [handlers] = useState(curry1to0(buildEventHandlers, system))\n\n    useIsomorphicLayoutEffect(() => {\n      for (const eventName of eventNames) {\n        if (eventName in props) {\n          subscribe(handlers[eventName], props[eventName])\n        }\n      }\n      return () => {\n        Object.values(handlers).map(reset)\n      }\n    }, [props, handlers, system])\n\n    useIsomorphicLayoutEffect(() => {\n      applyPropsToSystem(system, props)\n    })\n\n    useImperativeHandle(ref, always(buildMethods(system)))\n\n    return createElement(\n      Context.Provider,\n      { value: system },\n      Root\n        ? createElement(\n            (Root as unknown) as ComponentType,\n            omit([...requiredPropNames, ...optionalPropNames, ...eventNames], props),\n            children\n          )\n        : children\n    )\n  })\n\n  const usePublisher = <K extends keyof S>(key: K) => {\n    return useCallback(curry2to1(publish, React.useContext(Context)[key]), [key]) as (\n      value: S[K] extends Stream<infer R> ? R : never\n    ) => void\n  }\n\n  /**\n   * Returns the value emitted from the stream.\n   */\n  const useEmitterValue = <K extends keyof S, V = S[K] extends StatefulStream<infer R> ? R : never>(key: K) => {\n    const context = useContext(Context)\n    const source: StatefulStream<V> = context[key]\n\n    const [value, setValue] = useState(curry1to0(getValue, source))\n\n    useIsomorphicLayoutEffect(\n      () =>\n        subscribe(source, (next: V) => {\n          if (next !== value) {\n            setValue(always(next))\n          }\n        }),\n      [source, value]\n    )\n\n    return value\n  }\n\n  const useEmitter = <K extends keyof S, V = S[K] extends Stream<infer R> ? R : never>(key: K, callback: (value: V) => void) => {\n    const context = useContext(Context)\n    const source: Stream<V> = context[key]\n    useIsomorphicLayoutEffect(() => subscribe(source, callback), [callback, source])\n  }\n\n  return {\n    Component,\n    usePublisher,\n    useEmitterValue,\n    useEmitter,\n  }\n}\n","import { ListRange } from './interfaces'\n\nexport function tupleComparator(prev: [any, any] | undefined, current: [any, any]) {\n  return !!(prev && prev[0] === current[0] && prev[1] === current[1])\n}\n\nexport function rangeComparator(prev: ListRange | undefined, next: ListRange) {\n  return !!(prev && prev.startIndex === next.startIndex && prev.endIndex === next.endIndex)\n}\n","import * as u from '@virtuoso.dev/urx'\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\ndeclare namespace globalThis {\n  let VIRTUOSO_LOG_LEVEL: LogLevel | undefined\n}\n\nexport enum LogLevel {\n  DEBUG,\n  INFO,\n  WARN,\n  ERROR,\n}\nexport interface LogMessage {\n  level: LogLevel\n  message: any\n  label: string\n}\n\nexport type Log = (label: string, message: any, level?: LogLevel) => void\n\nconst CONSOLE_METHOD_MAP = {\n  [LogLevel.DEBUG]: 'debug',\n  [LogLevel.INFO]: 'log',\n  [LogLevel.WARN]: 'warn',\n  [LogLevel.ERROR]: 'error',\n} as const\n\nexport const loggerSystem = u.system(\n  () => {\n    const logLevel = u.statefulStream<LogLevel>(LogLevel.ERROR)\n    const log = u.statefulStream<Log>((label: string, message: any, level: LogLevel = LogLevel.INFO) => {\n      const currentLevel = globalThis['VIRTUOSO_LOG_LEVEL'] ?? u.getValue(logLevel)\n      if (level >= currentLevel) {\n        console[CONSOLE_METHOD_MAP[level]]('%creact-virtuoso: %c%s %o', 'color: #0253b3; font-weight: bold', 'color: black', label, message)\n      }\n    })\n\n    return {\n      log,\n      logLevel,\n    }\n  },\n  [],\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\n\nexport const UP = 'up' as const\nexport const DOWN = 'down' as const\nexport type ScrollDirection = typeof UP | typeof DOWN\n\nexport const domIOSystem = u.system(\n  () => {\n    const scrollTop = u.stream<number>()\n    const deviation = u.statefulStream(0)\n    const smoothScrollTargetReached = u.stream<true>()\n    const statefulScrollTop = u.statefulStream(0)\n    const viewportHeight = u.stream<number>()\n    const headerHeight = u.statefulStream(0)\n    const footerHeight = u.statefulStream(0)\n    const scrollTo = u.stream<ScrollToOptions>()\n    const scrollBy = u.stream<ScrollToOptions>()\n    const scrollingInProgress = u.statefulStream(false)\n\n    u.connect(scrollTop, statefulScrollTop)\n    const scrollDirection = u.statefulStream<ScrollDirection>(DOWN)\n\n    u.connect(\n      u.pipe(\n        scrollTop,\n        u.scan(\n          (acc, scrollTop) => {\n            return { direction: scrollTop < acc.prevScrollTop ? UP : DOWN, prevScrollTop: scrollTop }\n          },\n          { direction: DOWN, prevScrollTop: 0 } as { direction: ScrollDirection; prevScrollTop: number }\n        ),\n        u.map((value) => value.direction)\n      ),\n      scrollDirection\n    )\n\n    return {\n      // input\n      scrollTop,\n      viewportHeight,\n      headerHeight,\n      footerHeight,\n      smoothScrollTargetReached,\n\n      // signals\n      scrollTo,\n      scrollBy,\n\n      // state\n      scrollDirection,\n      statefulScrollTop,\n      deviation,\n      scrollingInProgress,\n    }\n  },\n  [],\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { getValue, tup } from '@virtuoso.dev/urx'\nimport { loggerSystem, LogLevel } from './loggerSystem'\n\nexport const propsReadySystem = u.system(\n  ([{ log }]) => {\n    const propsReady = u.statefulStream(false)\n\n    const didMount = u.streamFromEmitter(\n      u.pipe(\n        propsReady,\n        u.filter((ready) => ready),\n        u.distinctUntilChanged()\n      )\n    )\n    u.subscribe(propsReady, (value) => {\n      value && getValue(log)('props updated', {}, LogLevel.DEBUG)\n    })\n\n    return { propsReady, didMount }\n  },\n  tup(loggerSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\n\nexport interface ListBottomInfo {\n  bottom: number\n  offsetBottom: number\n}\n\nexport interface AtBottomParams {\n  offsetBottom: number\n  scrollTop: number\n  viewportHeight: number\n  totalHeight: number\n}\n\nexport type NotAtBottomReason =\n  | 'SIZE_INCREASED'\n  | 'NOT_SHOWING_LAST_ITEM'\n  | 'VIEWPORT_HEIGHT_DECREASING'\n  | 'SCROLLING_UPWARDS'\n  | 'NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM'\n\nexport type AtBottomState =\n  | {\n      atBottom: false\n      notAtBottomBecause: NotAtBottomReason\n      state: AtBottomParams\n    }\n  | {\n      atBottom: true\n      state: AtBottomParams\n    }\n\nconst INITIAL_BOTTOM_STATE = {\n  atBottom: false,\n  notAtBottomBecause: 'NOT_SHOWING_LAST_ITEM',\n  state: {\n    offsetBottom: 0,\n    scrollTop: 0,\n    viewportHeight: 0,\n    totalHeight: 0,\n  },\n} as AtBottomState\n\nconst BOTTOM_THRESHOLD_TOLERANCE = 4\n\nexport const stateFlagsSystem = u.system(([{ scrollTop, viewportHeight, headerHeight, footerHeight }]) => {\n  const isAtBottom = u.statefulStream(false)\n  const isAtTop = u.statefulStream(true)\n  const atBottomStateChange = u.stream<boolean>()\n  const atTopStateChange = u.stream<boolean>()\n  const listStateListener = u.stream<ListBottomInfo>()\n\n  // skip 1 to avoid an initial on/off flick\n  const isScrolling = u.streamFromEmitter(\n    u.pipe(\n      u.merge(u.pipe(u.duc(scrollTop), u.skip(1), u.mapTo(true)), u.pipe(u.duc(scrollTop), u.skip(1), u.mapTo(false), u.debounceTime(100))),\n      u.distinctUntilChanged()\n    )\n  )\n\n  u.connect(\n    u.pipe(\n      u.duc(scrollTop),\n      u.map((top) => top === 0),\n      u.distinctUntilChanged()\n    ),\n    isAtTop\n  )\n\n  u.connect(isAtTop, atTopStateChange)\n\n  const atBottomState = u.streamFromEmitter(\n    u.pipe(\n      u.combineLatest(listStateListener, u.duc(scrollTop), u.duc(viewportHeight), u.duc(headerHeight), u.duc(footerHeight)),\n      u.scan((current, [{ bottom, offsetBottom }, scrollTop, viewportHeight, headerHeight, footerHeight]) => {\n        const viewportContentsHeight = bottom + headerHeight + footerHeight\n        const isAtBottom = offsetBottom === 0 && scrollTop + viewportHeight - viewportContentsHeight > -BOTTOM_THRESHOLD_TOLERANCE\n        const state = {\n          viewportHeight,\n          scrollTop,\n          offsetBottom,\n          totalHeight: bottom + offsetBottom,\n        }\n\n        if (isAtBottom) {\n          return {\n            atBottom: true,\n            state,\n          } as AtBottomState\n        }\n\n        let notAtBottomBecause: NotAtBottomReason\n\n        if (state.totalHeight > current.state.totalHeight) {\n          notAtBottomBecause = 'SIZE_INCREASED'\n        } else if (offsetBottom !== 0) {\n          notAtBottomBecause = 'NOT_SHOWING_LAST_ITEM'\n        } else if (viewportHeight < current.state.viewportHeight) {\n          notAtBottomBecause = 'VIEWPORT_HEIGHT_DECREASING'\n        } else if (scrollTop < current.state.scrollTop) {\n          notAtBottomBecause = 'SCROLLING_UPWARDS'\n        } else {\n          notAtBottomBecause = 'NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM'\n        }\n\n        return {\n          atBottom: false,\n          notAtBottomBecause,\n          state,\n        } as AtBottomState\n      }, INITIAL_BOTTOM_STATE),\n      u.distinctUntilChanged((prev, next) => {\n        // prev && console.log(prev.atBottom, next.atBottom)\n        return prev && prev.atBottom === next.atBottom\n      })\n    )\n  )\n\n  u.connect(\n    u.pipe(\n      atBottomState,\n      u.map((state) => state.atBottom)\n    ),\n    isAtBottom\n  )\n\n  u.subscribe(isAtBottom, (value) => {\n    setTimeout(() => u.publish(atBottomStateChange, value))\n  })\n\n  // connect(isAtBottom, atBottomStateChange)\n\n  return { isScrolling, isAtTop, isAtBottom, atBottomState, atTopStateChange, atBottomStateChange, listStateListener }\n}, u.tup(domIOSystem))\n","import {\n  combineLatest,\n  connect,\n  distinctUntilChanged,\n  filter,\n  map,\n  mapTo,\n  pipe,\n  scan,\n  statefulStream,\n  stream,\n  subscribe,\n  system,\n  throttleTime,\n  tup,\n  withLatestFrom,\n} from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { ListRange } from './interfaces'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { ScrollSeekConfiguration } from './interfaces'\n\nexport const scrollSeekSystem = system(\n  ([{ scrollTop }, { isScrolling }]) => {\n    const scrollVelocity = statefulStream(0)\n    const isSeeking = statefulStream(false)\n    const rangeChanged = stream<ListRange>()\n    const scrollSeekConfiguration = statefulStream<ScrollSeekConfiguration | undefined | false>(false)\n\n    connect(\n      pipe(\n        isScrolling,\n        filter((value) => !value),\n        mapTo(0)\n      ),\n      scrollVelocity\n    )\n\n    connect(\n      pipe(\n        scrollTop,\n        throttleTime(100),\n        withLatestFrom(isScrolling),\n        filter(([_, isScrolling]) => !!isScrolling),\n        scan(([_, prev], [next]) => [prev, next], [0, 0]),\n        map(([prev, next]) => next - prev)\n      ),\n      scrollVelocity\n    )\n\n    connect(\n      pipe(\n        scrollVelocity,\n        withLatestFrom(scrollSeekConfiguration, isSeeking, rangeChanged),\n        filter(([_, config]) => !!config),\n        map(([speed, config, isSeeking, range]) => {\n          const { exit, enter } = config as ScrollSeekConfiguration\n          if (isSeeking) {\n            if (exit(speed, range)) {\n              return false\n            }\n          } else {\n            if (enter(speed, range)) {\n              return true\n            }\n          }\n          return isSeeking\n        }),\n        distinctUntilChanged()\n      ),\n      isSeeking\n    )\n\n    subscribe(\n      pipe(combineLatest(isSeeking, scrollVelocity, rangeChanged), withLatestFrom(scrollSeekConfiguration)),\n      ([[isSeeking, velocity, range], config]) => isSeeking && config && config.change && config.change(velocity, range)\n    )\n\n    return { isSeeking, scrollSeekConfiguration, scrollVelocity, scrollSeekRangeChanged: rangeChanged }\n  },\n  tup(domIOSystem, stateFlagsSystem),\n  { singleton: true }\n)\n","interface NilNode {\n  lvl: 0\n}\n\nconst NIL_NODE: NilNode = { lvl: 0 }\n\ninterface NodeData<T> {\n  k: number\n  v: T\n}\n\ninterface NonNilAANode<T> {\n  k: number\n  v: T\n  lvl: number\n  l: NonNilAANode<T> | NilNode\n  r: NonNilAANode<T> | NilNode\n}\n\nexport interface Range<T> {\n  start: number\n  end: number\n  value: T\n}\n\nexport type AANode<T> = NilNode | NonNilAANode<T>\n\nfunction newAANode<T>(k: number, v: T, lvl: number, l: AANode<T> = NIL_NODE, r: AANode<T> = NIL_NODE): NonNilAANode<T> {\n  return { k, v, lvl, l, r }\n}\n\nexport function empty(node: AANode<any>): node is NilNode {\n  return node === NIL_NODE\n}\n\nexport function newTree<T>(): AANode<T> {\n  return NIL_NODE\n}\n\nexport function remove<T>(node: AANode<T>, key: number): AANode<T> {\n  if (empty(node)) return NIL_NODE\n\n  const { k, l, r } = node\n\n  if (key === k) {\n    if (empty(l)) {\n      return r\n    } else if (empty(r)) {\n      return l\n    } else {\n      const [lastKey, lastValue] = last(l)\n      return adjust(clone(node, { k: lastKey, v: lastValue, l: deleteLast(l) }))\n    }\n  } else if (key < k) {\n    return adjust(clone(node, { l: remove(l, key) }))\n  } else {\n    return adjust(clone(node, { r: remove(r, key) }))\n  }\n}\n\nexport function find<T>(node: AANode<T>, key: number): T | undefined {\n  if (empty(node)) {\n    return\n  }\n\n  if (key === node.k) {\n    return node.v\n  } else if (key < node.k) {\n    return find(node.l, key)\n  } else {\n    return find(node.r, key)\n  }\n}\n\nexport function findMaxKeyValue<T>(node: AANode<T>, value: number, field: 'k' | 'v' = 'k'): [number, T | undefined] {\n  if (empty(node)) {\n    return [-Infinity, undefined]\n  }\n\n  if (node[field] === value) {\n    return [node.k, node.v]\n  }\n\n  if (node[field] < value) {\n    const r = findMaxKeyValue(node.r, value, field)\n    if (r[0] === -Infinity) {\n      return [node.k, node.v]\n    } else {\n      return r\n    }\n  }\n\n  return findMaxKeyValue(node.l, value, field)\n}\n\nexport function insert<T>(node: AANode<T>, k: number, v: T): NonNilAANode<T> {\n  if (empty(node)) {\n    return newAANode(k, v, 1)\n  }\n  if (k === node.k) {\n    return clone(node, { k, v })\n  } else if (k < node.k) {\n    return rebalance(clone(node, { l: insert(node.l, k, v) }))\n  } else {\n    return rebalance(clone(node, { r: insert(node.r, k, v) }))\n  }\n}\n\nexport function walkWithin<T>(node: AANode<T>, start: number, end: number): NodeData<T>[] {\n  if (empty(node)) {\n    return []\n  }\n\n  const { k, v, l, r } = node\n  let result: NodeData<T>[] = []\n  if (k > start) {\n    result = result.concat(walkWithin(l, start, end))\n  }\n\n  if (k >= start && k <= end) {\n    result.push({ k, v })\n  }\n\n  if (k <= end) {\n    result = result.concat(walkWithin(r, start, end))\n  }\n\n  return result\n}\n\nexport function walk<T>(node: AANode<T>): NodeData<T>[] {\n  if (empty(node)) {\n    return []\n  }\n\n  return [...walk(node.l), { k: node.k, v: node.v }, ...walk(node.r)]\n}\n\nfunction last<T>(node: NonNilAANode<T>): [number, T] {\n  return empty(node.r) ? [node.k, node.v] : last(node.r)\n}\n\nfunction deleteLast<T>(node: NonNilAANode<T>): AANode<T> {\n  return empty(node.r) ? node.l : adjust(clone(node, { r: deleteLast(node.r) }))\n}\n\nfunction clone<T>(node: NonNilAANode<T>, args: Partial<NonNilAANode<T>>): NonNilAANode<T> {\n  return newAANode(\n    args.k !== undefined ? args.k : node.k,\n    args.v !== undefined ? args.v : node.v,\n    args.lvl !== undefined ? args.lvl : node.lvl,\n    args.l !== undefined ? args.l : node.l,\n    args.r !== undefined ? args.r : node.r\n  )\n}\n\nfunction isSingle(node: AANode<any>) {\n  return empty(node) || node.lvl > node.r.lvl\n}\n\nfunction rebalance<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  return split(skew(node))\n}\n\nfunction adjust<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  const { l, r, lvl } = node\n  if (r.lvl >= lvl - 1 && l.lvl >= lvl - 1) {\n    return node\n  } else if (lvl > r.lvl + 1) {\n    if (isSingle(l)) {\n      return skew(clone(node, { lvl: lvl - 1 }))\n    } else {\n      if (!empty(l) && !empty(l.r)) {\n        return clone(l.r, {\n          l: clone(l, { r: l.r.l }),\n          r: clone(node, {\n            l: l.r.r,\n            lvl: lvl - 1,\n          }),\n          lvl: lvl,\n        })\n      } else {\n        throw new Error('Unexpected empty nodes')\n      }\n    }\n  } else {\n    if (isSingle(node)) {\n      return split(clone(node, { lvl: lvl - 1 }))\n    } else {\n      if (!empty(r) && !empty(r.l)) {\n        const rl = r.l\n        const rlvl = isSingle(rl) ? r.lvl - 1 : r.lvl\n\n        return clone(rl, {\n          l: clone(node, {\n            r: rl.l,\n            lvl: lvl - 1,\n          }),\n          r: split(clone(r, { l: rl.r, lvl: rlvl })),\n          lvl: rl.lvl + 1,\n        })\n      } else {\n        throw new Error('Unexpected empty nodes')\n      }\n    }\n  }\n}\n\nexport function keys(node: AANode<any>): number[] {\n  if (empty(node)) {\n    return []\n  }\n  return [...keys(node.l), node.k, ...keys(node.r)]\n}\n\nexport function ranges<T>(node: AANode<T>): Range<T>[] {\n  return toRanges(walk(node))\n}\n\nexport function rangesWithin<T>(node: AANode<T>, startIndex: number, endIndex: number): Range<T>[] {\n  if (empty(node)) {\n    return []\n  }\n  const adjustedStart = findMaxKeyValue(node, startIndex)[0]\n  return toRanges(walkWithin(node, adjustedStart, endIndex))\n}\n\nexport function arrayToRanges<T, V>(\n  items: T[],\n  parser: (item: T) => { index: number; value: V }\n): Array<{ start: number; end: number; value: V }> {\n  const length = items.length\n  if (length === 0) {\n    return []\n  }\n\n  let { index: start, value } = parser(items[0])\n\n  const result = []\n\n  for (let i = 1; i < length; i++) {\n    const { index: nextIndex, value: nextValue } = parser(items[i])\n    result.push({ start, end: nextIndex - 1, value })\n\n    start = nextIndex\n    value = nextValue\n  }\n\n  result.push({ start, end: Infinity, value })\n  return result\n}\n\nfunction toRanges<T>(nodes: NodeData<T>[]): Range<T>[] {\n  return arrayToRanges(nodes, ({ k: index, v: value }) => ({ index, value }))\n}\n\nfunction split<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  const { r, lvl } = node\n\n  return !empty(r) && !empty(r.r) && r.lvl === lvl && r.r.lvl === lvl ? clone(r, { l: clone(node, { r: r.l }), lvl: lvl + 1 }) : node\n}\n\nfunction skew<T>(node: NonNilAANode<T>): NonNilAANode<T> {\n  const { l } = node\n\n  return !empty(l) && l.lvl === node.lvl ? clone(l, { r: clone(node, { l: l.r }) }) : node\n}\n","export type Comparator<T> = {\n  (item: T, value: number): -1 | 0 | 1\n}\n\nexport function findIndexOfClosestSmallerOrEqual<T>(items: T[], value: number, comparator: Comparator<T>, start = 0): number {\n  let end = items.length - 1\n\n  while (start <= end) {\n    const index = Math.floor((start + end) / 2)\n    const item = items[index]\n    const match = comparator(item, value)\n    if (match === 0) {\n      return index\n    }\n\n    if (match === -1) {\n      if (end - start < 2) {\n        return index - 1\n      }\n      end = index - 1\n    } else {\n      if (end === start) {\n        return index\n      }\n      start = index + 1\n    }\n  }\n\n  throw new Error(`Failed binary finding record in array - ${items.join(',')}, searched for ${value}`)\n}\n\nexport function findClosestSmallerOrEqual<T>(items: T[], value: number, comparator: Comparator<T>): T {\n  return items[findIndexOfClosestSmallerOrEqual(items, value, comparator)]\n}\n\nexport function findRange<T>(items: T[], startValue: number, endValue: number, comparator: Comparator<T>): T[] {\n  const startIndex = findIndexOfClosestSmallerOrEqual(items, startValue, comparator)\n  const endIndex = findIndexOfClosestSmallerOrEqual(items, endValue, comparator, startIndex)\n  return items.slice(startIndex, endIndex + 1)\n}\n","export function correctItemSize(el: HTMLElement, dimension: 'height' | 'width') {\n  return Math.round(el.getBoundingClientRect()[dimension])\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { arrayToRanges, AANode, empty, findMaxKeyValue, insert, newTree, Range, rangesWithin, remove, walk } from './AATree'\nimport * as arrayBinarySearch from './utils/binaryArraySearch'\nimport { correctItemSize } from './utils/correctItemSize'\nimport { loggerSystem, Log, LogLevel } from './loggerSystem'\n\nexport interface SizeRange {\n  startIndex: number\n  endIndex: number\n  size: number\n}\n\nexport type Data = readonly unknown[] | undefined\n\nfunction rangeIncludes(refRange: SizeRange) {\n  const { size, startIndex, endIndex } = refRange\n  return (range: Range<number>) => {\n    return range.start === startIndex && (range.end === endIndex || range.end === Infinity) && range.value === size\n  }\n}\n\nexport function insertRanges(sizeTree: AANode<number>, ranges: SizeRange[]) {\n  let syncStart = empty(sizeTree) ? 0 : Infinity\n\n  for (const range of ranges) {\n    const { size, startIndex, endIndex } = range\n    syncStart = Math.min(syncStart, startIndex)\n\n    if (empty(sizeTree)) {\n      sizeTree = insert(sizeTree, 0, size)\n      continue\n    }\n\n    // extend the range in both directions, so that we can get adjacent neighbours.\n    // if the previous / next ones have the same value as the one we are about to insert,\n    // we 'merge' them.\n    const overlappingRanges = rangesWithin(sizeTree, startIndex - 1, endIndex + 1)\n\n    if (overlappingRanges.some(rangeIncludes(range))) {\n      continue\n    }\n\n    let firstPassDone = false\n    let shouldInsert = false\n    for (const { start: rangeStart, end: rangeEnd, value: rangeValue } of overlappingRanges) {\n      // previous range\n      if (!firstPassDone) {\n        shouldInsert = rangeValue !== size\n        firstPassDone = true\n      } else {\n        // remove the range if it starts within the new range OR if\n        // it has the same value as it, in order to perform a merge\n        if (endIndex >= rangeStart || size === rangeValue) {\n          sizeTree = remove(sizeTree, rangeStart)\n        }\n      }\n\n      // next range\n      if (rangeEnd > endIndex && endIndex >= rangeStart) {\n        if (rangeValue !== size) {\n          sizeTree = insert(sizeTree, endIndex + 1, rangeValue)\n        }\n      }\n    }\n\n    if (shouldInsert) {\n      sizeTree = insert(sizeTree, startIndex, size)\n    }\n  }\n  return [sizeTree, syncStart] as const\n}\n\nexport interface OffsetPoint {\n  offset: number\n  size: number\n  index: number\n}\n\nexport interface SizeState {\n  sizeTree: AANode<number>\n  offsetTree: Array<OffsetPoint>\n  groupOffsetTree: AANode<number>\n  lastIndex: number\n  lastOffset: number\n  lastSize: number\n  groupIndices: number[]\n}\n\nexport function initialSizeState(): SizeState {\n  return {\n    offsetTree: [],\n    sizeTree: newTree<number>(),\n    groupOffsetTree: newTree<number>(),\n    lastIndex: 0,\n    lastOffset: 0,\n    lastSize: 0,\n    groupIndices: [],\n  }\n}\n\nexport function indexComparator({ index: itemIndex }: OffsetPoint, index: number) {\n  return index === itemIndex ? 0 : index < itemIndex ? -1 : 1\n}\n\nexport function offsetComparator({ offset: itemOffset }: OffsetPoint, offset: number) {\n  return offset === itemOffset ? 0 : offset < itemOffset ? -1 : 1\n}\n\nfunction offsetPointParser(point: OffsetPoint) {\n  return { index: point.index, value: point }\n}\n\nexport function rangesWithinOffsets(\n  tree: Array<OffsetPoint>,\n  startOffset: number,\n  endOffset: number,\n  minStartIndex = 0\n): Array<{\n  start: number\n  end: number\n  value: {\n    size: number\n    offset: number\n    index: number\n  }\n}> {\n  if (minStartIndex > 0) {\n    startOffset = Math.max(startOffset, arrayBinarySearch.findClosestSmallerOrEqual(tree, minStartIndex, indexComparator).offset)\n  }\n\n  return arrayToRanges(arrayBinarySearch.findRange(tree, startOffset, endOffset, offsetComparator), offsetPointParser)\n}\n\nexport function sizeStateReducer(state: SizeState, [ranges, groupIndices, log]: [SizeRange[], number[], Log]) {\n  if (ranges.length > 0) {\n    log('received item sizes', ranges, LogLevel.DEBUG)\n  }\n  const sizeTree = state.sizeTree\n  let offsetTree = state.offsetTree\n  let newSizeTree: AANode<number> = sizeTree\n  let syncStart = 0\n\n  // We receive probe item results from a group probe,\n  // which should always pass an item and a group\n  // the results contain two ranges, which we consider to mean that groups and items have different size\n  if (groupIndices.length > 0 && empty(sizeTree) && ranges.length === 2) {\n    const groupSize = ranges[0].size\n    const itemSize = ranges[1].size\n    newSizeTree = groupIndices.reduce((tree, groupIndex) => {\n      return insert(insert(tree, groupIndex, groupSize), groupIndex + 1, itemSize)\n    }, newSizeTree)\n  } else {\n    ;[newSizeTree, syncStart] = insertRanges(newSizeTree, ranges)\n  }\n\n  if (newSizeTree === sizeTree) {\n    return state\n  }\n\n  let prevIndex = 0\n  let prevSize = 0\n\n  let prevAOffset = 0\n  let startAIndex = 0\n\n  if (syncStart !== 0) {\n    startAIndex = arrayBinarySearch.findIndexOfClosestSmallerOrEqual(offsetTree, syncStart - 1, indexComparator)\n    const offsetInfo = offsetTree[startAIndex]\n    prevAOffset = offsetInfo.offset\n    const kv = findMaxKeyValue(newSizeTree, syncStart - 1)\n    prevIndex = kv[0]\n    prevSize = kv[1]!\n\n    if (offsetTree.length && offsetTree[startAIndex].size === findMaxKeyValue(newSizeTree, syncStart)[1]) {\n      startAIndex -= 1\n    }\n\n    offsetTree = offsetTree.slice(0, startAIndex + 1)\n  } else {\n    offsetTree = []\n  }\n\n  for (const { start: startIndex, value } of rangesWithin(newSizeTree, syncStart, Infinity)) {\n    const aOffset = (startIndex - prevIndex) * prevSize + prevAOffset\n    offsetTree.push({\n      offset: aOffset,\n      size: value,\n      index: startIndex,\n    })\n    prevIndex = startIndex\n    prevAOffset = aOffset\n    prevSize = value\n  }\n\n  return {\n    sizeTree: newSizeTree,\n    offsetTree,\n    groupOffsetTree: groupIndices.reduce((tree, index) => {\n      return insert(tree, index, offsetOf(index, offsetTree))\n    }, newTree<number>()),\n    lastIndex: prevIndex,\n    lastOffset: prevAOffset,\n    lastSize: prevSize,\n    groupIndices,\n  }\n}\n\nexport function offsetOf(index: number, tree: Array<OffsetPoint>) {\n  if (tree.length === 0) {\n    return 0\n  }\n\n  const { offset, index: startIndex, size } = arrayBinarySearch.findClosestSmallerOrEqual(tree, index, indexComparator)\n  return size * (index - startIndex) + offset\n}\n\nexport function originalIndexFromItemIndex(itemIndex: number, sizes: SizeState) {\n  if (!hasGroups(sizes)) {\n    return itemIndex\n  }\n\n  let groupOffset = 0\n  while (sizes.groupIndices[groupOffset] <= itemIndex + groupOffset) {\n    groupOffset++\n  }\n  // we find the real item index, offsetting it by the number of group items before it\n  return itemIndex + groupOffset\n}\n\nexport function hasGroups(sizes: SizeState) {\n  return !empty(sizes.groupOffsetTree)\n}\n\ntype OptionalNumber = number | undefined\n\nconst SIZE_MAP = {\n  offsetHeight: 'height',\n  offsetWidth: 'width',\n} as const\n\n/** Calculates the height of `el`, which will be the `Item` element in the DOM. */\nexport type SizeFunction = (el: HTMLElement, field: 'offsetHeight' | 'offsetWidth') => number\n\nexport const sizeSystem = u.system(\n  ([{ log }]) => {\n    const sizeRanges = u.stream<SizeRange[]>()\n    const totalCount = u.stream<number>()\n    const unshiftWith = u.stream<number>()\n    const firstItemIndex = u.statefulStream(0)\n    const groupIndices = u.statefulStream([] as number[])\n    const fixedItemSize = u.statefulStream<OptionalNumber>(undefined)\n    const defaultItemSize = u.statefulStream<OptionalNumber>(undefined)\n    const itemSize = u.statefulStream<SizeFunction>((el, field) => correctItemSize(el, SIZE_MAP[field]))\n    const data = u.statefulStream<Data>(undefined)\n    const initial = initialSizeState()\n\n    const sizes = u.statefulStreamFromEmitter(\n      u.pipe(sizeRanges, u.withLatestFrom(groupIndices, log), u.scan(sizeStateReducer, initial), u.distinctUntilChanged()),\n      initial\n    )\n\n    u.connect(\n      u.pipe(\n        groupIndices,\n        u.filter((indexes) => indexes.length > 0),\n        u.withLatestFrom(sizes),\n        u.map(([groupIndices, sizes]) => {\n          const groupOffsetTree = groupIndices.reduce((tree, index, idx) => {\n            return insert(tree, index, offsetOf(index, sizes.offsetTree) || idx)\n          }, newTree<number>())\n\n          return {\n            ...sizes,\n            groupIndices,\n            groupOffsetTree,\n          }\n        })\n      ),\n      sizes\n    )\n\n    // decreasing the total count should remove any existing entries\n    // beyond the last index - do this by publishing the default size as a range over them.\n    u.connect(\n      u.pipe(\n        totalCount,\n        u.withLatestFrom(sizes),\n        u.filter(([totalCount, { lastIndex }]) => {\n          return totalCount < lastIndex\n        }),\n        u.map(([totalCount, { lastIndex, lastSize }]) => {\n          return [\n            {\n              startIndex: totalCount,\n              endIndex: lastIndex,\n              size: lastSize,\n            },\n          ] as SizeRange[]\n        })\n      ),\n      sizeRanges\n    )\n\n    u.connect(fixedItemSize, defaultItemSize)\n\n    const trackItemSizes = u.statefulStreamFromEmitter(\n      u.pipe(\n        fixedItemSize,\n        u.map((size) => size === undefined)\n      ),\n      true\n    )\n\n    u.connect(\n      u.pipe(\n        defaultItemSize,\n        u.filter((value) => {\n          return value !== undefined && empty(u.getValue(sizes).sizeTree)\n        }),\n        u.map((size) => [{ startIndex: 0, endIndex: 0, size }] as SizeRange[])\n      ),\n      sizeRanges\n    )\n\n    const listRefresh = u.streamFromEmitter(\n      u.pipe(\n        sizeRanges,\n        u.withLatestFrom(sizes),\n        u.scan(\n          ({ sizes: oldSizes }, [_, newSizes]) => {\n            return {\n              changed: newSizes !== oldSizes,\n              sizes: newSizes,\n            }\n          },\n          { changed: false, sizes: initial }\n        ),\n        u.map((value) => value.changed)\n      )\n    )\n\n    u.connect(\n      u.pipe(\n        firstItemIndex,\n        u.scan(\n          (prev, next) => {\n            return { diff: prev.prev - next, prev: next }\n          },\n          { diff: 0, prev: 0 }\n        ),\n        u.map((val) => val.diff),\n        u.filter((value) => value > 0)\n      ),\n      unshiftWith\n    )\n\n    u.subscribe(u.pipe(firstItemIndex, u.withLatestFrom(log)), ([index, log]) => {\n      if (index < 0) {\n        log(\n          \"`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value\",\n          { firstItemIndex },\n          LogLevel.ERROR\n        )\n      }\n    })\n\n    // Capture the current list top item before the sizes get refreshed\n    const beforeUnshiftWith = u.streamFromEmitter(unshiftWith)\n\n    u.connect(\n      u.pipe(\n        unshiftWith,\n        u.withLatestFrom(sizes),\n        u.map(([unshiftWith, sizes]) => {\n          if (sizes.groupIndices.length > 0) {\n            throw new Error('Virtuoso: prepending items does not work with groups')\n          }\n\n          return walk(sizes.sizeTree).reduce(\n            (acc, { k: index, v: size }) => {\n              return {\n                ranges: [...acc.ranges, { startIndex: acc.prevIndex, endIndex: index + unshiftWith - 1, size: acc.prevSize }],\n                prevIndex: index + unshiftWith,\n                prevSize: size,\n              }\n            },\n            {\n              ranges: [] as SizeRange[],\n              prevIndex: 0,\n              prevSize: sizes.lastSize,\n            }\n          ).ranges\n        })\n      ),\n      sizeRanges\n    )\n\n    return {\n      // input\n      data,\n      totalCount,\n      sizeRanges,\n      groupIndices,\n      defaultItemSize,\n      fixedItemSize,\n      unshiftWith,\n      beforeUnshiftWith,\n      firstItemIndex,\n\n      // output\n      sizes,\n      listRefresh,\n      trackItemSizes,\n      itemSize,\n    }\n  },\n  u.tup(loggerSystem),\n  { singleton: true }\n)\n","/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport * as u from '@virtuoso.dev/urx'\nimport { findMaxKeyValue } from './AATree'\nimport { domIOSystem } from './domIOSystem'\nimport { offsetOf, originalIndexFromItemIndex, sizeSystem } from './sizeSystem'\nimport { IndexLocationWithAlign } from './interfaces'\nimport { loggerSystem, LogLevel } from './loggerSystem'\n\nexport type IndexLocation = number | IndexLocationWithAlign\n\nconst SUPPORTS_SCROLL_TO_OPTIONS = typeof document !== 'undefined' && 'scrollBehavior' in document.documentElement.style\n\nexport function normalizeIndexLocation(location: IndexLocation) {\n  const result: IndexLocationWithAlign = typeof location === 'number' ? { index: location } : location\n\n  if (!result.align) {\n    result.align = 'start'\n  }\n  if (!result.behavior || !SUPPORTS_SCROLL_TO_OPTIONS) {\n    result.behavior = 'auto'\n  }\n  if (!result.offset) {\n    result.offset = 0\n  }\n  return result as Required<IndexLocationWithAlign>\n}\n\nexport const scrollToIndexSystem = u.system(\n  ([\n    { sizes, totalCount, listRefresh },\n    { scrollingInProgress, viewportHeight, scrollTo, smoothScrollTargetReached, headerHeight, footerHeight },\n    { log },\n  ]) => {\n    const scrollToIndex = u.stream<IndexLocation>()\n    const topListHeight = u.statefulStream(0)\n\n    let unsubscribeNextListRefresh: any = null\n    let cleartTimeoutRef: any = null\n    let unsubscribeListRefresh: any = null\n\n    const cleanup = () => {\n      // u.getValue(log)('cleanup scroll', {}, LogLevel.DEBUG)\n      if (unsubscribeNextListRefresh) {\n        unsubscribeNextListRefresh()\n        unsubscribeNextListRefresh = null\n      }\n\n      if (unsubscribeListRefresh) {\n        unsubscribeListRefresh()\n        unsubscribeListRefresh = null\n      }\n\n      if (cleartTimeoutRef) {\n        clearTimeout(cleartTimeoutRef)\n        cleartTimeoutRef = null\n      }\n      u.publish(scrollingInProgress, false)\n    }\n\n    u.connect(\n      u.pipe(\n        scrollToIndex,\n        u.withLatestFrom(sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log),\n        u.map(([location, sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log]) => {\n          const normalLocation = normalizeIndexLocation(location)\n          const { align, behavior, offset } = normalLocation\n          const lastIndex = totalCount - 1\n          let index = normalLocation.index\n\n          index = originalIndexFromItemIndex(index, sizes)\n\n          index = Math.max(0, index, Math.min(lastIndex, index))\n\n          let top = offsetOf(index, sizes.offsetTree) + headerHeight\n          if (align === 'end') {\n            top = Math.round(top - viewportHeight + findMaxKeyValue(sizes.sizeTree, index)[1]!)\n            if (index === lastIndex) {\n              top += footerHeight\n            }\n          } else if (align === 'center') {\n            top = Math.round(top - viewportHeight / 2 + findMaxKeyValue(sizes.sizeTree, index)[1]! / 2)\n          } else {\n            top -= topListHeight\n          }\n\n          if (offset) {\n            top += offset\n          }\n\n          const retry = (listChanged: boolean) => {\n            cleanup()\n            if (listChanged) {\n              log('retrying to scroll to', { location }, LogLevel.DEBUG)\n              u.publish(scrollToIndex, location)\n            } else {\n              log('list did not change, scroll successful', {}, LogLevel.DEBUG)\n            }\n          }\n\n          cleanup()\n\n          if (behavior === 'smooth') {\n            let listChanged = false\n            unsubscribeListRefresh = u.subscribe(listRefresh, (changed) => {\n              listChanged = listChanged || changed\n            })\n\n            unsubscribeNextListRefresh = u.handleNext(smoothScrollTargetReached, () => {\n              retry(listChanged)\n            })\n          } else {\n            unsubscribeNextListRefresh = u.handleNext(u.pipe(listRefresh, accumulateChange(0)), retry)\n          }\n\n          // if the scroll jump is too small, the list won't get rerendered.\n          // clean this listener\n          cleartTimeoutRef = setTimeout(() => {\n            cleanup()\n          }, 1200)\n\n          u.publish(scrollingInProgress, true)\n          log('scrolling from index to', { index, top, behavior }, LogLevel.DEBUG)\n          return { top, behavior }\n        })\n      ),\n      scrollTo\n    )\n\n    return {\n      scrollToIndex,\n      topListHeight,\n    }\n  },\n  u.tup(sizeSystem, domIOSystem, loggerSystem),\n  { singleton: true }\n)\n\nfunction accumulateChange<T>(interval: number): u.Operator<T> {\n  let currentValue: T | undefined\n  let timeout: any\n\n  return (done) => (value) => {\n    currentValue = currentValue || value\n\n    if (timeout) {\n      return\n    }\n\n    timeout = setTimeout(() => {\n      timeout = undefined\n      done(currentValue!)\n    }, interval)\n  }\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem, DOWN, ScrollDirection, UP } from './domIOSystem'\nimport { tupleComparator } from './comparators'\n\nexport type NumberTuple = [number, number]\nexport type Overscan = number | { main: number; reverse: number }\nexport const TOP = 'top' as const\nexport const BOTTOM = 'bottom' as const\nexport const NONE = 'none' as const\nexport type ListEnd = typeof TOP | typeof BOTTOM\nexport type ChangeDirection = typeof UP | typeof DOWN | typeof NONE\n\nexport const getOverscan = (overscan: Overscan, end: ListEnd, direction: ScrollDirection) => {\n  if (typeof overscan === 'number') {\n    return (direction === UP && end === TOP) || (direction === DOWN && end === BOTTOM) ? overscan : 0\n  } else {\n    if (direction === UP) {\n      return end === TOP ? overscan.main : overscan.reverse\n    } else {\n      return end === BOTTOM ? overscan.main : overscan.reverse\n    }\n  }\n}\n\nexport const sizeRangeSystem = u.system(\n  ([{ scrollTop, viewportHeight, deviation, headerHeight }]) => {\n    const listBoundary = u.stream<NumberTuple>()\n    const topListHeight = u.statefulStream(0)\n    const overscan = u.statefulStream<Overscan>(0)\n\n    const visibleRange = (u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(\n          u.duc(scrollTop),\n          u.duc(viewportHeight),\n          u.duc(headerHeight),\n          u.duc(listBoundary, tupleComparator),\n          u.duc(overscan),\n          u.duc(topListHeight),\n          u.duc(deviation)\n        ),\n        u.map(([scrollTop, viewportHeight, headerHeight, [listTop, listBottom], overscan, topListHeight, deviation]) => {\n          const top = scrollTop - deviation\n          const headerVisible = Math.max(headerHeight - top, 0)\n          let direction: ChangeDirection = NONE\n\n          listTop -= deviation\n          listTop += headerHeight\n          listBottom += headerHeight\n          listBottom -= deviation\n\n          if (listTop > scrollTop + topListHeight) {\n            direction = UP\n          }\n\n          if (listBottom < scrollTop - headerVisible + viewportHeight) {\n            direction = DOWN\n          }\n\n          if (direction !== NONE) {\n            return [\n              Math.max(top - headerHeight - getOverscan(overscan, TOP, direction), 0),\n              top - headerVisible + viewportHeight + getOverscan(overscan, BOTTOM, direction),\n            ] as NumberTuple\n          }\n\n          return null\n        }),\n        u.filter((value) => value != null),\n        u.distinctUntilChanged(tupleComparator as any)\n      ),\n      [0, 0]\n    ) as unknown) as u.StatefulStream<NumberTuple>\n\n    return {\n      // input\n      listBoundary,\n      overscan,\n      topListHeight,\n\n      // output\n      visibleRange,\n    }\n  },\n  u.tup(domIOSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { WindowViewportInfo } from './interfaces'\n\nexport const windowScrollerSystem = u.system(([{ scrollTop, scrollTo }]) => {\n  const windowViewportRect = u.stream<WindowViewportInfo>()\n  const windowScrollTop = u.stream<number>()\n  const windowScrollTo = u.stream<ScrollToOptions>()\n  const useWindowScroll = u.statefulStream(false)\n\n  u.connect(\n    u.pipe(\n      u.combineLatest(windowScrollTop, windowViewportRect),\n      u.map(([windowScrollTop, { offsetTop }]) => {\n        return Math.max(0, windowScrollTop - offsetTop)\n      })\n    ),\n    scrollTop\n  )\n\n  u.connect(\n    u.pipe(\n      scrollTo,\n      u.withLatestFrom(windowViewportRect),\n      u.map(([scrollTo, { offsetTop }]) => {\n        return {\n          ...scrollTo,\n          top: scrollTo.top! + offsetTop,\n        }\n      })\n    ),\n    windowScrollTo\n  )\n\n  return {\n    // config\n    useWindowScroll,\n\n    // input\n    windowScrollTop,\n    windowViewportRect,\n\n    // signals\n    windowScrollTo,\n  }\n}, u.tup(domIOSystem))\n","import * as u from '@virtuoso.dev/urx'\nimport { rangeComparator, tupleComparator } from './comparators'\nimport { domIOSystem } from './domIOSystem'\nimport { propsReadySystem } from './propsReadySystem'\nimport { scrollSeekSystem } from './scrollSeekSystem'\nimport { IndexLocation, normalizeIndexLocation } from './scrollToIndexSystem'\nimport { sizeRangeSystem } from './sizeRangeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { windowScrollerSystem } from './windowScrollerSystem'\n\nexport interface ElementDimensions {\n  width: number\n  height: number\n}\n\nexport interface GridItem {\n  index: number\n}\n\nexport interface GridLayout {\n  top: number\n  bottom: number\n}\n\nexport interface GridState extends GridLayout {\n  items: GridItem[]\n  offsetTop: number\n  offsetBottom: number\n  itemHeight: number\n  itemWidth: number\n}\n\nconst INITIAL_GRID_STATE: GridState = {\n  items: [],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0,\n}\n\nconst PROBE_GRID_STATE: GridState = {\n  items: [{ index: 0 }],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0,\n}\n\nconst { ceil, floor, min, max } = Math\n\nfunction hackFloor(val: number) {\n  return ceil(val) - val < 0.03 ? ceil(val) : floor(val)\n}\n\nfunction buildItems(startIndex: number, endIndex: number) {\n  return Array.from({ length: endIndex - startIndex + 1 }).map((_, i) => ({ index: i + startIndex } as GridItem))\n}\nexport const gridSystem = u.system(\n  ([\n    { overscan, visibleRange, listBoundary },\n    { scrollTop, viewportHeight, scrollBy, scrollTo, smoothScrollTargetReached },\n    stateFlags,\n    scrollSeek,\n    { propsReady, didMount },\n    { windowViewportRect, windowScrollTo, useWindowScroll, windowScrollTop },\n  ]) => {\n    const totalCount = u.statefulStream(0)\n    const initialItemCount = u.statefulStream(0)\n    const gridState = u.statefulStream(INITIAL_GRID_STATE)\n    const viewportDimensions = u.statefulStream<ElementDimensions>({ height: 0, width: 0 })\n    const itemDimensions = u.statefulStream<ElementDimensions>({ height: 0, width: 0 })\n    const scrollToIndex = u.stream<IndexLocation>()\n\n    u.connect(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialItemCount),\n        u.filter(([, count]) => count !== 0),\n        u.map(([, count]) => {\n          return {\n            items: buildItems(0, count - 1),\n            top: 0,\n            bottom: 0,\n            offsetBottom: 0,\n            offsetTop: 0,\n            itemHeight: 0,\n            itemWidth: 0,\n          }\n        })\n      ),\n      gridState\n    )\n\n    u.connect(\n      u.pipe(\n        u.combineLatest(\n          u.duc(totalCount),\n          visibleRange,\n          u.duc(itemDimensions, (prev, next) => prev && prev.width === next.width && prev.height === next.height)\n        ),\n        u.withLatestFrom(viewportDimensions),\n        u.map(([[totalCount, [startOffset, endOffset], item], viewport]) => {\n          const { height: itemHeight, width: itemWidth } = item\n          const { width: viewportWidth } = viewport\n\n          if (totalCount === 0 || viewportWidth === 0) {\n            return INITIAL_GRID_STATE\n          }\n\n          if (itemWidth === 0) {\n            return PROBE_GRID_STATE\n          }\n\n          const perRow = hackFloor(viewportWidth / itemWidth)\n          let startIndex = perRow * floor(startOffset / itemHeight)\n          let endIndex = perRow * ceil(endOffset / itemHeight) - 1\n          endIndex = min(totalCount - 1, endIndex)\n          startIndex = min(endIndex, max(0, startIndex))\n\n          const items = buildItems(startIndex, endIndex)\n          const { top, bottom } = gridLayout(viewport, item, items)\n          const totalHeight = ceil(totalCount / perRow) * itemHeight\n          const offsetBottom = totalHeight - bottom\n\n          return { items, offsetTop: top, offsetBottom, top, bottom, itemHeight, itemWidth } as GridState\n        })\n      ),\n      gridState\n    )\n\n    u.connect(\n      u.pipe(\n        viewportDimensions,\n        u.map(({ height }) => height)\n      ),\n      viewportHeight\n    )\n\n    u.connect(\n      u.pipe(\n        u.combineLatest(viewportDimensions, itemDimensions, gridState),\n        u.map(([viewportDimensions, item, { items }]) => {\n          const { top, bottom } = gridLayout(viewportDimensions, item, items)\n\n          return [top, bottom] as [number, number]\n        }),\n        u.distinctUntilChanged(tupleComparator)\n      ),\n      listBoundary\n    )\n\n    u.connect(\n      u.pipe(\n        listBoundary,\n        u.withLatestFrom(gridState),\n        u.map(([[, bottom], { offsetBottom }]) => {\n          return { bottom, offsetBottom }\n        })\n      ),\n      stateFlags.listStateListener\n    )\n\n    const endReached = u.streamFromEmitter(\n      u.pipe(\n        u.duc(gridState),\n        u.filter(({ items }) => items.length > 0),\n        u.withLatestFrom(totalCount),\n        u.filter(([{ items }, totalCount]) => items[items.length - 1].index === totalCount - 1),\n        u.map(([, totalCount]) => totalCount - 1),\n        u.distinctUntilChanged()\n      )\n    )\n\n    const startReached = u.streamFromEmitter(\n      u.pipe(\n        u.duc(gridState),\n        u.filter(({ items }) => {\n          return items.length > 0 && items[0].index === 0\n        }),\n        u.mapTo(0),\n        u.distinctUntilChanged()\n      )\n    )\n\n    const rangeChanged = u.streamFromEmitter(\n      u.pipe(\n        u.duc(gridState),\n        u.filter(({ items }) => items.length > 0),\n        u.map(({ items }) => {\n          return {\n            startIndex: items[0].index,\n            endIndex: items[items.length - 1].index,\n          }\n        }),\n        u.distinctUntilChanged(rangeComparator)\n      )\n    )\n\n    u.connect(rangeChanged, scrollSeek.scrollSeekRangeChanged)\n\n    u.connect(\n      u.pipe(\n        scrollToIndex,\n        u.withLatestFrom(viewportDimensions, itemDimensions, totalCount),\n        u.map(([location, viewport, item, totalCount]) => {\n          const normalLocation = normalizeIndexLocation(location)\n          const { align, behavior, offset } = normalLocation\n          let index = normalLocation.index\n\n          index = Math.max(0, index, Math.min(totalCount - 1, index))\n\n          let top = itemTop(viewport, item, index)\n\n          if (align === 'end') {\n            top = Math.round(top - viewport.height + item.height)\n          } else if (align === 'center') {\n            top = Math.round(top - viewport.height / 2 + item.height / 2)\n          }\n\n          if (offset) {\n            top += offset\n          }\n\n          return { top, behavior }\n        })\n      ),\n      scrollTo\n    )\n\n    const totalListHeight = u.statefulStreamFromEmitter(\n      u.pipe(\n        gridState,\n        u.map((gridState) => {\n          return gridState.offsetBottom + gridState.bottom\n        })\n      ),\n      0\n    )\n\n    u.connect(\n      u.pipe(\n        windowViewportRect,\n        u.map((viewportInfo) => ({ width: viewportInfo.visibleWidth, height: viewportInfo.visibleHeight }))\n      ),\n      viewportDimensions\n    )\n\n    return {\n      // input\n      totalCount,\n      viewportDimensions,\n      itemDimensions,\n      scrollTop,\n      overscan,\n      scrollBy,\n      scrollTo,\n      scrollToIndex,\n      smoothScrollTargetReached,\n      windowViewportRect,\n      windowScrollTo,\n      useWindowScroll,\n      windowScrollTop,\n      initialItemCount,\n      ...scrollSeek,\n\n      // output\n      gridState,\n      totalListHeight,\n      ...stateFlags,\n      startReached,\n      endReached,\n      rangeChanged,\n      propsReady,\n    }\n  },\n  u.tup(sizeRangeSystem, domIOSystem, stateFlagsSystem, scrollSeekSystem, propsReadySystem, windowScrollerSystem)\n)\n\nfunction gridLayout(viewport: ElementDimensions, item: ElementDimensions, items: GridItem[]): GridLayout {\n  const { height: itemHeight } = item\n  if (itemHeight === undefined || items.length === 0) {\n    return { top: 0, bottom: 0 }\n  }\n\n  const top = itemTop(viewport, item, items[0].index)\n  const bottom = itemTop(viewport, item, items[items.length - 1].index) + itemHeight\n  return { top, bottom }\n}\n\nfunction itemTop(viewport: ElementDimensions, item: ElementDimensions, index: number) {\n  const perRow = itemsPerRow(viewport.width, item.width)\n  return floor(index / perRow) * item.height\n}\n\nfunction itemsPerRow(viewportWidth: number, itemWidth: number) {\n  return hackFloor(viewportWidth / itemWidth)\n}\n","import { useRef } from 'react'\n\nexport type CallbackRefParam = HTMLElement | null\n\nexport function useSizeWithElRef(callback: (e: HTMLElement) => void, enabled = true) {\n  const ref = useRef<CallbackRefParam>(null)\n\n  let callbackRef = (_el: CallbackRefParam) => {\n    void 0\n  }\n\n  if (typeof ResizeObserver !== 'undefined') {\n    const observer = new ResizeObserver((entries: ResizeObserverEntry[]) => {\n      const element = entries[0].target as HTMLElement\n      // Revert the RAF below - it causes a blink in the upward scrolling fix\n      // See e2e/chat example\n      // Avoid Resize loop limit exceeded error\n      // https://github.com/edunad/react-virtuoso/commit/581d4558f2994adea375291b76fe59605556c08f\n      // requestAnimationFrame(() => {\n      //\n      // if display: none, the element won't have an offsetParent\n      // measuring it at this mode is not going to work\n      // https://stackoverflow.com/a/21696585/1009797\n      if (element.offsetParent !== null) {\n        callback(element)\n      }\n      // })\n    })\n\n    callbackRef = (elRef: CallbackRefParam) => {\n      if (elRef && enabled) {\n        observer.observe(elRef)\n        ref.current = elRef\n      } else {\n        if (ref.current) {\n          observer.unobserve(ref.current)\n        }\n        ref.current = null\n      }\n    }\n  }\n\n  return { ref, callbackRef }\n}\n\nexport default function useSize(callback: (e: HTMLElement) => void, enabled = true) {\n  return useSizeWithElRef(callback, enabled).callbackRef\n}\n","import { useEffect, useRef, useCallback } from 'react'\nimport { useSizeWithElRef } from './useSize'\nimport { WindowViewportInfo } from '../interfaces'\n\nexport default function useWindowViewportRectRef(callback: (info: WindowViewportInfo) => void) {\n  const viewportInfo = useRef<WindowViewportInfo | null>(null)\n\n  const calculateInfo = useCallback(\n    (element: HTMLElement | null) => {\n      if (element === null) {\n        return\n      }\n      const rect = element.getBoundingClientRect()\n      const visibleHeight = window.innerHeight - Math.max(0, rect.top)\n\n      const visibleWidth = rect.width\n      const offsetTop = rect.top + window.pageYOffset\n      viewportInfo.current = {\n        offsetTop,\n        visibleHeight,\n        visibleWidth,\n      }\n      callback(viewportInfo.current)\n    },\n    [callback]\n  )\n\n  const { callbackRef, ref } = useSizeWithElRef(calculateInfo)\n\n  const windowEH = useCallback(() => {\n    calculateInfo(ref.current)\n  }, [calculateInfo, ref])\n\n  useEffect(() => {\n    window.addEventListener('scroll', windowEH)\n    window.addEventListener('resize', windowEH)\n    return () => {\n      window.removeEventListener('scroll', windowEH)\n      window.removeEventListener('resize', windowEH)\n    }\n  }, [windowEH])\n\n  return callbackRef\n}\n","import { useEffect, useLayoutEffect } from 'react'\n\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect\n\nexport default useIsomorphicLayoutEffect\n","import { useRef, useCallback, useEffect } from 'react'\nimport * as u from '@virtuoso.dev/urx'\nimport { correctItemSize } from '../utils/correctItemSize'\n\nexport type ScrollerRef = Window | HTMLElement | null\n\nfunction approximatelyEqual(num1: number, num2: number) {\n  return Math.abs(num1 - num2) < 1\n}\n\nexport default function useScrollTop(\n  scrollTopCallback: (scrollTop: number) => void,\n  smoothScrollTargetReached: (yes: true) => void,\n  scrollerElement: any,\n  scrollerRefCallback: (ref: ScrollerRef) => void = u.noop\n) {\n  const scrollerRef = useRef<HTMLElement | null | Window>(null)\n  const scrollTopTarget = useRef<any>(null)\n  const timeoutRef = useRef<any>(null)\n\n  const handler = useCallback(\n    (ev: Event) => {\n      const el = ev.target as HTMLElement\n      const scrollTop =\n        (el as any) === window || (el as any) === document ? window.pageYOffset || document.documentElement.scrollTop : el.scrollTop\n      scrollTopCallback(Math.max(scrollTop, 0))\n\n      if (scrollTopTarget.current !== null) {\n        if (scrollTop === scrollTopTarget.current || scrollTop <= 0 || scrollTop === el.scrollHeight - correctItemSize(el, 'height')) {\n          scrollTopTarget.current = null\n          smoothScrollTargetReached(true)\n          if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current)\n            timeoutRef.current = null\n          }\n        }\n      }\n    },\n    [scrollTopCallback, smoothScrollTargetReached]\n  )\n\n  useEffect(() => {\n    const localRef = scrollerRef.current!\n\n    scrollerRefCallback(scrollerRef.current)\n    handler(({ target: localRef } as unknown) as Event)\n    localRef.addEventListener('scroll', handler, { passive: true })\n\n    return () => {\n      scrollerRefCallback(null)\n      localRef.removeEventListener('scroll', handler)\n    }\n  }, [scrollerRef, handler, scrollerElement, scrollerRefCallback])\n\n  function scrollToCallback(location: ScrollToOptions) {\n    const scrollerElement = scrollerRef.current\n    if (!scrollerElement) {\n      return\n    }\n\n    const isSmooth = location.behavior === 'smooth'\n\n    let offsetHeight: number\n    let scrollHeight: number\n    let scrollTop: number\n\n    if (scrollerElement === window) {\n      // this is not a mistake\n      scrollHeight = Math.max(correctItemSize(document.documentElement, 'height'), document.documentElement.scrollHeight)\n      offsetHeight = window.innerHeight\n      scrollTop = document.documentElement.scrollTop\n    } else {\n      scrollHeight = (scrollerElement as HTMLElement).scrollHeight\n      offsetHeight = correctItemSize(scrollerElement as HTMLElement, 'height')\n      scrollTop = (scrollerElement as HTMLElement).scrollTop\n    }\n\n    // avoid system hanging because the DOM never called back\n    // with the scrollTop\n    // scroller is already at this location\n    if (approximatelyEqual(offsetHeight, scrollHeight) || location.top === scrollTop) {\n      scrollTopCallback(scrollTop)\n      if (isSmooth) {\n        smoothScrollTargetReached(true)\n      }\n      return\n    }\n\n    const maxScrollTop = scrollHeight - offsetHeight\n    location.top = Math.max(Math.min(maxScrollTop, location.top!), 0)\n\n    if (isSmooth) {\n      scrollTopTarget.current = location.top\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n      }\n\n      timeoutRef.current = setTimeout(() => {\n        timeoutRef.current = null\n        scrollTopTarget.current = null\n        smoothScrollTargetReached(true)\n      }, 1000)\n    } else {\n      scrollTopTarget.current = null\n    }\n\n    scrollerElement.scrollTo(location)\n  }\n\n  function scrollByCallback(location: ScrollToOptions) {\n    if (scrollTopTarget.current === null) {\n      scrollerRef.current!.scrollBy(location)\n    }\n  }\n\n  return { scrollerRef, scrollByCallback, scrollToCallback }\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { empty } from './AATree'\nimport { sizeSystem } from './sizeSystem'\nimport { domIOSystem } from './domIOSystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { propsReadySystem } from './propsReadySystem'\n\nexport const initialTopMostItemIndexSystem = u.system(\n  ([{ sizes, listRefresh, defaultItemSize }, { scrollTop }, { scrollToIndex }, { didMount }]) => {\n    const scrolledToInitialItem = u.statefulStream(true)\n    const initialTopMostItemIndex = u.statefulStream(0)\n\n    u.connect(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialTopMostItemIndex),\n        u.filter(([_, index]) => index !== 0),\n        u.mapTo(false)\n      ),\n      scrolledToInitialItem\n    )\n\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(listRefresh, didMount),\n        u.withLatestFrom(scrolledToInitialItem, sizes, defaultItemSize),\n        u.filter(([[, didMount], scrolledToInitialItem, { sizeTree }, defaultItemSize]) => {\n          return didMount && (!empty(sizeTree) || defaultItemSize !== undefined) && !scrolledToInitialItem\n        }),\n        u.withLatestFrom(initialTopMostItemIndex)\n      ),\n      ([, initialTopMostItemIndex]) => {\n        u.handleNext(scrollTop, () => {\n          u.publish(scrolledToInitialItem, true)\n        })\n\n        setTimeout(() => {\n          u.publish(scrollToIndex, initialTopMostItemIndex)\n        })\n      }\n    )\n\n    return {\n      scrolledToInitialItem,\n      initialTopMostItemIndex,\n    }\n  },\n  u.tup(sizeSystem, domIOSystem, scrollToIndexSystem, propsReadySystem),\n  { singleton: true }\n)\n","/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport * as u from '@virtuoso.dev/urx'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { initialTopMostItemIndexSystem } from './initialTopMostItemIndexSystem'\nimport { FollowOutput, FollowOutputScalarType } from './interfaces'\nimport { propsReadySystem } from './propsReadySystem'\nimport { loggerSystem, LogLevel } from './loggerSystem'\n\nfunction normalizeFollowOutput(follow: FollowOutputScalarType): FollowOutputScalarType {\n  if (!follow) {\n    return false\n  }\n  return follow === 'smooth' ? 'smooth' : 'auto'\n}\n\nconst behaviorFromFollowOutput = (follow: FollowOutput, isAtBottom: boolean) => {\n  if (typeof follow === 'function') {\n    return normalizeFollowOutput(follow(isAtBottom))\n  }\n  return isAtBottom && normalizeFollowOutput(follow)\n}\n\nexport const followOutputSystem = u.system(\n  ([\n    { totalCount, listRefresh },\n    { isAtBottom, atBottomState },\n    { scrollToIndex },\n    { scrolledToInitialItem },\n    { propsReady, didMount },\n    { log },\n  ]) => {\n    const followOutput = u.statefulStream<FollowOutput>(false)\n    let pendingScrollHandle: any = null\n\n    function scrollToBottom(totalCount: number, followOutputBehavior: FollowOutputScalarType) {\n      u.publish(scrollToIndex, {\n        index: totalCount - 1,\n        align: 'end',\n        behavior: followOutputBehavior,\n      })\n    }\n\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(u.pipe(u.duc(totalCount), u.skip(1)), didMount),\n        u.withLatestFrom(u.duc(followOutput), isAtBottom, scrolledToInitialItem),\n        u.map(([[totalCount, didMount], followOutput, isAtBottom, scrolledToInitialItem]) => {\n          let shouldFollow = didMount && scrolledToInitialItem\n          let followOutputBehavior: FollowOutputScalarType = 'auto'\n\n          if (shouldFollow) {\n            followOutputBehavior = behaviorFromFollowOutput(followOutput, isAtBottom)\n            shouldFollow = shouldFollow && !!followOutputBehavior\n          }\n\n          return { totalCount, shouldFollow, followOutputBehavior }\n        }),\n        u.filter(({ shouldFollow }) => shouldFollow)\n      ),\n      ({ totalCount, followOutputBehavior }) => {\n        if (pendingScrollHandle) {\n          pendingScrollHandle()\n          pendingScrollHandle = null\n        }\n\n        pendingScrollHandle = u.handleNext(listRefresh, () => {\n          scrollToBottom(totalCount, followOutputBehavior)\n          pendingScrollHandle = null\n        })\n      }\n    )\n\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(u.duc(followOutput), totalCount, propsReady),\n        u.filter(([follow, , ready]) => follow && ready),\n        u.scan(\n          ({ value }, [, next]) => {\n            return { refreshed: value === next, value: next }\n          },\n          { refreshed: false, value: 0 }\n        ),\n        u.filter(({ refreshed }) => refreshed),\n        u.withLatestFrom(followOutput, totalCount)\n      ),\n      ([, followOutput, totalCount]) => {\n        const cancel = u.handleNext(atBottomState, (state) => {\n          if (followOutput && !state.atBottom && state.notAtBottomBecause === 'SIZE_INCREASED' && !pendingScrollHandle) {\n            u.getValue(log)('scrolling to bottom due to increased size', { totalCount }, LogLevel.DEBUG)\n            scrollToBottom(totalCount, 'auto')\n          }\n        })\n        setTimeout(cancel, 100)\n      }\n    )\n\n    u.subscribe(\n      u.pipe(u.combineLatest(u.duc(followOutput), atBottomState), u.withLatestFrom(totalCount)),\n      ([[followOutput, state], totalCount]) => {\n        if (followOutput && !state.atBottom && state.notAtBottomBecause === 'VIEWPORT_HEIGHT_DECREASING') {\n          scrollToBottom(totalCount, 'auto')\n        }\n      }\n    )\n\n    return { followOutput }\n  },\n  u.tup(sizeSystem, stateFlagsSystem, scrollToIndexSystem, initialTopMostItemIndexSystem, propsReadySystem, loggerSystem)\n)\n","import {\n  combineLatest,\n  connect,\n  distinctUntilChanged,\n  system,\n  filter,\n  map,\n  pipe,\n  prop,\n  stream,\n  streamFromEmitter,\n  tup,\n} from '@virtuoso.dev/urx'\nimport { findMaxKeyValue } from './AATree'\nimport { domIOSystem } from './domIOSystem'\nimport { sizeSystem, hasGroups } from './sizeSystem'\nexport interface GroupIndexesAndCount {\n  totalCount: number\n  groupIndices: number[]\n}\n\nexport function groupCountsToIndicesAndCount(counts: number[]) {\n  return counts.reduce(\n    (acc, groupCount) => {\n      acc.groupIndices.push(acc.totalCount)\n      acc.totalCount += groupCount + 1\n      return acc\n    },\n    {\n      totalCount: 0,\n      groupIndices: [],\n    } as GroupIndexesAndCount\n  )\n}\n\nexport const groupedListSystem = system(([{ totalCount, groupIndices, sizes }, { scrollTop, headerHeight }]) => {\n  const groupCounts = stream<number[]>()\n  const topItemsIndexes = stream<[number]>()\n  const groupIndicesAndCount = streamFromEmitter(pipe(groupCounts, map(groupCountsToIndicesAndCount)))\n  connect(pipe(groupIndicesAndCount, map(prop('totalCount'))), totalCount)\n  connect(pipe(groupIndicesAndCount, map(prop('groupIndices'))), groupIndices)\n\n  connect(\n    pipe(\n      combineLatest(scrollTop, sizes, headerHeight),\n      filter(([_, sizes]) => hasGroups(sizes)),\n      map(([scrollTop, state, headerHeight]) => findMaxKeyValue(state.groupOffsetTree, Math.max(scrollTop - headerHeight, 0), 'v')[0]),\n      distinctUntilChanged(),\n      map((index) => [index])\n    ),\n    topItemsIndexes\n  )\n\n  return { groupCounts, topItemsIndexes }\n}, tup(sizeSystem, domIOSystem))\n","import * as u from '@virtuoso.dev/urx'\nimport { empty, findMaxKeyValue, Range, rangesWithin } from './AATree'\nimport { groupedListSystem } from './groupedListSystem'\nimport { initialTopMostItemIndexSystem } from './initialTopMostItemIndexSystem'\nimport { Item, ListItem, ListRange } from './interfaces'\nimport { propsReadySystem } from './propsReadySystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { sizeRangeSystem } from './sizeRangeSystem'\nimport { Data, originalIndexFromItemIndex, SizeState, sizeSystem, hasGroups, rangesWithinOffsets } from './sizeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { rangeComparator, tupleComparator } from './comparators'\n\nexport type ListItems = ListItem<unknown>[]\nexport interface TopListState {\n  items: ListItems\n  listHeight: number\n}\n\nexport interface ListState {\n  items: ListItems\n  topItems: ListItems\n  topListHeight: number\n  offsetTop: number\n  offsetBottom: number\n  top: number\n  bottom: number\n  totalCount: number\n}\n\nfunction probeItemSet(index: number, sizes: SizeState, data: Data) {\n  if (hasGroups(sizes)) {\n    const itemIndex = originalIndexFromItemIndex(index, sizes)\n    const groupIndex = findMaxKeyValue(sizes.groupOffsetTree, itemIndex)[0]\n\n    return [\n      { index: groupIndex, size: 0, offset: 0 },\n      { index: itemIndex, size: 0, offset: 0, data: data && data[0] },\n    ]\n  }\n  return [{ index, size: 0, offset: 0, data: data && data[0] }]\n}\n\nconst EMPTY_LIST_STATE: ListState = {\n  items: [] as ListItems,\n  topItems: [] as ListItems,\n  offsetTop: 0,\n  offsetBottom: 0,\n  top: 0,\n  bottom: 0,\n  topListHeight: 0,\n  totalCount: 0,\n}\n\nfunction transposeItems(items: Item<any>[], sizes: SizeState, firstItemIndex: number): ListItems {\n  if (items.length === 0) {\n    return []\n  }\n\n  if (!hasGroups(sizes)) {\n    return items.map((item) => ({ ...item, index: item.index + firstItemIndex, originalIndex: item.index }))\n  }\n\n  const startIndex = items[0].index\n  const endIndex = items[items.length - 1].index\n\n  const transposedItems = [] as ListItems\n  const groupRanges = rangesWithin(sizes.groupOffsetTree, startIndex, endIndex)\n  let currentRange: Range<number> | undefined = undefined\n  let currentGroupIndex = 0\n\n  for (const item of items) {\n    if (!currentRange || currentRange.end < item.index) {\n      currentRange = groupRanges.shift()!\n      currentGroupIndex = sizes.groupIndices.indexOf(currentRange.start)\n    }\n\n    let transposedItem: { type: 'group'; index: number } | { index: number; groupIndex: number }\n\n    if (item.index === currentRange.start) {\n      transposedItem = {\n        type: 'group' as const,\n        index: currentGroupIndex,\n      }\n    } else {\n      transposedItem = {\n        index: item.index - (currentGroupIndex + 1) + firstItemIndex,\n        groupIndex: currentGroupIndex,\n      }\n    }\n\n    transposedItems.push({\n      ...transposedItem,\n      size: item.size,\n      offset: item.offset,\n      originalIndex: item.index,\n      data: item.data,\n    })\n  }\n\n  return transposedItems\n}\n\nexport function buildListState(\n  items: Item<any>[],\n  topItems: Item<any>[],\n  totalCount: number,\n  sizes: SizeState,\n  firstItemIndex: number\n): ListState {\n  const { lastSize, lastOffset, lastIndex } = sizes\n  let offsetTop = 0\n  let bottom = 0\n\n  if (items.length > 0) {\n    offsetTop = items[0].offset\n    const lastItem = items[items.length - 1]\n    bottom = lastItem.offset + lastItem.size\n  }\n\n  const total = lastOffset + (totalCount - lastIndex) * lastSize\n  const top = offsetTop\n  const offsetBottom = total - bottom\n\n  return {\n    items: transposeItems(items, sizes, firstItemIndex),\n    topItems: transposeItems(topItems, sizes, firstItemIndex),\n    topListHeight: topItems.reduce((height, item) => item.size + height, 0),\n    offsetTop,\n    offsetBottom,\n    top,\n    bottom,\n    totalCount,\n  }\n}\n\nexport const listStateSystem = u.system(\n  ([\n    { sizes, totalCount, data, firstItemIndex },\n    groupedListSystem,\n    { visibleRange, listBoundary, topListHeight: rangeTopListHeight },\n    { scrolledToInitialItem, initialTopMostItemIndex },\n    { topListHeight },\n    stateFlags,\n    { didMount },\n  ]) => {\n    const topItemsIndexes = u.statefulStream<Array<number>>([])\n    const itemsRendered = u.stream<ListItems>()\n\n    u.connect(groupedListSystem.topItemsIndexes, topItemsIndexes)\n\n    const listState = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(\n          didMount,\n          u.duc(visibleRange),\n          u.duc(totalCount),\n          u.duc(sizes),\n          u.duc(initialTopMostItemIndex),\n          scrolledToInitialItem,\n          u.duc(topItemsIndexes),\n          u.duc(firstItemIndex),\n          data\n        ),\n        u.filter(([mount]) => mount),\n        u.map(\n          ([\n            ,\n            [startOffset, endOffset],\n            totalCount,\n            sizes,\n            initialTopMostItemIndex,\n            scrolledToInitialItem,\n            topItemsIndexes,\n            firstItemIndex,\n            data,\n          ]) => {\n            const sizesValue = sizes\n            const { sizeTree, offsetTree } = sizesValue\n\n            if (totalCount === 0 || (startOffset === 0 && endOffset === 0)) {\n              return EMPTY_LIST_STATE\n            }\n\n            if (empty(sizeTree)) {\n              return buildListState(probeItemSet(initialTopMostItemIndex, sizesValue, data), [], totalCount, sizesValue, firstItemIndex)\n            }\n\n            const topItems = [] as Item<any>[]\n\n            if (topItemsIndexes.length > 0) {\n              const startIndex = topItemsIndexes[0]\n              const endIndex = topItemsIndexes[topItemsIndexes.length - 1]\n              let offset = 0\n              for (const range of rangesWithin(sizeTree, startIndex, endIndex)) {\n                const size = range.value\n                const rangeStartIndex = Math.max(range.start, startIndex)\n                const rangeEndIndex = Math.min(range.end, endIndex)\n                for (let i = rangeStartIndex; i <= rangeEndIndex; i++) {\n                  topItems.push({ index: i, size, offset: offset, data: data && data[i] })\n                  offset += size\n                }\n              }\n            }\n\n            // If the list hasn't scrolled to the initial item because the initial item was set,\n            // render empty list.\n            //\n            // This is a condition to be evaluated past the probe check, do not merge\n            // with the totalCount check above\n            if (!scrolledToInitialItem) {\n              return buildListState([], topItems, totalCount, sizesValue, firstItemIndex)\n            }\n\n            const minStartIndex = topItemsIndexes.length > 0 ? topItemsIndexes[topItemsIndexes.length - 1] + 1 : 0\n\n            const offsetPointRanges = rangesWithinOffsets(offsetTree, startOffset, endOffset, minStartIndex)\n            if (offsetPointRanges.length === 0) {\n              return null\n            }\n\n            const maxIndex = totalCount - 1\n\n            const items = u.tap([] as Item<any>[], (result) => {\n              for (const range of offsetPointRanges) {\n                const point = range.value\n                let offset = point.offset\n                let rangeStartIndex = range.start\n                const size = point.size\n\n                if (point.offset < startOffset) {\n                  rangeStartIndex += Math.floor((startOffset - point.offset) / size)\n                  offset += (rangeStartIndex - range.start) * size\n                }\n\n                if (rangeStartIndex < minStartIndex) {\n                  offset += (minStartIndex - rangeStartIndex) * size\n                  rangeStartIndex = minStartIndex\n                }\n\n                const endIndex = Math.min(range.end, maxIndex)\n\n                for (let i = rangeStartIndex; i <= endIndex; i++) {\n                  if (offset >= endOffset) {\n                    break\n                  }\n\n                  result.push({ index: i, size, offset: offset, data: data && data[i] })\n                  offset += size\n                }\n              }\n            })\n\n            return buildListState(items, topItems, totalCount, sizesValue, firstItemIndex)\n          }\n        ),\n        //@ts-expect-error filter needs to be fixed\n        u.filter((value) => value !== null),\n        u.distinctUntilChanged()\n      ),\n      EMPTY_LIST_STATE\n    )\n\n    u.connect(\n      u.pipe(\n        data,\n        u.filter((data) => data !== undefined),\n        u.map((data) => data!.length)\n      ),\n      totalCount\n    )\n\n    u.connect(u.pipe(listState, u.map(u.prop('topListHeight'))), topListHeight)\n    u.connect(topListHeight, rangeTopListHeight)\n    u.connect(listState, stateFlags.listStateListener)\n\n    u.connect(\n      u.pipe(\n        listState,\n        u.map((state) => [state.top, state.bottom])\n      ),\n      listBoundary\n    )\n\n    u.connect(\n      u.pipe(\n        listState,\n        u.map((state) => state.items)\n      ),\n      itemsRendered\n    )\n\n    const endReached = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.filter(({ items }) => items.length > 0),\n        u.withLatestFrom(totalCount, data),\n        u.filter(([{ items }, totalCount]) => items[items.length - 1].originalIndex === totalCount - 1),\n        u.map(([, totalCount, data]) => [totalCount - 1, data] as [number, unknown[]]),\n        u.distinctUntilChanged(tupleComparator),\n        u.map(([count]) => count as number)\n      )\n    )\n\n    const startReached = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.throttleTime(200),\n        u.filter(({ items, topItems }) => {\n          return items.length > 0 && items[0].originalIndex === topItems.length\n        }),\n        u.map(({ items }) => items[0].index),\n        u.distinctUntilChanged()\n      )\n    )\n\n    const rangeChanged = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.filter(({ items }) => items.length > 0),\n        u.map(({ items }) => {\n          return {\n            startIndex: items[0].index,\n            endIndex: items[items.length - 1].index,\n          } as ListRange\n        }),\n        u.distinctUntilChanged(rangeComparator)\n      )\n    )\n\n    return { listState, topItemsIndexes, endReached, startReached, rangeChanged, itemsRendered, ...stateFlags }\n  },\n  u.tup(\n    sizeSystem,\n    groupedListSystem,\n    sizeRangeSystem,\n    initialTopMostItemIndexSystem,\n    scrollToIndexSystem,\n    stateFlagsSystem,\n    propsReadySystem\n  ),\n  { singleton: true }\n)\n","export function simpleMemoize<T extends () => any>(func: T): T {\n  let called = false\n  let result: unknown\n\n  return (() => {\n    if (!called) {\n      called = true\n      result = func()\n    }\n    return result\n  }) as T\n}\n","import * as u from '@virtuoso.dev/urx'\nimport { listStateSystem, buildListState } from './listStateSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { propsReadySystem } from './propsReadySystem'\n\nexport const initialItemCountSystem = u.system(\n  ([{ sizes, firstItemIndex, data }, { listState }, { didMount }]) => {\n    const initialItemCount = u.statefulStream(0)\n\n    u.connect(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialItemCount),\n        u.filter(([, count]) => count !== 0),\n        u.withLatestFrom(sizes, firstItemIndex, data),\n        u.map(([[, count], sizes, firstItemIndex, data = []]) => {\n          let includedGroupsCount = 0\n          if (sizes.groupIndices.length > 0) {\n            for (const index of sizes.groupIndices) {\n              if (index - includedGroupsCount >= count) {\n                break\n              }\n              includedGroupsCount++\n            }\n          }\n          const adjustedCount = count + includedGroupsCount\n          const items = Array.from({ length: adjustedCount }).map((_, index) => ({ index, size: 0, offset: 0, data: data[index] }))\n          return buildListState(items, [], adjustedCount, sizes, firstItemIndex)\n        })\n      ),\n      listState\n    )\n\n    return { initialItemCount }\n  },\n  u.tup(sizeSystem, listStateSystem, propsReadySystem),\n  { singleton: true }\n)\n","import { connect, system, map, pipe, statefulStream, tup, filter } from '@virtuoso.dev/urx'\nimport { listStateSystem } from './listStateSystem'\n\nexport const topItemCountSystem = system(([{ topItemsIndexes }]) => {\n  const topItemCount = statefulStream(0)\n\n  connect(\n    pipe(\n      topItemCount,\n      filter((length) => length > 0),\n      map((length) => Array.from({ length }).map((_, index) => index))\n    ),\n    topItemsIndexes\n  )\n  return { topItemCount }\n}, tup(listStateSystem))\n","import * as u from '@virtuoso.dev/urx'\nimport { listStateSystem } from './listStateSystem'\nimport { domIOSystem } from './domIOSystem'\n\nexport const totalListHeightSystem = u.system(\n  ([{ footerHeight, headerHeight }, { listState }]) => {\n    const totalListHeightChanged = u.stream<number>()\n    const totalListHeight = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(footerHeight, headerHeight, listState),\n        u.map(([footerHeight, headerHeight, listState]) => {\n          return footerHeight + headerHeight + listState.offsetBottom + listState.bottom\n        })\n      ),\n      0\n    )\n\n    u.connect(u.duc(totalListHeight), totalListHeightChanged)\n\n    return { totalListHeight, totalListHeightChanged }\n  },\n  u.tup(domIOSystem, listStateSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { UP, domIOSystem } from './domIOSystem'\nimport { listStateSystem } from './listStateSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { stateFlagsSystem } from './stateFlagsSystem'\nimport { ListItem } from './interfaces'\nimport { loggerSystem, LogLevel } from './loggerSystem'\n\n/**\n * Fixes upward scrolling by calculating and compensation from changed item heights, using scrollBy.\n */\nexport const upwardScrollFixSystem = u.system(\n  ([\n    { scrollBy, scrollTop, scrollDirection, deviation, scrollingInProgress },\n    { isScrolling },\n    { listState },\n    { beforeUnshiftWith, sizes },\n    { log },\n  ]) => {\n    const deviationOffset = u.streamFromEmitter(\n      u.pipe(\n        listState,\n        u.scan(\n          ([, prevItems], { items }) => {\n            let newDev = 0\n            if (prevItems.length > 0 && items.length > 0) {\n              const firstItemIndex = items[0].originalIndex\n              const prevFirstItemIndex = prevItems[0].originalIndex\n              const atStart = firstItemIndex === 0 && prevFirstItemIndex === 0\n\n              if (!atStart) {\n                // Handles an item taller than the viewport\n                if (firstItemIndex === prevFirstItemIndex) {\n                  newDev = items[0].size - prevItems[0].size\n                } else {\n                  for (let index = items.length - 1; index >= 0; index--) {\n                    const item = items[index]\n\n                    const prevItem = prevItems.find((pItem) => pItem.originalIndex === item.originalIndex)\n\n                    if (!prevItem) {\n                      continue\n                    }\n\n                    if (item.offset !== prevItem.offset) {\n                      newDev = item.offset - prevItem.offset\n                      break\n                    }\n                  }\n                }\n              }\n            }\n            return [newDev, items] as [number, ListItem<any>[]]\n          },\n          [0, []] as [number, ListItem<any>[]]\n        ),\n        u.filter(([amount]) => amount !== 0),\n        u.withLatestFrom(scrollTop, scrollDirection, scrollingInProgress, log),\n        u.filter(([, scrollTop, scrollDirection, scrollingInProgress]) => {\n          return !scrollingInProgress && scrollTop !== 0 && scrollDirection === UP\n        }),\n        u.map(([[amount], , , , log]) => {\n          log('Upward scrolling compensation', { amount }, LogLevel.DEBUG)\n          return amount\n        })\n      )\n    )\n\n    u.connect(\n      u.pipe(\n        deviationOffset,\n        u.withLatestFrom(deviation),\n        u.map(([amount, deviation]) => deviation - amount)\n      ),\n      deviation\n    )\n\n    // when the browser stops scrolling,\n    // restore the position and reset the glitching\n    u.subscribe(\n      u.pipe(\n        u.combineLatest(u.statefulStreamFromEmitter(isScrolling, false), deviation),\n        u.filter(([is, deviation]) => !is && deviation !== 0),\n        u.map(([_, deviation]) => deviation),\n        u.throttleTime(1)\n      ),\n      (offset) => {\n        if (offset > 0) {\n          u.publish(scrollBy, { top: -offset, behavior: 'auto' })\n          u.publish(deviation, 0)\n        } else {\n          u.publish(deviation, 0)\n          u.publish(scrollBy, { top: -offset, behavior: 'auto' })\n        }\n      }\n    )\n\n    u.connect(\n      u.pipe(\n        beforeUnshiftWith,\n        u.withLatestFrom(sizes),\n        u.map(([offset, { lastSize }]) => offset * lastSize)\n      ),\n      deviationOffset\n    )\n\n    return { deviation }\n  },\n  u.tup(domIOSystem, stateFlagsSystem, listStateSystem, sizeSystem, loggerSystem)\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { totalListHeightSystem } from './totalListHeightSystem'\nimport { propsReadySystem } from './propsReadySystem'\nimport { domIOSystem } from './domIOSystem'\n\nexport const initialScrollTopSystem = u.system(\n  ([{ totalListHeight }, { didMount }, { scrollTo }]) => {\n    const initialScrollTop = u.statefulStream(0)\n\n    u.subscribe(\n      u.pipe(\n        didMount,\n        u.withLatestFrom(initialScrollTop),\n        u.filter(([, offset]) => offset !== 0),\n        u.map(([, offset]) => ({ top: offset }))\n      ),\n      (location) => {\n        u.handleNext(\n          u.pipe(\n            totalListHeight,\n            u.filter((val) => val !== 0)\n          ),\n          () => {\n            setTimeout(() => {\n              u.publish(scrollTo, location)\n            })\n          }\n        )\n      }\n    )\n\n    return {\n      initialScrollTop,\n    }\n  },\n  u.tup(totalListHeightSystem, propsReadySystem, domIOSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { totalListHeightSystem } from './totalListHeightSystem'\nimport { domIOSystem } from './domIOSystem'\n\nexport const alignToBottomSystem = u.system(\n  ([{ viewportHeight }, { totalListHeight }]) => {\n    const alignToBottom = u.statefulStream(false)\n\n    const paddingTopAddition = u.statefulStreamFromEmitter(\n      u.pipe(\n        u.combineLatest(alignToBottom, viewportHeight, totalListHeight),\n        u.filter(([enabled]) => enabled),\n        u.map(([, viewportHeight, totalListHeight]) => {\n          return Math.max(0, viewportHeight - totalListHeight)\n        }),\n        u.distinctUntilChanged()\n      ),\n      0\n    )\n\n    return { alignToBottom, paddingTopAddition }\n  },\n  u.tup(domIOSystem, totalListHeightSystem),\n  { singleton: true }\n)\n","import * as u from '@virtuoso.dev/urx'\nimport { domIOSystem } from './domIOSystem'\nimport { followOutputSystem } from './followOutputSystem'\nimport { groupedListSystem } from './groupedListSystem'\nimport { initialItemCountSystem } from './initialItemCountSystem'\nimport { initialTopMostItemIndexSystem } from './initialTopMostItemIndexSystem'\nimport { listStateSystem } from './listStateSystem'\nimport { propsReadySystem } from './propsReadySystem'\nimport { scrollSeekSystem } from './scrollSeekSystem'\nimport { scrollToIndexSystem } from './scrollToIndexSystem'\nimport { sizeRangeSystem } from './sizeRangeSystem'\nimport { sizeSystem } from './sizeSystem'\nimport { topItemCountSystem } from './topItemCountSystem'\nimport { totalListHeightSystem } from './totalListHeightSystem'\nimport { upwardScrollFixSystem } from './upwardScrollFixSystem'\nimport { initialScrollTopSystem } from './initialScrollTopSystem'\nimport { alignToBottomSystem } from './alignToBottomSystem'\nimport { windowScrollerSystem } from './windowScrollerSystem'\nimport { loggerSystem } from './loggerSystem'\n\n// workaround the growing list of systems below\n// fix this with 4.1 recursive conditional types\nconst featureGroup1System = u.system(\n  ([sizeRange, initialItemCount, propsReady, scrollSeek, totalListHeight, initialScrollTopSystem, alignToBottom, windowScroller]) => {\n    return {\n      ...sizeRange,\n      ...initialItemCount,\n      ...propsReady,\n      ...scrollSeek,\n      ...totalListHeight,\n      ...initialScrollTopSystem,\n      ...alignToBottom,\n      ...windowScroller,\n    }\n  },\n  u.tup(\n    sizeRangeSystem,\n    initialItemCountSystem,\n    propsReadySystem,\n    scrollSeekSystem,\n    totalListHeightSystem,\n    initialScrollTopSystem,\n    alignToBottomSystem,\n    windowScrollerSystem\n  )\n)\n\nexport const listSystem = u.system(\n  ([\n    { totalCount, sizeRanges, fixedItemSize, defaultItemSize, trackItemSizes, itemSize, data, firstItemIndex, groupIndices },\n    { initialTopMostItemIndex, scrolledToInitialItem },\n    domIO,\n    followOutput,\n    { listState, topItemsIndexes, ...flags },\n    { scrollToIndex },\n    _,\n    { topItemCount },\n    { groupCounts },\n    featureGroup1,\n    log,\n  ]) => {\n    u.connect(flags.rangeChanged, featureGroup1.scrollSeekRangeChanged)\n    u.connect(u.pipe(featureGroup1.windowViewportRect, u.map(u.prop('visibleHeight'))), domIO.viewportHeight)\n\n    return {\n      // input\n      totalCount,\n      data,\n      firstItemIndex,\n      sizeRanges,\n      initialTopMostItemIndex,\n      scrolledToInitialItem,\n      topItemsIndexes,\n      topItemCount,\n      groupCounts,\n      fixedItemHeight: fixedItemSize,\n      defaultItemHeight: defaultItemSize,\n      ...followOutput,\n\n      // output\n      listState,\n      scrollToIndex,\n      trackItemSizes,\n      itemSize,\n      groupIndices,\n\n      // exported from stateFlagsSystem\n      ...flags,\n      // the bag of IO from featureGroup1System\n      ...featureGroup1,\n      ...domIO,\n      ...log,\n    }\n  },\n  u.tup(\n    sizeSystem,\n    initialTopMostItemIndexSystem,\n    domIOSystem,\n    followOutputSystem,\n    listStateSystem,\n    scrollToIndexSystem,\n    upwardScrollFixSystem,\n    topItemCountSystem,\n    groupedListSystem,\n    featureGroup1System,\n    loggerSystem\n  )\n)\n","import { simpleMemoize } from './simpleMemoize'\n\nconst WEBKIT_STICKY = '-webkit-sticky'\nconst STICKY = 'sticky'\n\nexport const positionStickyCssValue = simpleMemoize(() => {\n  if (typeof document === 'undefined') {\n    return STICKY\n  }\n  const node = document.createElement('div')\n  node.style.position = WEBKIT_STICKY\n  return node.style.position === WEBKIT_STICKY ? WEBKIT_STICKY : STICKY\n})\n","import { RefHandle, systemToComponent } from '@virtuoso.dev/react-urx'\nimport {\n  compose,\n  connect,\n  getValue,\n  map,\n  pipe,\n  publish,\n  statefulStream,\n  stream,\n  Stream,\n  subscribe,\n  system,\n  tup,\n  withLatestFrom,\n  statefulStreamFromEmitter,\n  distinctUntilChanged,\n  noop,\n} from '@virtuoso.dev/urx'\nimport * as React from 'react'\nimport { createElement, CSSProperties, FC } from 'react'\nimport useIsomorphicLayoutEffect from './hooks/useIsomorphicLayoutEffect'\nimport useChangedChildSizes from './hooks/useChangedChildSizes'\nimport useScrollTop from './hooks/useScrollTop'\nimport useSize from './hooks/useSize'\nimport { Components, ComputeItemKey, GroupContent, GroupItemContent, ItemContent, ListRootProps } from './interfaces'\nimport { listSystem } from './listSystem'\nimport { positionStickyCssValue } from './utils/positionStickyCssValue'\nimport useWindowViewportRectRef from './hooks/useWindowViewportRect'\nimport { correctItemSize } from './utils/correctItemSize'\n\nexport function identity<T>(value: T) {\n  return value\n}\n\nconst listComponentPropsSystem = system(() => {\n  const itemContent = statefulStream<ItemContent<any> | GroupItemContent<any>>((index: number) => `Item ${index}`)\n  const groupContent = statefulStream<GroupContent>((index: number) => `Group ${index}`)\n  const components = statefulStream<Components>({})\n  const computeItemKey = statefulStream<ComputeItemKey<any>>(identity)\n  const headerFooterTag = statefulStream('div')\n  const scrollerRef = statefulStream<(ref: HTMLElement | Window | null) => void>(noop)\n\n  const distinctProp = <K extends keyof Components>(propName: K, defaultValue: Components[K] | null | 'div' = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components) => components[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    )\n  }\n\n  return {\n    itemContent,\n    groupContent,\n    components,\n    computeItemKey,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp('Footer'),\n    HeaderComponent: distinctProp('Header'),\n    TopItemListComponent: distinctProp('TopItemList'),\n    ListComponent: distinctProp('List', 'div'),\n    ItemComponent: distinctProp('Item', 'div'),\n    GroupComponent: distinctProp('Group', 'div'),\n    ScrollerComponent: distinctProp('Scroller', 'div'),\n    EmptyPlaceholder: distinctProp('EmptyPlaceholder'),\n    ScrollSeekPlaceholder: distinctProp('ScrollSeekPlaceholder'),\n  }\n})\n\nexport function addDeprecatedAlias<T>(prop: Stream<T>, message: string) {\n  const alias = stream<T>()\n  subscribe(alias, () =>\n    console.warn(`react-virtuoso: You are using a deprecated property. ${message}`, 'color: red;', 'color: inherit;', 'color: blue;')\n  )\n  connect(alias, prop)\n  return alias\n}\n\nconst combinedSystem = system(([listSystem, propsSystem]) => {\n  const deprecatedProps = {\n    item: addDeprecatedAlias(propsSystem.itemContent, 'Rename the %citem%c prop to %citemContent.'),\n    group: addDeprecatedAlias(propsSystem.groupContent, 'Rename the %cgroup%c prop to %cgroupContent.'),\n    topItems: addDeprecatedAlias(listSystem.topItemCount, 'Rename the %ctopItems%c prop to %ctopItemCount.'),\n    itemHeight: addDeprecatedAlias(listSystem.fixedItemHeight, 'Rename the %citemHeight%c prop to %cfixedItemHeight.'),\n    scrollingStateChange: addDeprecatedAlias(listSystem.isScrolling, 'Rename the %cscrollingStateChange%c prop to %cisScrolling.'),\n    adjustForPrependedItems: stream<any>(),\n    maxHeightCacheSize: stream<any>(),\n    footer: stream<any>(),\n    header: stream<any>(),\n    HeaderContainer: stream<any>(),\n    FooterContainer: stream<any>(),\n    ItemContainer: stream<any>(),\n    ScrollContainer: stream<any>(),\n    GroupContainer: stream<any>(),\n    ListContainer: stream<any>(),\n    emptyComponent: stream<any>(),\n    scrollSeek: stream<any>(),\n  }\n\n  subscribe(deprecatedProps.adjustForPrependedItems, () => {\n    console.warn(\n      `react-virtuoso: adjustForPrependedItems is no longer supported. Use the firstItemIndex property instead - https://virtuoso.dev/prepend-items.`,\n      'color: red;',\n      'color: inherit;',\n      'color: blue;'\n    )\n  })\n\n  subscribe(deprecatedProps.maxHeightCacheSize, () => {\n    console.warn(`react-virtuoso: maxHeightCacheSize is no longer necessary. Setting it has no effect - remove it from your code.`)\n  })\n\n  subscribe(deprecatedProps.HeaderContainer, () => {\n    console.warn(\n      `react-virtuoso: HeaderContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the header component and pass components.Header to change its contents.`\n    )\n  })\n\n  subscribe(deprecatedProps.FooterContainer, () => {\n    console.warn(\n      `react-virtuoso: FooterContainer is deprecated. Use headerFooterTag if you want to change the wrapper of the footer component and pass components.Footer to change its contents.`\n    )\n  })\n\n  function deprecateComponentProp(stream: Stream<any>, componentName: string, propName: string) {\n    connect(\n      pipe(\n        stream,\n        withLatestFrom(propsSystem.components),\n        map(([comp, components]) => {\n          console.warn(`react-virtuoso: ${propName} property is deprecated. Pass components.${componentName} instead.`)\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n          return { ...components, [componentName]: comp }\n        })\n      ),\n      propsSystem.components\n    )\n  }\n\n  subscribe(deprecatedProps.scrollSeek, ({ placeholder, ...config }) => {\n    console.warn(\n      `react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.`\n    )\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    publish(propsSystem.components, { ...getValue(propsSystem.components), ScrollSeekPlaceholder: placeholder })\n    publish(listSystem.scrollSeekConfiguration, config)\n  })\n\n  deprecateComponentProp(deprecatedProps.footer, 'Footer', 'footer')\n  deprecateComponentProp(deprecatedProps.header, 'Header', 'header')\n  deprecateComponentProp(deprecatedProps.ItemContainer, 'Item', 'ItemContainer')\n  deprecateComponentProp(deprecatedProps.ListContainer, 'List', 'ListContainer')\n  deprecateComponentProp(deprecatedProps.ScrollContainer, 'Scroller', 'ScrollContainer')\n  deprecateComponentProp(deprecatedProps.emptyComponent, 'EmptyPlaceholder', 'emptyComponent')\n  deprecateComponentProp(deprecatedProps.GroupContainer, 'Group', 'GroupContainer')\n\n  return { ...listSystem, ...propsSystem, ...deprecatedProps }\n}, tup(listSystem, listComponentPropsSystem))\n\nconst DefaultScrollSeekPlaceholder = ({ height }: { height: number }) => <div style={{ height }}></div>\n\nconst GROUP_STYLE = { position: positionStickyCssValue(), zIndex: 1 }\n\nexport const Items = React.memo(function VirtuosoItems({ showTopList = false }: { showTopList?: boolean }) {\n  const listState = useEmitterValue('listState')\n  const deviation = useEmitterValue('deviation')\n  const sizeRanges = usePublisher('sizeRanges')\n  const itemContent = useEmitterValue('itemContent')\n  const groupContent = useEmitterValue('groupContent')\n  const trackItemSizes = useEmitterValue('trackItemSizes')\n  const itemSize = useEmitterValue('itemSize')\n  const log = useEmitterValue('log')\n\n  const ref = useChangedChildSizes(sizeRanges, itemSize, trackItemSizes, log)\n  const EmptyPlaceholder = useEmitterValue('EmptyPlaceholder')\n  const ScrollSeekPlaceholder = useEmitterValue('ScrollSeekPlaceholder') || DefaultScrollSeekPlaceholder\n  const ListComponent = useEmitterValue('ListComponent')!\n  const ItemComponent = useEmitterValue('ItemComponent')!\n  const GroupComponent = useEmitterValue('GroupComponent')!\n  const computeItemKey = useEmitterValue('computeItemKey')\n  const isSeeking = useEmitterValue('isSeeking')\n  const hasGroups = useEmitterValue('groupIndices').length > 0\n  const paddingTopAddition = useEmitterValue('paddingTopAddition')\n  const scrolledToInitialItem = useEmitterValue('scrolledToInitialItem')\n  const firstItemIndex = useEmitterValue('firstItemIndex')\n\n  // const calculatedHeight = listState.offsetBottom + listState.bottom\n  const containerStyle: CSSProperties = showTopList\n    ? {}\n    : {\n        boxSizing: 'border-box',\n        paddingTop: listState.offsetTop + paddingTopAddition,\n        paddingBottom: listState.offsetBottom,\n        marginTop: deviation,\n        // height: calculatedHeight,\n      }\n\n  if (!showTopList && listState.items.length === 0 && EmptyPlaceholder && scrolledToInitialItem) {\n    return createElement(EmptyPlaceholder)\n  }\n\n  return createElement(\n    ListComponent,\n    { ref, style: containerStyle, 'data-test-id': showTopList ? 'virtuoso-top-item-list' : 'virtuoso-item-list' },\n    (showTopList ? listState.topItems : listState.items).map((item) => {\n      const index = item.originalIndex!\n      const key = computeItemKey(index + firstItemIndex, item.data)\n\n      if (isSeeking) {\n        return createElement(ScrollSeekPlaceholder, { key, index: item.index, height: item.size })\n      }\n\n      if (item.type === 'group') {\n        return createElement(\n          GroupComponent,\n          {\n            key,\n            'data-index': index,\n            'data-known-size': item.size,\n            'data-item-index': item.index,\n            style: GROUP_STYLE,\n          } as any,\n          groupContent(item.index)\n        )\n      } else {\n        return createElement(\n          ItemComponent,\n          {\n            key,\n            'data-index': index,\n            'data-known-size': item.size,\n            'data-item-index': item.index,\n            'data-item-group-index': item.groupIndex,\n          } as any,\n          hasGroups\n            ? (itemContent as GroupItemContent<any>)(item.index, item.groupIndex!, item.data)\n            : (itemContent as ItemContent<any>)(item.index, item.data)\n        )\n      }\n    })\n  )\n})\n\nexport const scrollerStyle: CSSProperties = {\n  height: '100%',\n  outline: 'none',\n  overflowY: 'auto',\n  position: 'relative',\n  WebkitOverflowScrolling: 'touch',\n}\n\nexport const viewportStyle: CSSProperties = {\n  width: '100%',\n  height: '100%',\n  position: 'absolute',\n  top: 0,\n}\n\nconst topItemListStyle: CSSProperties = {\n  width: '100%',\n  position: positionStickyCssValue(),\n  top: 0,\n}\n\nconst Header: FC = React.memo(function VirtuosoHeader() {\n  const Header = useEmitterValue('HeaderComponent')\n  const headerHeight = usePublisher('headerHeight')\n  const headerFooterTag = useEmitterValue('headerFooterTag')\n  const ref = useSize((el) => headerHeight(correctItemSize(el, 'height')))\n  return Header ? createElement(headerFooterTag, { ref }, createElement(Header)) : null\n})\n\nconst Footer: FC = React.memo(function VirtuosoFooter() {\n  const Footer = useEmitterValue('FooterComponent')\n  const footerHeight = usePublisher('footerHeight')\n  const headerFooterTag = useEmitterValue('headerFooterTag')\n  const ref = useSize((el) => footerHeight(correctItemSize(el, 'height')))\n  return Footer ? createElement(headerFooterTag, { ref }, createElement(Footer)) : null\n})\n\nexport interface Hooks {\n  usePublisher: typeof usePublisher\n  useEmitterValue: typeof useEmitterValue\n  useEmitter: typeof useEmitter\n}\n\nexport function buildScroller({ usePublisher, useEmitter, useEmitterValue }: Hooks) {\n  const Scroller: Components['Scroller'] = React.memo(function VirtuosoScroller({ style, children, ...props }) {\n    const scrollTopCallback = usePublisher('scrollTop')\n    const ScrollerComponent = useEmitterValue('ScrollerComponent')!\n    const smoothScrollTargetReached = usePublisher('smoothScrollTargetReached')\n    const scrollerRefCallback = useEmitterValue('scrollerRef')\n\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollTopCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      scrollerRefCallback\n    )\n\n    useEmitter('scrollTo', scrollToCallback)\n    useEmitter('scrollBy', scrollByCallback)\n    return createElement(\n      ScrollerComponent,\n      {\n        ref: scrollerRef as React.MutableRefObject<HTMLDivElement | null>,\n        style: { ...scrollerStyle, ...style },\n        tabIndex: 0,\n        ...props,\n      },\n      children\n    )\n  })\n  return Scroller\n}\n\nexport function buildWindowScroller({ usePublisher, useEmitter, useEmitterValue }: Hooks) {\n  const Scroller: Components['Scroller'] = React.memo(function VirtuosoWindowScroller({ style, children, ...props }) {\n    const scrollTopCallback = usePublisher('windowScrollTop')\n    const ScrollerComponent = useEmitterValue('ScrollerComponent')!\n    const smoothScrollTargetReached = usePublisher('smoothScrollTargetReached')\n    const totalListHeight = useEmitterValue('totalListHeight')\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollTopCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent\n    )\n\n    useIsomorphicLayoutEffect(() => {\n      scrollerRef.current = window\n      return () => {\n        scrollerRef.current = null\n      }\n    }, [scrollerRef])\n\n    useEmitter('windowScrollTo', scrollToCallback)\n    useEmitter('scrollBy', scrollByCallback)\n    return createElement(\n      ScrollerComponent,\n      {\n        style: { position: 'relative', ...style, ...(totalListHeight !== 0 ? { height: totalListHeight } : {}) },\n        ...props,\n      },\n      children\n    )\n  })\n  return Scroller\n}\n\nconst Viewport: FC = ({ children }) => {\n  const viewportHeight = usePublisher('viewportHeight')\n  const viewportRef = useSize(compose(viewportHeight, (el) => correctItemSize(el, 'height')))\n\n  return (\n    <div style={viewportStyle} ref={viewportRef}>\n      {children}\n    </div>\n  )\n}\n\nconst WindowViewport: FC = ({ children }) => {\n  const windowViewportRect = usePublisher('windowViewportRect')\n  const viewportRef = useWindowViewportRectRef(windowViewportRect)\n\n  return (\n    <div ref={viewportRef} style={viewportStyle}>\n      {children}\n    </div>\n  )\n}\n\nconst TopItemListContainer: FC = ({ children }) => {\n  const TopItemList = useEmitterValue('TopItemListComponent')\n  const headerHeight = useEmitterValue('headerHeight')\n  const style = { ...topItemListStyle, marginTop: `${headerHeight}px` }\n  return createElement(TopItemList || 'div', { style }, children)\n}\n\nconst ListRoot: FC<ListRootProps> = React.memo(function VirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const showTopList = useEmitterValue('topItemsIndexes').length > 0\n  const TheScroller = useWindowScroll ? WindowScroller : Scroller\n  const TheViewport = useWindowScroll ? WindowViewport : Viewport\n  return (\n    <TheScroller {...props}>\n      <TheViewport>\n        <Header />\n        <Items />\n        <Footer />\n      </TheViewport>\n      {showTopList && (\n        <TopItemListContainer>\n          <Items showTopList={true} />\n        </TopItemListContainer>\n      )}\n    </TheScroller>\n  )\n})\n\nexport type ListHandle = RefHandle<typeof List>\n\nexport const { Component: List, usePublisher, useEmitterValue, useEmitter } = systemToComponent(\n  combinedSystem,\n  {\n    required: {},\n    optional: {\n      followOutput: 'followOutput',\n      firstItemIndex: 'firstItemIndex',\n      itemContent: 'itemContent',\n      groupContent: 'groupContent',\n      overscan: 'overscan',\n      totalCount: 'totalCount',\n      topItemCount: 'topItemCount',\n      initialTopMostItemIndex: 'initialTopMostItemIndex',\n      components: 'components',\n      groupCounts: 'groupCounts',\n      computeItemKey: 'computeItemKey',\n      defaultItemHeight: 'defaultItemHeight',\n      fixedItemHeight: 'fixedItemHeight',\n      itemSize: 'itemSize',\n      scrollSeekConfiguration: 'scrollSeekConfiguration',\n      headerFooterTag: 'headerFooterTag',\n      data: 'data',\n      initialItemCount: 'initialItemCount',\n      initialScrollTop: 'initialScrollTop',\n      alignToBottom: 'alignToBottom',\n      useWindowScroll: 'useWindowScroll',\n      scrollerRef: 'scrollerRef',\n      logLevel: 'logLevel',\n\n      // deprecated\n      item: 'item',\n      group: 'group',\n      topItems: 'topItems',\n      itemHeight: 'itemHeight',\n      scrollingStateChange: 'scrollingStateChange',\n      maxHeightCacheSize: 'maxHeightCacheSize',\n      footer: 'footer',\n      header: 'header',\n      ItemContainer: 'ItemContainer',\n      ScrollContainer: 'ScrollContainer',\n      ListContainer: 'ListContainer',\n      GroupContainer: 'GroupContainer',\n      emptyComponent: 'emptyComponent',\n      HeaderContainer: 'HeaderContainer',\n      FooterContainer: 'FooterContainer',\n      scrollSeek: 'scrollSeek',\n    },\n    methods: {\n      scrollToIndex: 'scrollToIndex',\n      scrollTo: 'scrollTo',\n      scrollBy: 'scrollBy',\n      adjustForPrependedItems: 'adjustForPrependedItems',\n    },\n    events: {\n      isScrolling: 'isScrolling',\n      endReached: 'endReached',\n      startReached: 'startReached',\n      rangeChanged: 'rangeChanged',\n      atBottomStateChange: 'atBottomStateChange',\n      atTopStateChange: 'atTopStateChange',\n      totalListHeightChanged: 'totalListHeightChanged',\n      itemsRendered: 'itemsRendered',\n      groupIndices: 'groupIndices',\n    },\n  },\n  ListRoot\n)\n\nconst Scroller = buildScroller({ usePublisher, useEmitterValue, useEmitter })\nconst WindowScroller = buildWindowScroller({ usePublisher, useEmitterValue, useEmitter })\n","import { Log, LogLevel } from '../loggerSystem'\nimport { SizeFunction, SizeRange } from '../sizeSystem'\nimport useSize from './useSize'\n\nexport default function useChangedChildSizes(callback: (ranges: SizeRange[]) => void, itemSize: SizeFunction, enabled: boolean, log: Log) {\n  return useSize((el: HTMLElement) => {\n    const ranges = getChangedChildSizes(el.children, itemSize, 'offsetHeight', log)\n    if (ranges !== null) {\n      callback(ranges)\n    }\n  }, enabled)\n}\n\nfunction getChangedChildSizes(children: HTMLCollection, itemSize: SizeFunction, field: 'offsetHeight' | 'offsetWidth', log: Log) {\n  const length = children.length\n\n  if (length === 0) {\n    return null\n  }\n\n  const results: SizeRange[] = []\n\n  for (let i = 0; i < length; i++) {\n    const child = children.item(i) as HTMLElement\n\n    if (!child || child.dataset.index === undefined) {\n      continue\n    }\n\n    const index = parseInt(child.dataset.index!)\n    const knownSize = parseFloat(child.dataset.knownSize!)\n    const size = itemSize(child, field)\n\n    if (size === 0) {\n      log('Zero-sized element, this should not happen', { child }, LogLevel.ERROR)\n    }\n\n    if (size === knownSize) {\n      continue\n    }\n\n    const lastResult = results[results.length - 1]\n    if (results.length === 0 || lastResult.size !== size || lastResult.endIndex !== index - 1) {\n      results.push({ startIndex: index, endIndex: index, size })\n    } else {\n      results[results.length - 1].endIndex++\n    }\n  }\n\n  return results\n}\n","import { RefHandle, systemToComponent } from '@virtuoso.dev/react-urx'\n\nimport * as u from '@virtuoso.dev/urx'\nimport * as React from 'react'\nimport { createElement, FC } from 'react'\nimport { gridSystem } from './gridSystem'\nimport useSize from './hooks/useSize'\nimport useWindowViewportRectRef from './hooks/useWindowViewportRect'\nimport { GridComponents, GridComputeItemKey, GridItemContent, GridRootProps } from './interfaces'\nimport { addDeprecatedAlias, buildScroller, buildWindowScroller, identity, viewportStyle } from './List'\n\nconst gridComponentPropsSystem = u.system(() => {\n  const itemContent = u.statefulStream<GridItemContent>((index) => `Item ${index}`)\n  const components = u.statefulStream<GridComponents>({})\n  const itemClassName = u.statefulStream('virtuoso-grid-item')\n  const listClassName = u.statefulStream('virtuoso-grid-list')\n  const computeItemKey = u.statefulStream<GridComputeItemKey>(identity)\n  const scrollerRef = u.statefulStream<(ref: HTMLElement | null) => void>(u.noop)\n\n  const distinctProp = <K extends keyof GridComponents>(propName: K, defaultValue: GridComponents[K] | null | 'div' = null) => {\n    return u.statefulStreamFromEmitter(\n      u.pipe(\n        components,\n        u.map((components) => components[propName]),\n        u.distinctUntilChanged()\n      ),\n      defaultValue\n    )\n  }\n\n  return {\n    itemContent,\n    components,\n    computeItemKey,\n    itemClassName,\n    listClassName,\n    scrollerRef,\n    ListComponent: distinctProp('List', 'div'),\n    ItemComponent: distinctProp('Item', 'div'),\n    ScrollerComponent: distinctProp('Scroller', 'div'),\n    ScrollSeekPlaceholder: distinctProp('ScrollSeekPlaceholder', 'div'),\n  }\n})\n\nconst combinedSystem = u.system(([gridSystem, gridComponentPropsSystem]) => {\n  const deprecatedProps = {\n    item: addDeprecatedAlias(gridComponentPropsSystem.itemContent, 'Rename the %citem%c prop to %citemContent.'),\n    ItemContainer: u.stream<any>(),\n    ScrollContainer: u.stream<any>(),\n    ListContainer: u.stream<any>(),\n    emptyComponent: u.stream<any>(),\n    scrollSeek: u.stream<any>(),\n  }\n\n  function deprecateComponentProp(stream: u.Stream<any>, componentName: string, propName: string) {\n    u.connect(\n      u.pipe(\n        stream,\n        u.withLatestFrom(gridComponentPropsSystem.components),\n        u.map(([comp, components]) => {\n          console.warn(`react-virtuoso: ${propName} property is deprecated. Pass components.${componentName} instead.`)\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n          return { ...components, [componentName]: comp }\n        })\n      ),\n      gridComponentPropsSystem.components\n    )\n  }\n\n  u.subscribe(deprecatedProps.scrollSeek, ({ placeholder, ...config }) => {\n    console.warn(\n      `react-virtuoso: scrollSeek property is deprecated. Pass scrollSeekConfiguration and specify the placeholder in components.ScrollSeekPlaceholder instead.`\n    )\n    u.publish(gridComponentPropsSystem.components, {\n      ...u.getValue(gridComponentPropsSystem.components),\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      ScrollSeekPlaceholder: placeholder,\n    })\n    u.publish(gridSystem.scrollSeekConfiguration, config)\n  })\n\n  deprecateComponentProp(deprecatedProps.ItemContainer, 'Item', 'ItemContainer')\n  deprecateComponentProp(deprecatedProps.ListContainer, 'List', 'ListContainer')\n  deprecateComponentProp(deprecatedProps.ScrollContainer, 'Scroller', 'ScrollContainer')\n\n  return { ...gridSystem, ...gridComponentPropsSystem, ...deprecatedProps }\n}, u.tup(gridSystem, gridComponentPropsSystem))\n\nconst GridItems: FC = React.memo(function GridItems() {\n  const gridState = useEmitterValue('gridState')\n  const listClassName = useEmitterValue('listClassName')\n  const itemClassName = useEmitterValue('itemClassName')\n  const itemContent = useEmitterValue('itemContent')\n  const computeItemKey = useEmitterValue('computeItemKey')\n  const isSeeking = useEmitterValue('isSeeking')\n  const ItemComponent = useEmitterValue('ItemComponent')!\n  const ListComponent = useEmitterValue('ListComponent')!\n  const ScrollSeekPlaceholder = useEmitterValue('ScrollSeekPlaceholder')!\n\n  const itemDimensions = usePublisher('itemDimensions')\n\n  const listRef = useSize((el) => {\n    const firstItem = el.firstChild as HTMLElement\n    if (firstItem) {\n      itemDimensions(firstItem.getBoundingClientRect())\n    }\n  })\n\n  return createElement(\n    ListComponent,\n    { ref: listRef, className: listClassName, style: { paddingTop: gridState.offsetTop, paddingBottom: gridState.offsetBottom } },\n    gridState.items.map((item) => {\n      const key = computeItemKey(item.index)\n      return isSeeking\n        ? createElement(ScrollSeekPlaceholder, { key, style: { height: gridState.itemHeight, width: gridState.itemWidth } })\n        : createElement(ItemComponent, { className: itemClassName, 'data-index': item.index, key }, itemContent(item.index))\n    })\n  )\n})\n\nconst Viewport: FC = ({ children }) => {\n  const viewportDimensions = usePublisher('viewportDimensions')\n\n  const viewportRef = useSize((el) => {\n    viewportDimensions(el.getBoundingClientRect())\n  })\n\n  return (\n    <div style={viewportStyle} ref={viewportRef}>\n      {children}\n    </div>\n  )\n}\n\nconst WindowViewport: FC = ({ children }) => {\n  const windowViewportRect = usePublisher('windowViewportRect')\n  const viewportRef = useWindowViewportRectRef(windowViewportRect)\n\n  return (\n    <div ref={viewportRef} style={viewportStyle}>\n      {children}\n    </div>\n  )\n}\n\nconst GridRoot: FC<GridRootProps> = React.memo(function GridRoot({ ...props }) {\n  const useWindowScroll = useEmitterValue('useWindowScroll')\n  const TheScroller = useWindowScroll ? WindowScroller : Scroller\n  const TheViewport = useWindowScroll ? WindowViewport : Viewport\n\n  return (\n    <TheScroller {...props}>\n      <TheViewport>\n        <GridItems />\n      </TheViewport>\n    </TheScroller>\n  )\n})\n\nconst { Component: Grid, usePublisher, useEmitterValue, useEmitter } = systemToComponent(\n  combinedSystem,\n  {\n    optional: {\n      totalCount: 'totalCount',\n      overscan: 'overscan',\n      itemContent: 'itemContent',\n      components: 'components',\n      computeItemKey: 'computeItemKey',\n      initialItemCount: 'initialItemCount',\n      scrollSeekConfiguration: 'scrollSeekConfiguration',\n      listClassName: 'listClassName',\n      itemClassName: 'itemClassName',\n      useWindowScroll: 'useWindowScroll',\n      scrollerRef: 'scrollerRef',\n\n      // deprecated\n      item: 'item',\n      ItemContainer: 'ItemContainer',\n      ScrollContainer: 'ScrollContainer',\n      ListContainer: 'ListContainer',\n      scrollSeek: 'scrollSeek',\n    },\n    methods: {\n      scrollTo: 'scrollTo',\n      scrollBy: 'scrollBy',\n      scrollToIndex: 'scrollToIndex',\n    },\n    events: {\n      isScrolling: 'isScrolling',\n      endReached: 'endReached',\n      startReached: 'startReached',\n      rangeChanged: 'rangeChanged',\n      atBottomStateChange: 'atBottomStateChange',\n      atTopStateChange: 'atTopStateChange',\n    },\n  },\n  GridRoot\n)\n\nexport type foo<T> = T extends React.ForwardRefExoticComponent<React.RefAttributes<infer Handle>> ? Handle : never\n\nexport type GridHandle = RefHandle<typeof Grid>\nexport { Grid }\n\nconst Scroller = buildScroller({ usePublisher, useEmitterValue, useEmitter })\nconst WindowScroller = buildWindowScroller({ usePublisher, useEmitterValue, useEmitter })\n","import { ForwardRefExoticComponent, ReactElement, Ref } from 'react'\nimport { Grid, GridHandle } from './Grid'\n\nimport {\n  Components,\n  ComputeItemKey,\n  FollowOutput,\n  GroupContent,\n  GroupItemContent,\n  IndexLocationWithAlign,\n  ItemContent,\n  ListItem,\n  ListRange,\n  ScrollSeekConfiguration,\n} from './interfaces'\nimport { List, ListHandle } from './List'\ntype CompProps<T> = T extends ForwardRefExoticComponent<infer R> ? R : never\ntype ListProps = CompProps<typeof List>\ntype GridProps = CompProps<typeof Grid>\n\nexport interface VirtuosoProps<D> extends Omit<ListProps, 'groupCounts' | 'groupContent' | 'itemsRendered'> {\n  /**\n   * The total amount of items to be rendered.\n   */\n  totalCount?: number\n\n  /**\n   * The data items to be rendered. If data is set, the total count will be inferred from the length of the array.\n   */\n  data?: readonly D[]\n\n  /**\n   * Increases the visual window which is used to calculate the rendered items with the specified **amount in pixels**.\n   * Effectively, this makes the component \"chunk\" the rendering of new items by renderng more items than the necessary, but reducing the re-renders on scroll.\n   * Setting { main: number, reverse: number } lets you extend the list in both the main and the reverse scrollable directions.\n   */\n  overscan?: number | { main: number; reverse: number }\n\n  /**\n   * Set the amount of items to remain fixed at the top of the list.\n   *\n   * For a header that scrolls away when scrolling, check the `components.Header` property.\n   */\n  topItemCount?: number\n\n  /**\n   * Set to a value between 0 and totalCount - 1 to make the list start scrolled to that item.\n   */\n  initialTopMostItemIndex?: number\n\n  /**\n   * Set this value to offset the initial location of the list.\n   * Warning: using this property will still run a render cycle at the scrollTop: 0 list window.\n   * If possible, avoid using it and stick to `initialTopMostItemIndex` instead.\n   */\n  initialScrollTop?: number\n\n  /**\n   * Use for server-side rendering - if set, the list will render the specified amount of items\n   * regardless of the container / item size.\n   */\n  initialItemCount?: number\n\n  /**\n   * Use the `components` property for advanced customization of the elements rendered by the list.\n   */\n  components?: Components\n\n  /**\n   * Set the callback to specify the contents of the item.\n   */\n  itemContent?: ItemContent<D>\n\n  /**\n   * If specified, the component will use the function to generate the `key` property for each list item.\n   */\n  computeItemKey?: ComputeItemKey<D>\n\n  /**\n   * By default, the component assumes the default item height from the first rendered item (rendering it as a \"probe\").\n   *\n   * If the first item turns out to be an outlier (very short or tall), the rest of the rendering will be slower,\n   * as multiple passes of rendering should happen for the list to fill the viewport.\n   *\n   * Setting `defaultItemHeight` causes the component to skip the \"probe\" rendering and use the property\n   * value as default height instead.\n   */\n  defaultItemHeight?: number\n\n  /**\n   * Allows customizing the height/width calculation of `Item` elements.\n   *\n   * The default implementation reads `el.getBoundingClientRect().height` and `el.getBoundingClientRect().width`.\n   */\n  itemSize?: (el: HTMLElement, field: 'offsetHeight' | 'offsetWidth') => number\n\n  /**\n   * Can be used to improve performance if the rendered items are of known size.\n   * Setting it causes the component to skip item measurements.\n   */\n  fixedItemHeight?: number\n\n  /**\n   * Use to display placeholders if the user scrolls fast through the list.\n   *\n   * Set `components.ScrollSeekPlaceholder` to change the placeholder content.\n   */\n  scrollSeekConfiguration?: ScrollSeekConfiguration | false\n\n  /**\n   * If set to `true`, the list automatically scrolls to bottom if the total count is changed.\n   * Set to `\"smooth\"` for an animated scrolling.\n   *\n   * By default, `followOutput` scrolls down only if the list is already at the bottom.\n   * To implement an arbitrary logic behind that, pass a function:\n   *\n   * ```tsx\n   * <Virtuoso\n   *  followOutput={(isAtBottom: boolean) => {\n   *    if (expression) {\n   *      return 'smooth' // can be 'auto' or false to avoid scrolling\n   *    } else {\n   *      return false\n   *    }\n   *  }} />\n   * ```\n   */\n  followOutput?: FollowOutput\n\n  /**\n   * Set to customize the wrapper tag for the header and footer components (default is `div`).\n   */\n  headerFooterTag?: string\n\n  /**\n   * Use when implementing inverse infinite scrolling - decrease the value this property\n   * in combination with  `data` or `totalCount` to prepend items to the top of the list.\n   *\n   * Warning: the firstItemIndex should **be a positive number**, based on the total amount of items to be displayed.\n   */\n  firstItemIndex?: number\n\n  /**\n   * Called when the list starts/stops scrolling.\n   */\n  isScrolling?: (isScrolling: boolean) => void\n\n  /**\n   * Gets called when the user scrolls to the end of the list.\n   * Receives the last item index as an argument. Can be used to implement endless scrolling.\n   */\n  endReached?: (index: number) => void\n\n  /**\n   * Called when the user scrolls to the start of the list.\n   */\n  startReached?: (index: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  rangeChanged?: (range: ListRange) => void\n\n  /**\n   * Called with true / false when the list has reached the bottom / gets scrolled up.\n   * Can be used to load newer items, like `tail -f`.\n   */\n  atBottomStateChange?: (atBottom: boolean) => void\n\n  /**\n   * Called with `true` / `false` when the list has reached the top / gets scrolled down.\n   */\n  atTopStateChange?: (atTop: boolean) => void\n\n  /**\n   * Called when the total list height is changed due to new items or viewport resize.\n   */\n  totalListHeightChanged?: (height: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  itemsRendered?: (items: ListItem<D>[]) => void\n\n  /**\n   * Setting `alignToBottom` to `true` aligns the items to the bottom of the list if the list is shorter than the viewport.\n   * Use `followOutput` property to keep the list aligned when new items are appended.\n   */\n  alignToBottom?: boolean\n\n  /**\n   * Uses the document scroller rather than wrapping the list in its own.\n   */\n  useWindowScroll?: boolean\n\n  /**\n   * Provides access to the root DOM element\n   */\n  scrollerRef?: (ref: HTMLElement | Window | null) => any\n}\n\nexport interface GroupedVirtuosoProps<D>\n  extends Omit<VirtuosoProps<D>, 'totalCount' | 'itemContent'>,\n    Pick<ListProps, 'groupCounts' | 'groupContent'> {\n  /**\n   * Specifies the amount of items in each group (and, actually, how many groups are there).\n   * For example, passing [20, 30] will display 2 groups with 20 and 30 items each.\n   */\n  groupCounts?: number[]\n\n  /**\n   * Specifies how each each group header gets rendered. The callback receives the zero-based index of the group.\n   */\n  groupContent?: GroupContent\n\n  /**\n   * Specifies how each each item gets rendered.\n   */\n  itemContent?: GroupItemContent<D>\n}\n\nexport interface VirtuosoGridProps extends GridProps {\n  /**\n   * The total amount of items to be rendered.\n   */\n  totalCount: GridProps['totalCount']\n\n  /**\n   * Set the callback to specify the contents of the item.\n   */\n  itemContent?: GridProps['itemContent']\n\n  /**\n   * Use the `components` property for advanced customization of the elements rendered by the list.\n   */\n  components?: GridProps['components']\n\n  /**\n   * Set the overscan property to make the component \"chunk\" the rendering of new items on scroll.\n   * The property causes the component to render more items than the necessary, but reduces the re-renders on scroll.\n   * Setting { main: number, reverse: number } lets you extend the list in both the main and the reverse scrollable directions.\n   */\n  overscan?: number | { main: number; reverse: number }\n\n  /**\n   * If specified, the component will use the function to generate the `key` property for each list item.\n   */\n  computeItemKey?: GridProps['computeItemKey']\n\n  /**\n   * Use to display placeholders if the user scrolls fast through the list.\n   *\n   * Set `components.ScrollSeekPlaceholder` to change the placeholder content.\n   */\n  scrollSeekConfiguration?: ScrollSeekConfiguration | false\n\n  /**\n   * Called when the list starts/stops scrolling.\n   */\n  isScrolling?: (isScrolling: boolean) => void\n\n  /**\n   * Gets called when the user scrolls to the end of the list.\n   * Receives the last item index as an argument. Can be used to implement endless scrolling.\n   */\n  endReached?: (index: number) => void\n\n  /**\n   * Called when the user scrolls to the start of the list.\n   */\n  startReached?: (index: number) => void\n\n  /**\n   * Called with the new set of items each time the list items are rendered due to scrolling.\n   */\n  rangeChanged?: (range: ListRange) => void\n\n  /**\n   * Called with true / false when the list has reached the bottom / gets scrolled up.\n   * Can be used to load newer items, like `tail -f`.\n   */\n  atBottomStateChange?: (atBottom: boolean) => void\n\n  /**\n   * Called with `true` / `false` when the list has reached the top / gets scrolled down.\n   */\n  atTopStateChange?: (atTop: boolean) => void\n\n  /**\n   * Provides access to the root DOM element\n   */\n  scrollerRef?: (ref: HTMLElement | null) => any\n\n  /**\n   * Sets the className for the list DOM element\n   */\n  listClassName?: string\n\n  /**\n   * Sets the grid items' className\n   */\n  itemClassName?: string\n\n  /**\n   * Uses the document scroller rather than wrapping the grid in its own.\n   */\n  useWindowScroll?: boolean\n}\n\nexport interface VirtuosoHandle extends ListHandle {\n  /**\n   * Scrolls the component to the specified item index. See {{IndexLocationWithAlign}} for more options.\n   */\n  scrollToIndex(location: number | IndexLocationWithAlign): void\n  /**\n   * Scrolls the component to the specified location. See [ScrollToOptions (MDN)](https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions)\n   */\n  scrollTo(location: ScrollToOptions): void\n  /**\n   * Scrolls the component with the specified amount. See [ScrollToOptions (MDN)](https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions)\n   */\n  scrollBy(location: ScrollToOptions): void\n}\n\nexport interface GroupedVirtuosoHandle extends ListHandle {\n  scrollToIndex(location: number | IndexLocationWithAlign): void\n  scrollTo(location: ScrollToOptions): void\n  scrollBy(location: ScrollToOptions): void\n}\n\nexport interface VirtuosoGridHandle extends GridHandle {\n  scrollToIndex(location: number | IndexLocationWithAlign): void\n  scrollTo(location: ScrollToOptions): void\n  scrollBy(location: ScrollToOptions): void\n}\n\nexport const Virtuoso = List as <D extends unknown = any>(props: VirtuosoProps<D> & { ref?: Ref<VirtuosoHandle> }) => ReactElement\nexport const GroupedVirtuoso = List as <D extends unknown = any>(\n  props: GroupedVirtuosoProps<D> & { ref?: Ref<GroupedVirtuosoHandle> }\n) => ReactElement\nexport const VirtuosoGrid: ForwardRefExoticComponent<VirtuosoGridProps> = Grid\n","export default function requirePropFactory(componentNameInError) {\n  if (process.env.NODE_ENV === 'production') {\n    return function () {\n      return null;\n    };\n  }\n\n  var requireProp = function requireProp(requiredProp) {\n    return function (props, propName, componentName, location, propFullName) {\n      var propFullNameSafe = propFullName || propName;\n\n      if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n        return new Error(\"The prop `\".concat(propFullNameSafe, \"` of \") + \"`\".concat(componentNameInError, \"` must be used on `\").concat(requiredProp, \"`.\"));\n      }\n\n      return null;\n    };\n  };\n\n  return requireProp;\n}","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z\"\n}), 'Publish');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z\"\n}), 'ThumbUp');\n\nexports.default = _default;","export default function _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}","export default typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';\n","import isBrowser from './isBrowser';\n\nconst timeoutDuration = (function(){\n  const longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\n  for (let i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n    if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n      return 1;\n    }\n  }\n  return 0;\n}());\n\nexport function microtaskDebounce(fn) {\n  let called = false\n  return () => {\n    if (called) {\n      return\n    }\n    called = true\n    window.Promise.resolve().then(() => {\n      called = false\n      fn()\n    })\n  }\n}\n\nexport function taskDebounce(fn) {\n  let scheduled = false;\n  return () => {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(() => {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nconst supportsMicroTasks = isBrowser && window.Promise\n\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nexport default (supportsMicroTasks\n  ? microtaskDebounce\n  : taskDebounce);\n","/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nexport default function isFunction(functionToCheck) {\n  const getType = {};\n  return (\n    functionToCheck &&\n    getType.toString.call(functionToCheck) === '[object Function]'\n  );\n}\n","/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nexport default function getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  const window = element.ownerDocument.defaultView;\n  const css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n","/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nexport default function getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getParentNode from './getParentNode';\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nexport default function getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body\n    case '#document':\n      return element.body\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n  const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n","/**\n * Returns the reference node of the reference object, or the reference object itself.\n * @method\n * @memberof Popper.Utils\n * @param {Element|Object} reference - the reference element (the popper will be relative to this)\n * @returns {Element} parent\n */\nexport default function getReferenceNode(reference) {\n  return reference && reference.referenceNode ? reference.referenceNode : reference;\n}\n","import isBrowser from './isBrowser';\n\nconst isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nconst isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nexport default function isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport isIE from './isIE';\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nexport default function getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  const noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  let offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  const nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (\n    ['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\n    getStyleComputedProperty(offsetParent, 'position') === 'static'\n  ) {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n","/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nexport default function getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n","import isOffsetContainer from './isOffsetContainer';\nimport getRoot from './getRoot';\nimport getOffsetParent from './getOffsetParent';\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nexport default function findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  const order =\n    element1.compareDocumentPosition(element2) &\n    Node.DOCUMENT_POSITION_FOLLOWING;\n  const start = order ? element1 : element2;\n  const end = order ? element2 : element1;\n\n  // Get common ancestor container\n  const range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  const { commonAncestorContainer } = range;\n\n  // Both nodes are inside #document\n  if (\n    (element1 !== commonAncestorContainer &&\n      element2 !== commonAncestorContainer) ||\n    start.contains(end)\n  ) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  const element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n","import getOffsetParent from './getOffsetParent';\n\nexport default function isOffsetContainer(element) {\n  const { nodeName } = element;\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return (\n    nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element\n  );\n}\n","/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nexport default function getScroll(element, side = 'top') {\n  const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  const nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    const html = element.ownerDocument.documentElement;\n    const scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n","import getScroll from './getScroll';\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nexport default function includeScroll(rect, element, subtract = false) {\n  const scrollTop = getScroll(element, 'top');\n  const scrollLeft = getScroll(element, 'left');\n  const modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n","/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nexport default function getBordersSize(styles, axis) {\n  const sideA = axis === 'x' ? 'Left' : 'Top';\n  const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return (\n    parseFloat(styles[`border${sideA}Width`]) +\n    parseFloat(styles[`border${sideB}Width`])\n  );\n}\n","import isIE from './isIE';\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(\n    body[`offset${axis}`],\n    body[`scroll${axis}`],\n    html[`client${axis}`],\n    html[`offset${axis}`],\n    html[`scroll${axis}`],\n    isIE(10)\n      ? (parseInt(html[`offset${axis}`]) + \n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Top' : 'Left'}`]) + \n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Bottom' : 'Right'}`]))\n    : 0 \n  );\n}\n\nexport default function getWindowSizes(document) {\n  const body = document.body;\n  const html = document.documentElement;\n  const computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle),\n  };\n}\n","/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nexport default function getClientRect(offsets) {\n  return {\n    ...offsets,\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height,\n  };\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getBordersSize from './getBordersSize';\nimport getWindowSizes from './getWindowSizes';\nimport getScroll from './getScroll';\nimport getClientRect from './getClientRect';\nimport isIE from './isIE';\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nexport default function getBoundingClientRect(element) {\n  let rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      const scrollTop = getScroll(element, 'top');\n      const scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    }\n    else {\n      rect = element.getBoundingClientRect();\n    }\n  }\n  catch(e){}\n\n  const result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top,\n  };\n\n  // subtract scrollbar size from sizes\n  const sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  const width =\n    sizes.width || element.clientWidth || result.width;\n  const height =\n    sizes.height || element.clientHeight || result.height;\n\n  let horizScrollbar = element.offsetWidth - width;\n  let vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    const styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport includeScroll from './includeScroll';\nimport getScrollParent from './getScrollParent';\nimport getBoundingClientRect from './getBoundingClientRect';\nimport runIsIE from './isIE';\nimport getClientRect from './getClientRect';\n\nexport default function getOffsetRectRelativeToArbitraryNode(children, parent, fixedPosition = false) {\n  const isIE10 = runIsIE(10);\n  const isHTML = parent.nodeName === 'HTML';\n  const childrenRect = getBoundingClientRect(children);\n  const parentRect = getBoundingClientRect(parent);\n  const scrollParent = getScrollParent(children);\n\n  const styles = getStyleComputedProperty(parent);\n  const borderTopWidth = parseFloat(styles.borderTopWidth);\n  const borderLeftWidth = parseFloat(styles.borderLeftWidth);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if(fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  let offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height,\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    const marginTop = parseFloat(styles.marginTop);\n    const marginLeft = parseFloat(styles.marginLeft);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (\n    isIE10 && !fixedPosition\n      ? parent.contains(scrollParent)\n      : parent === scrollParent && scrollParent.nodeName !== 'BODY'\n  ) {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n","import getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getScroll from './getScroll';\nimport getClientRect from './getClientRect';\n\nexport default function getViewportOffsetRectRelativeToArtbitraryNode(element, excludeScroll = false) {\n  const html = element.ownerDocument.documentElement;\n  const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  const width = Math.max(html.clientWidth, window.innerWidth || 0);\n  const height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  const scrollTop = !excludeScroll ? getScroll(html) : 0;\n  const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  const offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width,\n    height,\n  };\n\n  return getClientRect(offset);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport getParentNode from './getParentNode';\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nexport default function isFixed(element) {\n  const nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  const parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n","import getStyleComputedProperty from './getStyleComputedProperty';\nimport isIE from './isIE';\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nexport default function getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n   if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  let el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n\n}\n","import getScrollParent from './getScrollParent';\nimport getParentNode from './getParentNode';\nimport getReferenceNode from './getReferenceNode';\nimport findCommonOffsetParent from './findCommonOffsetParent';\nimport getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getViewportOffsetRectRelativeToArtbitraryNode from './getViewportOffsetRectRelativeToArtbitraryNode';\nimport getWindowSizes from './getWindowSizes';\nimport isFixed from './isFixed';\nimport getFixedPositionOffsetParent from './getFixedPositionOffsetParent';\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nexport default function getBoundaries(\n  popper,\n  reference,\n  padding,\n  boundariesElement,\n  fixedPosition = false\n) {\n  // NOTE: 1 DOM access here\n\n  let boundaries = { top: 0, left: 0 };\n  const offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport' ) {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  }\n\n  else {\n    // Handle other cases based on DOM element used as boundaries\n    let boundariesNode;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    const offsets = getOffsetRectRelativeToArbitraryNode(\n      boundariesNode,\n      offsetParent,\n      fixedPosition\n    );\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      const { height, width } = getWindowSizes(popper.ownerDocument);\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  const isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0; \n  boundaries.top += isPaddingNumber ? padding : padding.top || 0; \n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0; \n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0; \n\n  return boundaries;\n}\n","import getBoundaries from '../utils/getBoundaries';\n\nfunction getArea({ width, height }) {\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function computeAutoPlacement(\n  placement,\n  refRect,\n  popper,\n  reference,\n  boundariesElement,\n  padding = 0\n) {\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  const boundaries = getBoundaries(\n    popper,\n    reference,\n    padding,\n    boundariesElement\n  );\n\n  const rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top,\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height,\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom,\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height,\n    },\n  };\n\n  const sortedAreas = Object.keys(rects)\n    .map(key => ({\n      key,\n      ...rects[key],\n      area: getArea(rects[key]),\n    }))\n    .sort((a, b) => b.area - a.area);\n\n  const filteredAreas = sortedAreas.filter(\n    ({ width, height }) =>\n      width >= popper.clientWidth && height >= popper.clientHeight\n  );\n\n  const computedPlacement = filteredAreas.length > 0\n    ? filteredAreas[0].key\n    : sortedAreas[0].key;\n\n  const variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? `-${variation}` : '');\n}\n","import findCommonOffsetParent from './findCommonOffsetParent';\nimport getOffsetRectRelativeToArbitraryNode from './getOffsetRectRelativeToArbitraryNode';\nimport getFixedPositionOffsetParent from './getFixedPositionOffsetParent';\nimport getReferenceNode from './getReferenceNode';\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nexport default function getReferenceOffsets(state, popper, reference, fixedPosition = null) {\n  const commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n","/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nexport default function getOuterSizes(element) {\n  const window = element.ownerDocument.defaultView;\n  const styles = window.getComputedStyle(element);\n  const x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  const y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  const result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x,\n  };\n  return result;\n}\n","/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nexport default function getOppositePlacement(placement) {\n  const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, matched => hash[matched]);\n}\n","import getOuterSizes from './getOuterSizes';\nimport getOppositePlacement from './getOppositePlacement';\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nexport default function getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  const popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  const popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height,\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  const mainSide = isHoriz ? 'top' : 'left';\n  const secondarySide = isHoriz ? 'left' : 'top';\n  const measurement = isHoriz ? 'height' : 'width';\n  const secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] =\n    referenceOffsets[mainSide] +\n    referenceOffsets[measurement] / 2 -\n    popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] =\n      referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] =\n      referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n","/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nexport default function find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n","import isFunction from './isFunction';\nimport findIndex from './findIndex';\nimport getClientRect from '../utils/getClientRect';\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nexport default function runModifiers(modifiers, data, ends) {\n  const modifiersToRun = ends === undefined\n    ? modifiers\n    : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(modifier => {\n    if (modifier['function']) { // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    const fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n","import find from './find';\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nexport default function findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(cur => cur[prop] === value);\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  const match = find(arr, obj => obj[prop] === value);\n  return arr.indexOf(match);\n}\n","import computeAutoPlacement from '../utils/computeAutoPlacement';\nimport getReferenceOffsets from '../utils/getReferenceOffsets';\nimport getPopperOffsets from '../utils/getPopperOffsets';\nimport runModifiers from '../utils/runModifiers';\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nexport default function update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  let data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {},\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(\n    this.state,\n    this.popper,\n    this.reference,\n    this.options.positionFixed\n  );\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(\n    this.options.placement,\n    data.offsets.reference,\n    this.popper,\n    this.reference,\n    this.options.modifiers.flip.boundariesElement,\n    this.options.modifiers.flip.padding\n  );\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(\n    this.popper,\n    data.offsets.reference,\n    data.placement\n  );\n\n  data.offsets.popper.position = this.options.positionFixed\n    ? 'fixed'\n    : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n","/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nexport default function isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(\n    ({ name, enabled }) => enabled && name === modifierName\n  );\n}\n","/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nexport default function getSupportedPropertyName(property) {\n  const prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  const upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefix = prefixes[i];\n    const toCheck = prefix ? `${prefix}${upperProp}` : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n","import isModifierEnabled from '../utils/isModifierEnabled';\nimport getSupportedPropertyName from '../utils/getSupportedPropertyName';\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nexport default function destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicitly asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n","/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nexport default function getWindow(element) {\n  const ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n","import getScrollParent from './getScrollParent';\nimport getWindow from './getWindow';\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  const isBody = scrollParent.nodeName === 'BODY';\n  const target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(\n      getScrollParent(target.parentNode),\n      event,\n      callback,\n      scrollParents\n    );\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nexport default function setupEventListeners(\n  reference,\n  options,\n  state,\n  updateBound\n) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  const scrollElement = getScrollParent(reference);\n  attachToScrollParents(\n    scrollElement,\n    'scroll',\n    state.updateBound,\n    state.scrollParents\n  );\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n","import setupEventListeners from '../utils/setupEventListeners';\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nexport default function enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(\n      this.reference,\n      this.options,\n      this.state,\n      this.scheduleUpdate\n    );\n  }\n}\n","import removeEventListeners from '../utils/removeEventListeners';\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nexport default function disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n","import getWindow from './getWindow';\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nexport default function removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(target => {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n","/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nexport default function isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n","import isNumeric from './isNumeric';\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nexport default function setStyles(element, styles) {\n  Object.keys(styles).forEach(prop => {\n    let unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (\n      ['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !==\n        -1 &&\n      isNumeric(styles[prop])\n    ) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n","import getSupportedPropertyName from '../utils/getSupportedPropertyName';\nimport find from '../utils/find';\nimport getOffsetParent from '../utils/getOffsetParent';\nimport getBoundingClientRect from '../utils/getBoundingClientRect';\nimport getRoundedOffsets from '../utils/getRoundedOffsets';\nimport isBrowser from '../utils/isBrowser';\n\nconst isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function computeStyle(data, options) {\n  const { x, y } = options;\n  const { popper } = data.offsets;\n\n  // Remove this legacy support in Popper.js v2\n  const legacyGpuAccelerationOption = find(\n    data.instance.modifiers,\n    modifier => modifier.name === 'applyStyle'\n  ).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn(\n      'WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!'\n    );\n  }\n  const gpuAcceleration =\n    legacyGpuAccelerationOption !== undefined\n      ? legacyGpuAccelerationOption\n      : options.gpuAcceleration;\n\n  const offsetParent = getOffsetParent(data.instance.popper);\n  const offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  const styles = {\n    position: popper.position,\n  };\n\n  const offsets = getRoundedOffsets(\n    data,\n    window.devicePixelRatio < 2 || !isFirefox\n  );\n\n  const sideA = x === 'bottom' ? 'top' : 'bottom';\n  const sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  const prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  let left, top;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = `translate3d(${left}px, ${top}px, 0)`;\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    const invertTop = sideA === 'bottom' ? -1 : 1;\n    const invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = `${sideA}, ${sideB}`;\n  }\n\n  // Attributes\n  const attributes = {\n    'x-placement': data.placement,\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = { ...attributes, ...data.attributes };\n  data.styles = { ...styles, ...data.styles };\n  data.arrowStyles = { ...data.offsets.arrow, ...data.arrowStyles };\n\n  return data;\n}\n","import find from './find';\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nexport default function isModifierRequired(\n  modifiers,\n  requestingName,\n  requestedName\n) {\n  const requesting = find(modifiers, ({ name }) => name === requestingName);\n\n  const isRequired =\n    !!requesting &&\n    modifiers.some(modifier => {\n      return (\n        modifier.name === requestedName &&\n        modifier.enabled &&\n        modifier.order < requesting.order\n      );\n    });\n\n  if (!isRequired) {\n    const requesting = `\\`${requestingName}\\``;\n    const requested = `\\`${requestedName}\\``;\n    console.warn(\n      `${requested} modifier is required by ${requesting} modifier in order to work, be sure to include it before ${requesting}!`\n    );\n  }\n  return isRequired;\n}\n","/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nexport default [\n  'auto-start',\n  'auto',\n  'auto-end',\n  'top-start',\n  'top',\n  'top-end',\n  'right-start',\n  'right',\n  'right-end',\n  'bottom-end',\n  'bottom',\n  'bottom-start',\n  'left-end',\n  'left',\n  'left-start',\n];\n","import placements from '../methods/placements';\n\n// Get rid of `auto` `auto-start` and `auto-end`\nconst validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nexport default function clockwise(placement, counter = false) {\n  const index = validPlacements.indexOf(placement);\n  const arr = validPlacements\n    .slice(index + 1)\n    .concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n","import getOppositePlacement from '../utils/getOppositePlacement';\nimport getOppositeVariation from '../utils/getOppositeVariation';\nimport getPopperOffsets from '../utils/getPopperOffsets';\nimport runModifiers from '../utils/runModifiers';\nimport getBoundaries from '../utils/getBoundaries';\nimport isModifierEnabled from '../utils/isModifierEnabled';\nimport clockwise from '../utils/clockwise';\n\nconst BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise',\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  const boundaries = getBoundaries(\n    data.instance.popper,\n    data.instance.reference,\n    options.padding,\n    options.boundariesElement,\n    data.positionFixed\n  );\n\n  let placement = data.placement.split('-')[0];\n  let placementOpposite = getOppositePlacement(placement);\n  let variation = data.placement.split('-')[1] || '';\n\n  let flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach((step, index) => {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    const popperOffsets = data.offsets.popper;\n    const refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    const floor = Math.floor;\n    const overlapsRef =\n      (placement === 'left' &&\n        floor(popperOffsets.right) > floor(refOffsets.left)) ||\n      (placement === 'right' &&\n        floor(popperOffsets.left) < floor(refOffsets.right)) ||\n      (placement === 'top' &&\n        floor(popperOffsets.bottom) > floor(refOffsets.top)) ||\n      (placement === 'bottom' &&\n        floor(popperOffsets.top) < floor(refOffsets.bottom));\n\n    const overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    const overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    const overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    const overflowsBottom =\n      floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    const overflowsBoundaries =\n      (placement === 'left' && overflowsLeft) ||\n      (placement === 'right' && overflowsRight) ||\n      (placement === 'top' && overflowsTop) ||\n      (placement === 'bottom' && overflowsBottom);\n\n    // flip the variation if required\n    const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    const flippedVariationByRef =\n      !!options.flipVariations &&\n      ((isVertical && variation === 'start' && overflowsLeft) ||\n        (isVertical && variation === 'end' && overflowsRight) ||\n        (!isVertical && variation === 'start' && overflowsTop) ||\n        (!isVertical && variation === 'end' && overflowsBottom));\n\n    // flips variation if popper content overflows boundaries\n    const flippedVariationByContent =\n      !!options.flipVariationsByContent &&\n      ((isVertical && variation === 'start' && overflowsRight) ||\n        (isVertical && variation === 'end' && overflowsLeft) ||\n        (!isVertical && variation === 'start' && overflowsBottom) ||\n        (!isVertical && variation === 'end' && overflowsTop));\n\n    const flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = {\n        ...data.offsets.popper,\n        ...getPopperOffsets(\n          data.instance.popper,\n          data.offsets.reference,\n          data.placement\n        ),\n      };\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n","import isNumeric from '../utils/isNumeric';\nimport getClientRect from '../utils/getClientRect';\nimport find from '../utils/find';\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nexport function toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  const split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  const value = +split[1];\n  const unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    let element;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    const rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    let size;\n    if (unit === 'vh') {\n      size = Math.max(\n        document.documentElement.clientHeight,\n        window.innerHeight || 0\n      );\n    } else {\n      size = Math.max(\n        document.documentElement.clientWidth,\n        window.innerWidth || 0\n      );\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nexport function parseOffset(\n  offset,\n  popperOffsets,\n  referenceOffsets,\n  basePlacement\n) {\n  const offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  const useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  const fragments = offset.split(/(\\+|\\-)/).map(frag => frag.trim());\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  const divider = fragments.indexOf(\n    find(fragments, frag => frag.search(/,|\\s/) !== -1)\n  );\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn(\n      'Offsets separated by white space(s) are deprecated, use a comma (,) instead.'\n    );\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  const splitRegex = /\\s*,\\s*|\\s+/;\n  let ops = divider !== -1\n    ? [\n        fragments\n          .slice(0, divider)\n          .concat([fragments[divider].split(splitRegex)[0]]),\n        [fragments[divider].split(splitRegex)[1]].concat(\n          fragments.slice(divider + 1)\n        ),\n      ]\n    : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map((op, index) => {\n    // Most of the units rely on the orientation of the popper\n    const measurement = (index === 1 ? !useHeight : useHeight)\n      ? 'height'\n      : 'width';\n    let mergeWithPrevious = false;\n    return (\n      op\n        // This aggregates any `+` or `-` sign that aren't considered operators\n        // e.g.: 10 + +5 => [10, +, +5]\n        .reduce((a, b) => {\n          if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n            a[a.length - 1] = b;\n            mergeWithPrevious = true;\n            return a;\n          } else if (mergeWithPrevious) {\n            a[a.length - 1] += b;\n            mergeWithPrevious = false;\n            return a;\n          } else {\n            return a.concat(b);\n          }\n        }, [])\n        // Here we convert the string values into number values (in px)\n        .map(str => toValue(str, measurement, popperOffsets, referenceOffsets))\n    );\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach((op, index) => {\n    op.forEach((frag, index2) => {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nexport default function offset(data, { offset }) {\n  const { placement, offsets: { popper, reference } } = data;\n  const basePlacement = placement.split('-')[0];\n\n  let offsets;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n","import applyStyle, { applyStyleOnLoad } from './applyStyle';\nimport computeStyle from './computeStyle';\nimport arrow from './arrow';\nimport flip from './flip';\nimport keepTogether from './keepTogether';\nimport offset from './offset';\nimport preventOverflow from './preventOverflow';\nimport shift from './shift';\nimport hide from './hide';\nimport inner from './inner';\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nexport default {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift,\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0,\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent',\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether,\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]',\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false,\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner,\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide,\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right',\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined,\n  },\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n","import modifiers from '../modifiers/index';\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nexport default {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: () => {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: () => {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers,\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n","/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function shift(data) {\n  const placement = data.placement;\n  const basePlacement = placement.split('-')[0];\n  const shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    const { reference, popper } = data.offsets;\n    const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    const side = isVertical ? 'left' : 'top';\n    const measurement = isVertical ? 'width' : 'height';\n\n    const shiftOffsets = {\n      start: { [side]: reference[side] },\n      end: {\n        [side]: reference[side] + reference[measurement] - popper[measurement],\n      },\n    };\n\n    data.offsets.popper = { ...popper, ...shiftOffsets[shiftvariation] };\n  }\n\n  return data;\n}\n","import getOffsetParent from '../utils/getOffsetParent';\nimport getBoundaries from '../utils/getBoundaries';\nimport getSupportedPropertyName from '../utils/getSupportedPropertyName';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function preventOverflow(data, options) {\n  let boundariesElement =\n    options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  const transformProp = getSupportedPropertyName('transform');\n  const popperStyles = data.instance.popper.style; // assignment to help minification\n  const { top, left, [transformProp]: transform } = popperStyles;\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  const boundaries = getBoundaries(\n    data.instance.popper,\n    data.instance.reference,\n    options.padding,\n    boundariesElement,\n    data.positionFixed\n  );\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  const order = options.priority;\n  let popper = data.offsets.popper;\n\n  const check = {\n    primary(placement) {\n      let value = popper[placement];\n      if (\n        popper[placement] < boundaries[placement] &&\n        !options.escapeWithReference\n      ) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return { [placement]: value };\n    },\n    secondary(placement) {\n      const mainSide = placement === 'right' ? 'left' : 'top';\n      let value = popper[mainSide];\n      if (\n        popper[placement] > boundaries[placement] &&\n        !options.escapeWithReference\n      ) {\n        value = Math.min(\n          popper[mainSide],\n          boundaries[placement] -\n            (placement === 'right' ? popper.width : popper.height)\n        );\n      }\n      return { [mainSide]: value };\n    },\n  };\n\n  order.forEach(placement => {\n    const side =\n      ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = { ...popper, ...check[side](placement) };\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n","/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function keepTogether(data) {\n  const { popper, reference } = data.offsets;\n  const placement = data.placement.split('-')[0];\n  const floor = Math.floor;\n  const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  const side = isVertical ? 'right' : 'bottom';\n  const opSide = isVertical ? 'left' : 'top';\n  const measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] =\n      floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n","import getClientRect from '../utils/getClientRect';\nimport getOuterSizes from '../utils/getOuterSizes';\nimport isModifierRequired from '../utils/isModifierRequired';\nimport getStyleComputedProperty from '../utils/getStyleComputedProperty';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function arrow(data, options) {\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  let arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn(\n        'WARNING: `arrow.element` must be child of its popper element!'\n      );\n      return data;\n    }\n  }\n\n  const placement = data.placement.split('-')[0];\n  const { popper, reference } = data.offsets;\n  const isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  const len = isVertical ? 'height' : 'width';\n  const sideCapitalized = isVertical ? 'Top' : 'Left';\n  const side = sideCapitalized.toLowerCase();\n  const altSide = isVertical ? 'left' : 'top';\n  const opSide = isVertical ? 'bottom' : 'right';\n  const arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -=\n      popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] +=\n      reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  const center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  const css = getStyleComputedProperty(data.instance.popper);\n  const popperMarginSide = parseFloat(css[`margin${sideCapitalized}`]);\n  const popperBorderSide = parseFloat(css[`border${sideCapitalized}Width`]);\n  let sideValue =\n    center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = {\n    [side]: Math.round(sideValue),\n    [altSide]: '', // make sure to unset any eventual altSide value from the DOM node\n  };\n\n  return data;\n}\n","/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nexport default function getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n","import getClientRect from '../utils/getClientRect';\nimport getOppositePlacement from '../utils/getOppositePlacement';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function inner(data) {\n  const placement = data.placement;\n  const basePlacement = placement.split('-')[0];\n  const { popper, reference } = data.offsets;\n  const isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  const subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] =\n    reference[basePlacement] -\n    (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n","import isModifierRequired from '../utils/isModifierRequired';\nimport find from '../utils/find';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nexport default function hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  const refRect = data.offsets.reference;\n  const bound = find(\n    data.instance.modifiers,\n    modifier => modifier.name === 'preventOverflow'\n  ).boundaries;\n\n  if (\n    refRect.bottom < bound.top ||\n    refRect.left > bound.right ||\n    refRect.top > bound.bottom ||\n    refRect.right < bound.left\n  ) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n","/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nexport default function getRoundedOffsets(data, shouldRound) {\n  const { popper, reference } = data.offsets;\n  const { round, floor } = Math;\n  const noRound = v => v;\n  \n  const referenceWidth = round(reference.width);\n  const popperWidth = round(popper.width);\n  \n  const isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  const isVariation = data.placement.indexOf('-') !== -1;\n  const sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  const bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  const horizontalToInteger = !shouldRound\n    ? noRound\n    : isVertical || isVariation || sameWidthParity\n    ? round\n    : floor;\n  const verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(\n      bothOddWidth && !isVariation && shouldRound\n        ? popper.left - 1\n        : popper.left\n    ),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right),\n  };\n}\n","import setStyles from '../utils/setStyles';\nimport setAttributes from '../utils/setAttributes';\nimport getReferenceOffsets from '../utils/getReferenceOffsets';\nimport computeAutoPlacement from '../utils/computeAutoPlacement';\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nexport default function applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nexport function applyStyleOnLoad(\n  reference,\n  popper,\n  options,\n  modifierOptions,\n  state\n) {\n  // compute reference element offsets\n  const referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  const placement = computeAutoPlacement(\n    options.placement,\n    referenceOffsets,\n    popper,\n    reference,\n    options.modifiers.flip.boundariesElement,\n    options.modifiers.flip.padding\n  );\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n","/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nexport default function setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function(prop) {\n    const value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n","// Utils\nimport debounce from './utils/debounce';\nimport isFunction from './utils/isFunction';\n\n// Methods\nimport update from './methods/update';\nimport destroy from './methods/destroy';\nimport enableEventListeners from './methods/enableEventListeners';\nimport disableEventListeners from './methods/disableEventListeners';\nimport Defaults from './methods/defaults';\nimport placements from './methods/placements';\n\nexport default class Popper {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  constructor(reference, popper, options = {}) {\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = { ...Popper.Defaults, ...options };\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: [],\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys({\n      ...Popper.Defaults.modifiers,\n      ...options.modifiers,\n    }).forEach(name => {\n      this.options.modifiers[name] = {\n        // If it's a built-in modifier, use it as base\n        ...(Popper.Defaults.modifiers[name] || {}),\n        // If there are custom options, override and merge with default ones\n        ...(options.modifiers ? options.modifiers[name] : {}),\n      };\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers)\n      .map(name => ({\n        name,\n        ...this.options.modifiers[name],\n      }))\n      // sort the modifiers by order\n      .sort((a, b) => a.order - b.order);\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(modifierOptions => {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(\n          this.reference,\n          this.popper,\n          this.options,\n          modifierOptions,\n          this.state\n        );\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    const eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n  update() {\n    return update.call(this);\n  }\n  destroy() {\n    return destroy.call(this);\n  }\n  enableEventListeners() {\n    return enableEventListeners.call(this);\n  }\n  disableEventListeners() {\n    return disableEventListeners.call(this);\n  }\n\n  /**\n   * Schedules an update. It will run on the next UI update available.\n   * @method scheduleUpdate\n   * @memberof Popper\n   */\n  scheduleUpdate = () => requestAnimationFrame(this.update);\n\n  /**\n   * Collection of utilities useful when writing custom modifiers.\n   * Starting from version 1.7, this method is available only if you\n   * include `popper-utils.js` before `popper.js`.\n   *\n   * **DEPRECATION**: This way to access PopperUtils is deprecated\n   * and will be removed in v2! Use the PopperUtils module directly instead.\n   * Due to the high instability of the methods contained in Utils, we can't\n   * guarantee them to follow semver. Use them at your own risk!\n   * @static\n   * @private\n   * @type {Object}\n   * @deprecated since version 1.8\n   * @member Utils\n   * @memberof Popper\n   */\n  static Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\n\n  static placements = placements;\n\n  static Defaults = Defaults;\n}\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport PropTypes from 'prop-types';\nimport { chainPropTypes } from '@material-ui/utils';\nimport merge from './merge';\n\nfunction omit(input, fields) {\n  var output = {};\n  Object.keys(input).forEach(function (prop) {\n    if (fields.indexOf(prop) === -1) {\n      output[prop] = input[prop];\n    }\n  });\n  return output;\n}\n\nvar warnedOnce = false;\n\nfunction styleFunctionSx(styleFunction) {\n  var newStyleFunction = function newStyleFunction(props) {\n    var output = styleFunction(props);\n\n    if (props.css) {\n      return _extends({}, merge(output, styleFunction(_extends({\n        theme: props.theme\n      }, props.css))), omit(props.css, [styleFunction.filterProps]));\n    }\n\n    if (props.sx) {\n      return _extends({}, merge(output, styleFunction(_extends({\n        theme: props.theme\n      }, props.sx))), omit(props.sx, [styleFunction.filterProps]));\n    }\n\n    return output;\n  };\n\n  newStyleFunction.propTypes = process.env.NODE_ENV !== 'production' ? _extends({}, styleFunction.propTypes, {\n    css: chainPropTypes(PropTypes.object, function (props) {\n      if (!warnedOnce && props.css !== undefined) {\n        warnedOnce = true;\n        return new Error('Material-UI: The `css` prop is deprecated, please use the `sx` prop instead.');\n      }\n\n      return null;\n    }),\n    sx: PropTypes.object\n  }) : {};\n  newStyleFunction.filterProps = ['css', 'sx'].concat(_toConsumableArray(styleFunction.filterProps));\n  return newStyleFunction;\n}\n/**\r\n *\r\n * @deprecated\r\n * The css style function is deprecated. Use the `styleFunctionSx` instead.\r\n */\n\n\nexport function css(styleFunction) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.warn('Material-UI: The `css` function is deprecated. Use the `styleFunctionSx` instead.');\n  }\n\n  return styleFunctionSx(styleFunction);\n}\nexport default styleFunctionSx;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport merge from './merge';\n\nfunction compose() {\n  for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n    styles[_key] = arguments[_key];\n  }\n\n  var fn = function fn(props) {\n    return styles.reduce(function (acc, style) {\n      var output = style(props);\n\n      if (output) {\n        return merge(acc, output);\n      }\n\n      return acc;\n    }, {});\n  }; // Alternative approach that doesn't yield any performance gain.\n  // const handlers = styles.reduce((acc, style) => {\n  //   style.filterProps.forEach(prop => {\n  //     acc[prop] = style;\n  //   });\n  //   return acc;\n  // }, {});\n  // const fn = props => {\n  //   return Object.keys(props).reduce((acc, prop) => {\n  //     if (handlers[prop]) {\n  //       return merge(acc, handlers[prop](props));\n  //     }\n  //     return acc;\n  //   }, {});\n  // };\n\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? styles.reduce(function (acc, style) {\n    return _extends(acc, style.propTypes);\n  }, {}) : {};\n  fn.filterProps = styles.reduce(function (acc, style) {\n    return acc.concat(style.filterProps);\n  }, []);\n  return fn;\n}\n\nexport default compose;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport responsivePropType from './responsivePropType';\nimport { handleBreakpoints } from './breakpoints';\n\nfunction getPath(obj, path) {\n  if (!path || typeof path !== 'string') {\n    return null;\n  }\n\n  return path.split('.').reduce(function (acc, item) {\n    return acc && acc[item] ? acc[item] : null;\n  }, obj);\n}\n\nfunction style(options) {\n  var prop = options.prop,\n      _options$cssProperty = options.cssProperty,\n      cssProperty = _options$cssProperty === void 0 ? options.prop : _options$cssProperty,\n      themeKey = options.themeKey,\n      transform = options.transform;\n\n  var fn = function fn(props) {\n    if (props[prop] == null) {\n      return null;\n    }\n\n    var propValue = props[prop];\n    var theme = props.theme;\n    var themeMapping = getPath(theme, themeKey) || {};\n\n    var styleFromPropValue = function styleFromPropValue(propValueFinal) {\n      var value;\n\n      if (typeof themeMapping === 'function') {\n        value = themeMapping(propValueFinal);\n      } else if (Array.isArray(themeMapping)) {\n        value = themeMapping[propValueFinal] || propValueFinal;\n      } else {\n        value = getPath(themeMapping, propValueFinal) || propValueFinal;\n\n        if (transform) {\n          value = transform(value);\n        }\n      }\n\n      if (cssProperty === false) {\n        return value;\n      }\n\n      return _defineProperty({}, cssProperty, value);\n    };\n\n    return handleBreakpoints(props, propValue, styleFromPropValue);\n  };\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? _defineProperty({}, prop, responsivePropType) : {};\n  fn.filterProps = [prop];\n  return fn;\n}\n\nexport default style;","import style from './style';\nimport compose from './compose';\n\nfunction getBorder(value) {\n  if (typeof value !== 'number') {\n    return value;\n  }\n\n  return \"\".concat(value, \"px solid\");\n}\n\nexport var border = style({\n  prop: 'border',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderTop = style({\n  prop: 'borderTop',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderRight = style({\n  prop: 'borderRight',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderBottom = style({\n  prop: 'borderBottom',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderLeft = style({\n  prop: 'borderLeft',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderColor = style({\n  prop: 'borderColor',\n  themeKey: 'palette'\n});\nexport var borderRadius = style({\n  prop: 'borderRadius',\n  themeKey: 'shape'\n});\nvar borders = compose(border, borderTop, borderRight, borderBottom, borderLeft, borderColor, borderRadius);\nexport default borders;","import style from './style';\nimport compose from './compose';\nexport var displayPrint = style({\n  prop: 'displayPrint',\n  cssProperty: false,\n  transform: function transform(value) {\n    return {\n      '@media print': {\n        display: value\n      }\n    };\n  }\n});\nexport var displayRaw = style({\n  prop: 'display'\n});\nexport var overflow = style({\n  prop: 'overflow'\n});\nexport var textOverflow = style({\n  prop: 'textOverflow'\n});\nexport var visibility = style({\n  prop: 'visibility'\n});\nexport var whiteSpace = style({\n  prop: 'whiteSpace'\n});\nexport default compose(displayPrint, displayRaw, overflow, textOverflow, visibility, whiteSpace);","import style from './style';\nimport compose from './compose';\nexport var flexBasis = style({\n  prop: 'flexBasis'\n});\nexport var flexDirection = style({\n  prop: 'flexDirection'\n});\nexport var flexWrap = style({\n  prop: 'flexWrap'\n});\nexport var justifyContent = style({\n  prop: 'justifyContent'\n});\nexport var alignItems = style({\n  prop: 'alignItems'\n});\nexport var alignContent = style({\n  prop: 'alignContent'\n});\nexport var order = style({\n  prop: 'order'\n});\nexport var flex = style({\n  prop: 'flex'\n});\nexport var flexGrow = style({\n  prop: 'flexGrow'\n});\nexport var flexShrink = style({\n  prop: 'flexShrink'\n});\nexport var alignSelf = style({\n  prop: 'alignSelf'\n});\nexport var justifyItems = style({\n  prop: 'justifyItems'\n});\nexport var justifySelf = style({\n  prop: 'justifySelf'\n});\nvar flexbox = compose(flexBasis, flexDirection, flexWrap, justifyContent, alignItems, alignContent, order, flex, flexGrow, flexShrink, alignSelf, justifyItems, justifySelf);\nexport default flexbox;","import style from './style';\nimport compose from './compose';\nexport var gridGap = style({\n  prop: 'gridGap'\n});\nexport var gridColumnGap = style({\n  prop: 'gridColumnGap'\n});\nexport var gridRowGap = style({\n  prop: 'gridRowGap'\n});\nexport var gridColumn = style({\n  prop: 'gridColumn'\n});\nexport var gridRow = style({\n  prop: 'gridRow'\n});\nexport var gridAutoFlow = style({\n  prop: 'gridAutoFlow'\n});\nexport var gridAutoColumns = style({\n  prop: 'gridAutoColumns'\n});\nexport var gridAutoRows = style({\n  prop: 'gridAutoRows'\n});\nexport var gridTemplateColumns = style({\n  prop: 'gridTemplateColumns'\n});\nexport var gridTemplateRows = style({\n  prop: 'gridTemplateRows'\n});\nexport var gridTemplateAreas = style({\n  prop: 'gridTemplateAreas'\n});\nexport var gridArea = style({\n  prop: 'gridArea'\n});\nvar grid = compose(gridGap, gridColumnGap, gridRowGap, gridColumn, gridRow, gridAutoFlow, gridAutoColumns, gridAutoRows, gridTemplateColumns, gridTemplateRows, gridTemplateAreas, gridArea);\nexport default grid;","import style from './style';\nimport compose from './compose';\nexport var position = style({\n  prop: 'position'\n});\nexport var zIndex = style({\n  prop: 'zIndex',\n  themeKey: 'zIndex'\n});\nexport var top = style({\n  prop: 'top'\n});\nexport var right = style({\n  prop: 'right'\n});\nexport var bottom = style({\n  prop: 'bottom'\n});\nexport var left = style({\n  prop: 'left'\n});\nexport default compose(position, zIndex, top, right, bottom, left);","import style from './style';\nimport compose from './compose';\nexport var color = style({\n  prop: 'color',\n  themeKey: 'palette'\n});\nexport var bgcolor = style({\n  prop: 'bgcolor',\n  cssProperty: 'backgroundColor',\n  themeKey: 'palette'\n});\nvar palette = compose(color, bgcolor);\nexport default palette;","import style from './style';\nvar boxShadow = style({\n  prop: 'boxShadow',\n  themeKey: 'shadows'\n});\nexport default boxShadow;","import style from './style';\nimport compose from './compose';\n\nfunction transform(value) {\n  return value <= 1 ? \"\".concat(value * 100, \"%\") : value;\n}\n\nexport var width = style({\n  prop: 'width',\n  transform: transform\n});\nexport var maxWidth = style({\n  prop: 'maxWidth',\n  transform: transform\n});\nexport var minWidth = style({\n  prop: 'minWidth',\n  transform: transform\n});\nexport var height = style({\n  prop: 'height',\n  transform: transform\n});\nexport var maxHeight = style({\n  prop: 'maxHeight',\n  transform: transform\n});\nexport var minHeight = style({\n  prop: 'minHeight',\n  transform: transform\n});\nexport var sizeWidth = style({\n  prop: 'size',\n  cssProperty: 'width',\n  transform: transform\n});\nexport var sizeHeight = style({\n  prop: 'size',\n  cssProperty: 'height',\n  transform: transform\n});\nexport var boxSizing = style({\n  prop: 'boxSizing'\n});\nvar sizing = compose(width, maxWidth, minWidth, height, maxHeight, minHeight, boxSizing);\nexport default sizing;","import style from './style';\nimport compose from './compose';\nexport var fontFamily = style({\n  prop: 'fontFamily',\n  themeKey: 'typography'\n});\nexport var fontSize = style({\n  prop: 'fontSize',\n  themeKey: 'typography'\n});\nexport var fontStyle = style({\n  prop: 'fontStyle',\n  themeKey: 'typography'\n});\nexport var fontWeight = style({\n  prop: 'fontWeight',\n  themeKey: 'typography'\n});\nexport var letterSpacing = style({\n  prop: 'letterSpacing'\n});\nexport var lineHeight = style({\n  prop: 'lineHeight'\n});\nexport var textAlign = style({\n  prop: 'textAlign'\n});\nvar typography = compose(fontFamily, fontSize, fontStyle, fontWeight, letterSpacing, lineHeight, textAlign);\nexport default typography;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { chainPropTypes, getDisplayName } from '@material-ui/utils';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport makeStyles from '../makeStyles';\n\nfunction omit(input, fields) {\n  var output = {};\n  Object.keys(input).forEach(function (prop) {\n    if (fields.indexOf(prop) === -1) {\n      output[prop] = input[prop];\n    }\n  });\n  return output;\n} // styled-components's API removes the mapping between components and styles.\n// Using components as a low-level styling construct can be simpler.\n\n\nexport default function styled(Component) {\n  var componentCreator = function componentCreator(style) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var name = options.name,\n        stylesOptions = _objectWithoutProperties(options, [\"name\"]);\n\n    if (process.env.NODE_ENV !== 'production' && Component === undefined) {\n      throw new Error(['You are calling styled(Component)(style) with an undefined component.', 'You may have forgotten to import it.'].join('\\n'));\n    }\n\n    var classNamePrefix = name;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!name) {\n        // Provide a better DX outside production.\n        var displayName = getDisplayName(Component);\n\n        if (displayName !== undefined) {\n          classNamePrefix = displayName;\n        }\n      }\n    }\n\n    var stylesOrCreator = typeof style === 'function' ? function (theme) {\n      return {\n        root: function root(props) {\n          return style(_extends({\n            theme: theme\n          }, props));\n        }\n      };\n    } : {\n      root: style\n    };\n    var useStyles = makeStyles(stylesOrCreator, _extends({\n      Component: Component,\n      name: name || Component.displayName,\n      classNamePrefix: classNamePrefix\n    }, stylesOptions));\n    var filterProps;\n    var propTypes = {};\n\n    if (style.filterProps) {\n      filterProps = style.filterProps;\n      delete style.filterProps;\n    }\n    /* eslint-disable react/forbid-foreign-prop-types */\n\n\n    if (style.propTypes) {\n      propTypes = style.propTypes;\n      delete style.propTypes;\n    }\n    /* eslint-enable react/forbid-foreign-prop-types */\n\n\n    var StyledComponent = /*#__PURE__*/React.forwardRef(function StyledComponent(props, ref) {\n      var children = props.children,\n          classNameProp = props.className,\n          clone = props.clone,\n          ComponentProp = props.component,\n          other = _objectWithoutProperties(props, [\"children\", \"className\", \"clone\", \"component\"]);\n\n      var classes = useStyles(props);\n      var className = clsx(classes.root, classNameProp);\n      var spread = other;\n\n      if (filterProps) {\n        spread = omit(spread, filterProps);\n      }\n\n      if (clone) {\n        return /*#__PURE__*/React.cloneElement(children, _extends({\n          className: clsx(children.props.className, className)\n        }, spread));\n      }\n\n      if (typeof children === 'function') {\n        return children(_extends({\n          className: className\n        }, spread));\n      }\n\n      var FinalComponent = ComponentProp || Component;\n      return /*#__PURE__*/React.createElement(FinalComponent, _extends({\n        ref: ref,\n        className: className\n      }, spread), children);\n    });\n    process.env.NODE_ENV !== \"production\" ? StyledComponent.propTypes = _extends({\n      /**\n       * A render function or node.\n       */\n      children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /**\n       * @ignore\n       */\n      className: PropTypes.string,\n\n      /**\n       * If `true`, the component will recycle it's children HTML element.\n       * It's using `React.cloneElement` internally.\n       *\n       * This prop will be deprecated and removed in v5\n       */\n      clone: chainPropTypes(PropTypes.bool, function (props) {\n        if (props.clone && props.component) {\n          return new Error('You can not use the clone and component prop at the same time.');\n        }\n\n        return null;\n      }),\n\n      /**\n       * The component used for the root node.\n       * Either a string to use a HTML element or a component.\n       */\n      component: PropTypes\n      /* @typescript-to-proptypes-ignore */\n      .elementType\n    }, propTypes) : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      StyledComponent.displayName = \"Styled(\".concat(classNamePrefix, \")\");\n    }\n\n    hoistNonReactStatics(StyledComponent, Component);\n    return StyledComponent;\n  };\n\n  return componentCreator;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { styled as styledWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nvar styled = function styled(Component) {\n  var componentCreator = styledWithoutDefault(Component);\n  return function (style, options) {\n    return componentCreator(style, _extends({\n      defaultTheme: defaultTheme\n    }, options));\n  };\n};\n\nexport default styled;","import { borders, compose, display, flexbox, grid, palette, positions, shadows, sizing, spacing, typography, styleFunctionSx } from '@material-ui/system';\nimport styled from '../styles/styled';\nexport var styleFunction = styleFunctionSx(compose(borders, display, flexbox, grid, positions, palette, shadows, sizing, spacing, typography));\n/**\n * @ignore - do not document.\n */\n\nvar Box = styled('div')(styleFunction, {\n  name: 'MuiBox'\n});\nexport default Box;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport isMuiElement from '../utils/isMuiElement';\nimport useForkRef from '../utils/useForkRef';\nimport ListContext from '../List/ListContext';\nimport * as ReactDOM from 'react-dom';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the (normally root) `component` element. May be wrapped by a `container`. */\n    root: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n      position: 'relative',\n      textDecoration: 'none',\n      width: '100%',\n      boxSizing: 'border-box',\n      textAlign: 'left',\n      paddingTop: 8,\n      paddingBottom: 8,\n      '&$focusVisible': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$selected, &$selected:hover': {\n        backgroundColor: theme.palette.action.selected\n      },\n      '&$disabled': {\n        opacity: 0.5\n      }\n    },\n\n    /* Styles applied to the `container` element if `children` includes `ListItemSecondaryAction`. */\n    container: {\n      position: 'relative'\n    },\n\n    /* Pseudo-class applied to the `component`'s `focusVisibleClassName` prop if `button={true}`. */\n    focusVisible: {},\n\n    /* Styles applied to the `component` element if dense. */\n    dense: {\n      paddingTop: 4,\n      paddingBottom: 4\n    },\n\n    /* Styles applied to the `component` element if `alignItems=\"flex-start\"`. */\n    alignItemsFlexStart: {\n      alignItems: 'flex-start'\n    },\n\n    /* Pseudo-class applied to the inner `component` element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the inner `component` element if `divider={true}`. */\n    divider: {\n      borderBottom: \"1px solid \".concat(theme.palette.divider),\n      backgroundClip: 'padding-box'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the inner `component` element if `button={true}`. */\n    button: {\n      transition: theme.transitions.create('background-color', {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: theme.palette.action.hover,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the `component` element if `children` includes `ListItemSecondaryAction`. */\n    secondaryAction: {\n      // Add some space to avoid collision as `ListItemSecondaryAction`\n      // is absolutely positioned.\n      paddingRight: 48\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}`. */\n    selected: {}\n  };\n};\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n/**\n * Uses an additional container component if `ListItemSecondaryAction` is the last child.\n */\n\nvar ListItem = /*#__PURE__*/React.forwardRef(function ListItem(props, ref) {\n  var _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'center' : _props$alignItems,\n      _props$autoFocus = props.autoFocus,\n      autoFocus = _props$autoFocus === void 0 ? false : _props$autoFocus,\n      _props$button = props.button,\n      button = _props$button === void 0 ? false : _props$button,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      componentProp = props.component,\n      _props$ContainerCompo = props.ContainerComponent,\n      ContainerComponent = _props$ContainerCompo === void 0 ? 'li' : _props$ContainerCompo,\n      _props$ContainerProps = props.ContainerProps;\n  _props$ContainerProps = _props$ContainerProps === void 0 ? {} : _props$ContainerProps;\n\n  var ContainerClassName = _props$ContainerProps.className,\n      ContainerProps = _objectWithoutProperties(_props$ContainerProps, [\"className\"]),\n      _props$dense = props.dense,\n      dense = _props$dense === void 0 ? false : _props$dense,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$divider = props.divider,\n      divider = _props$divider === void 0 ? false : _props$divider,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$selected = props.selected,\n      selected = _props$selected === void 0 ? false : _props$selected,\n      other = _objectWithoutProperties(props, [\"alignItems\", \"autoFocus\", \"button\", \"children\", \"classes\", \"className\", \"component\", \"ContainerComponent\", \"ContainerProps\", \"dense\", \"disabled\", \"disableGutters\", \"divider\", \"focusVisibleClassName\", \"selected\"]);\n\n  var context = React.useContext(ListContext);\n  var childContext = {\n    dense: dense || context.dense || false,\n    alignItems: alignItems\n  };\n  var listItemRef = React.useRef(null);\n  useEnhancedEffect(function () {\n    if (autoFocus) {\n      if (listItemRef.current) {\n        listItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('Material-UI: Unable to set focus to a ListItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  var children = React.Children.toArray(childrenProp);\n  var hasSecondaryAction = children.length && isMuiElement(children[children.length - 1], ['ListItemSecondaryAction']);\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    listItemRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(handleOwnRef, ref);\n\n  var componentProps = _extends({\n    className: clsx(classes.root, className, childContext.dense && classes.dense, !disableGutters && classes.gutters, divider && classes.divider, disabled && classes.disabled, button && classes.button, alignItems !== \"center\" && classes.alignItemsFlexStart, hasSecondaryAction && classes.secondaryAction, selected && classes.selected),\n    disabled: disabled\n  }, other);\n\n  var Component = componentProp || 'li';\n\n  if (button) {\n    componentProps.component = componentProp || 'div';\n    componentProps.focusVisibleClassName = clsx(classes.focusVisible, focusVisibleClassName);\n    Component = ButtonBase;\n  }\n\n  if (hasSecondaryAction) {\n    // Use div by default.\n    Component = !componentProps.component && !componentProp ? 'div' : Component; // Avoid nesting of li > li.\n\n    if (ContainerComponent === 'li') {\n      if (Component === 'li') {\n        Component = 'div';\n      } else if (componentProps.component === 'li') {\n        componentProps.component = 'div';\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(ListContext.Provider, {\n      value: childContext\n    }, /*#__PURE__*/React.createElement(ContainerComponent, _extends({\n      className: clsx(classes.container, ContainerClassName),\n      ref: handleRef\n    }, ContainerProps), /*#__PURE__*/React.createElement(Component, componentProps, children), children.pop()));\n  }\n\n  return /*#__PURE__*/React.createElement(ListContext.Provider, {\n    value: childContext\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    ref: handleRef\n  }, componentProps), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItem.propTypes = {\n  /**\n   * Defines the `align-items` style property.\n   */\n  alignItems: PropTypes.oneOf(['flex-start', 'center']),\n\n  /**\n   * If `true`, the list item will be focused during the first mount.\n   * Focus will also be triggered if the value changes from false to true.\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the list item will be a button (using `ButtonBase`). Props intended\n   * for `ButtonBase` can then be applied to `ListItem`.\n   */\n  button: PropTypes.bool,\n\n  /**\n   * The content of the component. If a `ListItemSecondaryAction` is used it must\n   * be the last child.\n   */\n  children: chainPropTypes(PropTypes.node, function (props) {\n    var children = React.Children.toArray(props.children); // React.Children.toArray(props.children).findLastIndex(isListItemSecondaryAction)\n\n    var secondaryActionIndex = -1;\n\n    for (var i = children.length - 1; i >= 0; i -= 1) {\n      var child = children[i];\n\n      if (isMuiElement(child, ['ListItemSecondaryAction'])) {\n        secondaryActionIndex = i;\n        break;\n      }\n    } //  is ListItemSecondaryAction the last child of ListItem\n\n\n    if (secondaryActionIndex !== -1 && secondaryActionIndex !== children.length - 1) {\n      return new Error('Material-UI: You used an element after ListItemSecondaryAction. ' + 'For ListItem to detect that it has a secondary action ' + 'you must pass it as the last child to ListItem.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   * By default, it's a `li` when `button` is `false` and a `div` when `button` is `true`.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * The container component used when a `ListItemSecondaryAction` is the last child.\n   */\n  ContainerComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the container component if used.\n   */\n  ContainerProps: PropTypes.object,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input will be used.\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * If `true`, the list item will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, a 1px light border is added to the bottom of the list item.\n   */\n  divider: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * Use to apply selected styling.\n   */\n  selected: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItem'\n})(ListItem);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nimport ListContext from '../List/ListContext';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    flex: '1 1 auto',\n    minWidth: 0,\n    marginTop: 4,\n    marginBottom: 4\n  },\n\n  /* Styles applied to the `Typography` components if primary and secondary are set. */\n  multiline: {\n    marginTop: 6,\n    marginBottom: 6\n  },\n\n  /* Styles applied to the `Typography` components if dense. */\n  dense: {},\n\n  /* Styles applied to the root element if `inset={true}`. */\n  inset: {\n    paddingLeft: 56\n  },\n\n  /* Styles applied to the primary `Typography` component. */\n  primary: {},\n\n  /* Styles applied to the secondary `Typography` component. */\n  secondary: {}\n};\nvar ListItemText = /*#__PURE__*/React.forwardRef(function ListItemText(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disableTypogra = props.disableTypography,\n      disableTypography = _props$disableTypogra === void 0 ? false : _props$disableTypogra,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      primaryProp = props.primary,\n      primaryTypographyProps = props.primaryTypographyProps,\n      secondaryProp = props.secondary,\n      secondaryTypographyProps = props.secondaryTypographyProps,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disableTypography\", \"inset\", \"primary\", \"primaryTypographyProps\", \"secondary\", \"secondaryTypographyProps\"]);\n\n  var _React$useContext = React.useContext(ListContext),\n      dense = _React$useContext.dense;\n\n  var primary = primaryProp != null ? primaryProp : children;\n\n  if (primary != null && primary.type !== Typography && !disableTypography) {\n    primary = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: dense ? 'body2' : 'body1',\n      className: classes.primary,\n      component: \"span\",\n      display: \"block\"\n    }, primaryTypographyProps), primary);\n  }\n\n  var secondary = secondaryProp;\n\n  if (secondary != null && secondary.type !== Typography && !disableTypography) {\n    secondary = /*#__PURE__*/React.createElement(Typography, _extends({\n      variant: \"body2\",\n      className: classes.secondary,\n      color: \"textSecondary\",\n      display: \"block\"\n    }, secondaryTypographyProps), secondary);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, dense && classes.dense, inset && classes.inset, primary && secondary && classes.multiline),\n    ref: ref\n  }, other), primary, secondary);\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemText.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Alias for the `primary` prop.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the children won't be wrapped by a Typography component.\n   * This can be useful to render an alternative Typography variant by wrapping\n   * the `children` (or `primary`) text, and optional `secondary` text\n   * with the Typography component.\n   */\n  disableTypography: PropTypes.bool,\n\n  /**\n   * If `true`, the children will be indented.\n   * This should be used if there is no left avatar or left icon.\n   */\n  inset: PropTypes.bool,\n\n  /**\n   * The main content element.\n   */\n  primary: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the primary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  primaryTypographyProps: PropTypes.object,\n\n  /**\n   * The secondary content element.\n   */\n  secondary: PropTypes.node,\n\n  /**\n   * These props will be forwarded to the secondary typography component\n   * (as long as disableTypography is not `true`).\n   */\n  secondaryTypographyProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItemText'\n})(ListItemText);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { deepmerge, elementAcceptingRef } from '@material-ui/utils';\nimport { alpha } from '../styles/colorManipulator';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nimport Grow from '../Grow';\nimport Popper from '../Popper';\nimport useForkRef from '../utils/useForkRef';\nimport useId from '../utils/unstable_useId';\nimport setRef from '../utils/setRef';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport useControlled from '../utils/useControlled';\nimport useTheme from '../styles/useTheme';\n\nfunction round(value) {\n  return Math.round(value * 1e5) / 1e5;\n}\n\nfunction arrowGenerator() {\n  return {\n    '&[x-placement*=\"bottom\"] $arrow': {\n      top: 0,\n      left: 0,\n      marginTop: '-0.71em',\n      marginLeft: 4,\n      marginRight: 4,\n      '&::before': {\n        transformOrigin: '0 100%'\n      }\n    },\n    '&[x-placement*=\"top\"] $arrow': {\n      bottom: 0,\n      left: 0,\n      marginBottom: '-0.71em',\n      marginLeft: 4,\n      marginRight: 4,\n      '&::before': {\n        transformOrigin: '100% 0'\n      }\n    },\n    '&[x-placement*=\"right\"] $arrow': {\n      left: 0,\n      marginLeft: '-0.71em',\n      height: '1em',\n      width: '0.71em',\n      marginTop: 4,\n      marginBottom: 4,\n      '&::before': {\n        transformOrigin: '100% 100%'\n      }\n    },\n    '&[x-placement*=\"left\"] $arrow': {\n      right: 0,\n      marginRight: '-0.71em',\n      height: '1em',\n      width: '0.71em',\n      marginTop: 4,\n      marginBottom: 4,\n      '&::before': {\n        transformOrigin: '0 0'\n      }\n    }\n  };\n}\n\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the Popper component. */\n    popper: {\n      zIndex: theme.zIndex.tooltip,\n      pointerEvents: 'none' // disable jss-rtl plugin\n\n    },\n\n    /* Styles applied to the Popper component if `interactive={true}`. */\n    popperInteractive: {\n      pointerEvents: 'auto'\n    },\n\n    /* Styles applied to the Popper component if `arrow={true}`. */\n    popperArrow: arrowGenerator(),\n\n    /* Styles applied to the tooltip (label wrapper) element. */\n    tooltip: {\n      backgroundColor: alpha(theme.palette.grey[700], 0.9),\n      borderRadius: theme.shape.borderRadius,\n      color: theme.palette.common.white,\n      fontFamily: theme.typography.fontFamily,\n      padding: '4px 8px',\n      fontSize: theme.typography.pxToRem(10),\n      lineHeight: \"\".concat(round(14 / 10), \"em\"),\n      maxWidth: 300,\n      wordWrap: 'break-word',\n      fontWeight: theme.typography.fontWeightMedium\n    },\n\n    /* Styles applied to the tooltip (label wrapper) element if `arrow={true}`. */\n    tooltipArrow: {\n      position: 'relative',\n      margin: '0'\n    },\n\n    /* Styles applied to the arrow element. */\n    arrow: {\n      overflow: 'hidden',\n      position: 'absolute',\n      width: '1em',\n      height: '0.71em'\n      /* = width / sqrt(2) = (length of the hypotenuse) */\n      ,\n      boxSizing: 'border-box',\n      color: alpha(theme.palette.grey[700], 0.9),\n      '&::before': {\n        content: '\"\"',\n        margin: 'auto',\n        display: 'block',\n        width: '100%',\n        height: '100%',\n        backgroundColor: 'currentColor',\n        transform: 'rotate(45deg)'\n      }\n    },\n\n    /* Styles applied to the tooltip (label wrapper) element if the tooltip is opened by touch. */\n    touch: {\n      padding: '8px 16px',\n      fontSize: theme.typography.pxToRem(14),\n      lineHeight: \"\".concat(round(16 / 14), \"em\"),\n      fontWeight: theme.typography.fontWeightRegular\n    },\n\n    /* Styles applied to the tooltip (label wrapper) element if `placement` contains \"left\". */\n    tooltipPlacementLeft: _defineProperty({\n      transformOrigin: 'right center',\n      margin: '0 24px '\n    }, theme.breakpoints.up('sm'), {\n      margin: '0 14px'\n    }),\n\n    /* Styles applied to the tooltip (label wrapper) element if `placement` contains \"right\". */\n    tooltipPlacementRight: _defineProperty({\n      transformOrigin: 'left center',\n      margin: '0 24px'\n    }, theme.breakpoints.up('sm'), {\n      margin: '0 14px'\n    }),\n\n    /* Styles applied to the tooltip (label wrapper) element if `placement` contains \"top\". */\n    tooltipPlacementTop: _defineProperty({\n      transformOrigin: 'center bottom',\n      margin: '24px 0'\n    }, theme.breakpoints.up('sm'), {\n      margin: '14px 0'\n    }),\n\n    /* Styles applied to the tooltip (label wrapper) element if `placement` contains \"bottom\". */\n    tooltipPlacementBottom: _defineProperty({\n      transformOrigin: 'center top',\n      margin: '24px 0'\n    }, theme.breakpoints.up('sm'), {\n      margin: '14px 0'\n    })\n  };\n};\nvar hystersisOpen = false;\nvar hystersisTimer = null;\nexport function testReset() {\n  hystersisOpen = false;\n  clearTimeout(hystersisTimer);\n}\nvar Tooltip = /*#__PURE__*/React.forwardRef(function Tooltip(props, ref) {\n  var _props$arrow = props.arrow,\n      arrow = _props$arrow === void 0 ? false : _props$arrow,\n      children = props.children,\n      classes = props.classes,\n      _props$disableFocusLi = props.disableFocusListener,\n      disableFocusListener = _props$disableFocusLi === void 0 ? false : _props$disableFocusLi,\n      _props$disableHoverLi = props.disableHoverListener,\n      disableHoverListener = _props$disableHoverLi === void 0 ? false : _props$disableHoverLi,\n      _props$disableTouchLi = props.disableTouchListener,\n      disableTouchListener = _props$disableTouchLi === void 0 ? false : _props$disableTouchLi,\n      _props$enterDelay = props.enterDelay,\n      enterDelay = _props$enterDelay === void 0 ? 100 : _props$enterDelay,\n      _props$enterNextDelay = props.enterNextDelay,\n      enterNextDelay = _props$enterNextDelay === void 0 ? 0 : _props$enterNextDelay,\n      _props$enterTouchDela = props.enterTouchDelay,\n      enterTouchDelay = _props$enterTouchDela === void 0 ? 700 : _props$enterTouchDela,\n      idProp = props.id,\n      _props$interactive = props.interactive,\n      interactive = _props$interactive === void 0 ? false : _props$interactive,\n      _props$leaveDelay = props.leaveDelay,\n      leaveDelay = _props$leaveDelay === void 0 ? 0 : _props$leaveDelay,\n      _props$leaveTouchDela = props.leaveTouchDelay,\n      leaveTouchDelay = _props$leaveTouchDela === void 0 ? 1500 : _props$leaveTouchDela,\n      onClose = props.onClose,\n      onOpen = props.onOpen,\n      openProp = props.open,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottom' : _props$placement,\n      _props$PopperComponen = props.PopperComponent,\n      PopperComponent = _props$PopperComponen === void 0 ? Popper : _props$PopperComponen,\n      PopperProps = props.PopperProps,\n      title = props.title,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Grow : _props$TransitionComp,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"arrow\", \"children\", \"classes\", \"disableFocusListener\", \"disableHoverListener\", \"disableTouchListener\", \"enterDelay\", \"enterNextDelay\", \"enterTouchDelay\", \"id\", \"interactive\", \"leaveDelay\", \"leaveTouchDelay\", \"onClose\", \"onOpen\", \"open\", \"placement\", \"PopperComponent\", \"PopperProps\", \"title\", \"TransitionComponent\", \"TransitionProps\"]);\n\n  var theme = useTheme();\n\n  var _React$useState = React.useState(),\n      childNode = _React$useState[0],\n      setChildNode = _React$useState[1];\n\n  var _React$useState2 = React.useState(null),\n      arrowRef = _React$useState2[0],\n      setArrowRef = _React$useState2[1];\n\n  var ignoreNonTouchEvents = React.useRef(false);\n  var closeTimer = React.useRef();\n  var enterTimer = React.useRef();\n  var leaveTimer = React.useRef();\n  var touchTimer = React.useRef();\n\n  var _useControlled = useControlled({\n    controlled: openProp,\n    default: false,\n    name: 'Tooltip',\n    state: 'open'\n  }),\n      _useControlled2 = _slicedToArray(_useControlled, 2),\n      openState = _useControlled2[0],\n      setOpenState = _useControlled2[1];\n\n  var open = openState;\n\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _React$useRef = React.useRef(openProp !== undefined),\n        isControlled = _React$useRef.current; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    React.useEffect(function () {\n      if (childNode && childNode.disabled && !isControlled && title !== '' && childNode.tagName.toLowerCase() === 'button') {\n        console.error(['Material-UI: You are providing a disabled `button` child to the Tooltip component.', 'A disabled element does not fire events.', \"Tooltip needs to listen to the child element's events to display the title.\", '', 'Add a simple wrapper element, such as a `span`.'].join('\\n'));\n      }\n    }, [title, childNode, isControlled]);\n  }\n\n  var id = useId(idProp);\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(closeTimer.current);\n      clearTimeout(enterTimer.current);\n      clearTimeout(leaveTimer.current);\n      clearTimeout(touchTimer.current);\n    };\n  }, []);\n\n  var handleOpen = function handleOpen(event) {\n    clearTimeout(hystersisTimer);\n    hystersisOpen = true; // The mouseover event will trigger for every nested element in the tooltip.\n    // We can skip rerendering when the tooltip is already open.\n    // We are using the mouseover event instead of the mouseenter event to fix a hide/show issue.\n\n    setOpenState(true);\n\n    if (onOpen) {\n      onOpen(event);\n    }\n  };\n\n  var handleEnter = function handleEnter() {\n    var forward = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return function (event) {\n      var childrenProps = children.props;\n\n      if (event.type === 'mouseover' && childrenProps.onMouseOver && forward) {\n        childrenProps.onMouseOver(event);\n      }\n\n      if (ignoreNonTouchEvents.current && event.type !== 'touchstart') {\n        return;\n      } // Remove the title ahead of time.\n      // We don't want to wait for the next render commit.\n      // We would risk displaying two tooltips at the same time (native + this one).\n\n\n      if (childNode) {\n        childNode.removeAttribute('title');\n      }\n\n      clearTimeout(enterTimer.current);\n      clearTimeout(leaveTimer.current);\n\n      if (enterDelay || hystersisOpen && enterNextDelay) {\n        event.persist();\n        enterTimer.current = setTimeout(function () {\n          handleOpen(event);\n        }, hystersisOpen ? enterNextDelay : enterDelay);\n      } else {\n        handleOpen(event);\n      }\n    };\n  };\n\n  var _useIsFocusVisible = useIsFocusVisible(),\n      isFocusVisible = _useIsFocusVisible.isFocusVisible,\n      onBlurVisible = _useIsFocusVisible.onBlurVisible,\n      focusVisibleRef = _useIsFocusVisible.ref;\n\n  var _React$useState3 = React.useState(false),\n      childIsFocusVisible = _React$useState3[0],\n      setChildIsFocusVisible = _React$useState3[1];\n\n  var handleBlur = function handleBlur() {\n    if (childIsFocusVisible) {\n      setChildIsFocusVisible(false);\n      onBlurVisible();\n    }\n  };\n\n  var handleFocus = function handleFocus() {\n    var forward = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return function (event) {\n      // Workaround for https://github.com/facebook/react/issues/7769\n      // The autoFocus of React might trigger the event before the componentDidMount.\n      // We need to account for this eventuality.\n      if (!childNode) {\n        setChildNode(event.currentTarget);\n      }\n\n      if (isFocusVisible(event)) {\n        setChildIsFocusVisible(true);\n        handleEnter()(event);\n      }\n\n      var childrenProps = children.props;\n\n      if (childrenProps.onFocus && forward) {\n        childrenProps.onFocus(event);\n      }\n    };\n  };\n\n  var handleClose = function handleClose(event) {\n    clearTimeout(hystersisTimer);\n    hystersisTimer = setTimeout(function () {\n      hystersisOpen = false;\n    }, 800 + leaveDelay);\n    setOpenState(false);\n\n    if (onClose) {\n      onClose(event);\n    }\n\n    clearTimeout(closeTimer.current);\n    closeTimer.current = setTimeout(function () {\n      ignoreNonTouchEvents.current = false;\n    }, theme.transitions.duration.shortest);\n  };\n\n  var handleLeave = function handleLeave() {\n    var forward = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return function (event) {\n      var childrenProps = children.props;\n\n      if (event.type === 'blur') {\n        if (childrenProps.onBlur && forward) {\n          childrenProps.onBlur(event);\n        }\n\n        handleBlur();\n      }\n\n      if (event.type === 'mouseleave' && childrenProps.onMouseLeave && event.currentTarget === childNode) {\n        childrenProps.onMouseLeave(event);\n      }\n\n      clearTimeout(enterTimer.current);\n      clearTimeout(leaveTimer.current);\n      event.persist();\n      leaveTimer.current = setTimeout(function () {\n        handleClose(event);\n      }, leaveDelay);\n    };\n  };\n\n  var detectTouchStart = function detectTouchStart(event) {\n    ignoreNonTouchEvents.current = true;\n    var childrenProps = children.props;\n\n    if (childrenProps.onTouchStart) {\n      childrenProps.onTouchStart(event);\n    }\n  };\n\n  var handleTouchStart = function handleTouchStart(event) {\n    detectTouchStart(event);\n    clearTimeout(leaveTimer.current);\n    clearTimeout(closeTimer.current);\n    clearTimeout(touchTimer.current);\n    event.persist();\n    touchTimer.current = setTimeout(function () {\n      handleEnter()(event);\n    }, enterTouchDelay);\n  };\n\n  var handleTouchEnd = function handleTouchEnd(event) {\n    if (children.props.onTouchEnd) {\n      children.props.onTouchEnd(event);\n    }\n\n    clearTimeout(touchTimer.current);\n    clearTimeout(leaveTimer.current);\n    event.persist();\n    leaveTimer.current = setTimeout(function () {\n      handleClose(event);\n    }, leaveTouchDelay);\n  };\n\n  var handleUseRef = useForkRef(setChildNode, ref);\n  var handleFocusRef = useForkRef(focusVisibleRef, handleUseRef); // can be removed once we drop support for non ref forwarding class components\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    setRef(handleFocusRef, ReactDOM.findDOMNode(instance));\n  }, [handleFocusRef]);\n  var handleRef = useForkRef(children.ref, handleOwnRef); // There is no point in displaying an empty tooltip.\n\n  if (title === '') {\n    open = false;\n  } // For accessibility and SEO concerns, we render the title to the DOM node when\n  // the tooltip is hidden. However, we have made a tradeoff when\n  // `disableHoverListener` is set. This title logic is disabled.\n  // It's allowing us to keep the implementation size minimal.\n  // We are open to change the tradeoff.\n\n\n  var shouldShowNativeTitle = !open && !disableHoverListener;\n\n  var childrenProps = _extends({\n    'aria-describedby': open ? id : null,\n    title: shouldShowNativeTitle && typeof title === 'string' ? title : null\n  }, other, children.props, {\n    className: clsx(other.className, children.props.className),\n    onTouchStart: detectTouchStart,\n    ref: handleRef\n  });\n\n  var interactiveWrapperListeners = {};\n\n  if (!disableTouchListener) {\n    childrenProps.onTouchStart = handleTouchStart;\n    childrenProps.onTouchEnd = handleTouchEnd;\n  }\n\n  if (!disableHoverListener) {\n    childrenProps.onMouseOver = handleEnter();\n    childrenProps.onMouseLeave = handleLeave();\n\n    if (interactive) {\n      interactiveWrapperListeners.onMouseOver = handleEnter(false);\n      interactiveWrapperListeners.onMouseLeave = handleLeave(false);\n    }\n  }\n\n  if (!disableFocusListener) {\n    childrenProps.onFocus = handleFocus();\n    childrenProps.onBlur = handleLeave();\n\n    if (interactive) {\n      interactiveWrapperListeners.onFocus = handleFocus(false);\n      interactiveWrapperListeners.onBlur = handleLeave(false);\n    }\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (children.props.title) {\n      console.error(['Material-UI: You have provided a `title` prop to the child of <Tooltip />.', \"Remove this title prop `\".concat(children.props.title, \"` or the Tooltip component.\")].join('\\n'));\n    }\n  }\n\n  var mergedPopperProps = React.useMemo(function () {\n    return deepmerge({\n      popperOptions: {\n        modifiers: {\n          arrow: {\n            enabled: Boolean(arrowRef),\n            element: arrowRef\n          }\n        }\n      }\n    }, PopperProps);\n  }, [arrowRef, PopperProps]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.cloneElement(children, childrenProps), /*#__PURE__*/React.createElement(PopperComponent, _extends({\n    className: clsx(classes.popper, interactive && classes.popperInteractive, arrow && classes.popperArrow),\n    placement: placement,\n    anchorEl: childNode,\n    open: childNode ? open : false,\n    id: childrenProps['aria-describedby'],\n    transition: true\n  }, interactiveWrapperListeners, mergedPopperProps), function (_ref) {\n    var placementInner = _ref.placement,\n        TransitionPropsInner = _ref.TransitionProps;\n    return /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n      timeout: theme.transitions.duration.shorter\n    }, TransitionPropsInner, TransitionProps), /*#__PURE__*/React.createElement(\"div\", {\n      className: clsx(classes.tooltip, classes[\"tooltipPlacement\".concat(capitalize(placementInner.split('-')[0]))], ignoreNonTouchEvents.current && classes.touch, arrow && classes.tooltipArrow)\n    }, title, arrow ? /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.arrow,\n      ref: setArrowRef\n    }) : null));\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Tooltip.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, adds an arrow to the tooltip.\n   */\n  arrow: PropTypes.bool,\n\n  /**\n   * Tooltip reference element.\n   */\n  children: elementAcceptingRef.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Do not respond to focus events.\n   */\n  disableFocusListener: PropTypes.bool,\n\n  /**\n   * Do not respond to hover events.\n   */\n  disableHoverListener: PropTypes.bool,\n\n  /**\n   * Do not respond to long press touch events.\n   */\n  disableTouchListener: PropTypes.bool,\n\n  /**\n   * The number of milliseconds to wait before showing the tooltip.\n   * This prop won't impact the enter touch delay (`enterTouchDelay`).\n   */\n  enterDelay: PropTypes.number,\n\n  /**\n   * The number of milliseconds to wait before showing the tooltip when one was already recently opened.\n   */\n  enterNextDelay: PropTypes.number,\n\n  /**\n   * The number of milliseconds a user must touch the element before showing the tooltip.\n   */\n  enterTouchDelay: PropTypes.number,\n\n  /**\n   * This prop is used to help implement the accessibility logic.\n   * If you don't provide this prop. It falls back to a randomly generated id.\n   */\n  id: PropTypes.string,\n\n  /**\n   * Makes a tooltip interactive, i.e. will not close when the user\n   * hovers over the tooltip before the `leaveDelay` is expired.\n   */\n  interactive: PropTypes.bool,\n\n  /**\n   * The number of milliseconds to wait before hiding the tooltip.\n   * This prop won't impact the leave touch delay (`leaveTouchDelay`).\n   */\n  leaveDelay: PropTypes.number,\n\n  /**\n   * The number of milliseconds after the user stops touching an element before hiding the tooltip.\n   */\n  leaveTouchDelay: PropTypes.number,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired when the component requests to be open.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onOpen: PropTypes.func,\n\n  /**\n   * If `true`, the tooltip is shown.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Tooltip placement.\n   */\n  placement: PropTypes.oneOf(['bottom-end', 'bottom-start', 'bottom', 'left-end', 'left-start', 'left', 'right-end', 'right-start', 'right', 'top-end', 'top-start', 'top']),\n\n  /**\n   * The component used for the popper.\n   */\n  PopperComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the [`Popper`](/api/popper/) element.\n   */\n  PopperProps: PropTypes.object,\n\n  /**\n   * Tooltip title. Zero-length titles string are never displayed.\n   */\n  title: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .node.isRequired,\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTooltip',\n  flip: false\n})(Tooltip);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport PopperJs from 'popper.js';\nimport { chainPropTypes, refType, HTMLElementType } from '@material-ui/utils';\nimport { useTheme } from '@material-ui/styles';\nimport Portal from '../Portal';\nimport createChainedFunction from '../utils/createChainedFunction';\nimport setRef from '../utils/setRef';\nimport useForkRef from '../utils/useForkRef';\n\nfunction flipPlacement(placement, theme) {\n  var direction = theme && theme.direction || 'ltr';\n\n  if (direction === 'ltr') {\n    return placement;\n  }\n\n  switch (placement) {\n    case 'bottom-end':\n      return 'bottom-start';\n\n    case 'bottom-start':\n      return 'bottom-end';\n\n    case 'top-end':\n      return 'top-start';\n\n    case 'top-start':\n      return 'top-end';\n\n    default:\n      return placement;\n  }\n}\n\nfunction getAnchorEl(anchorEl) {\n  return typeof anchorEl === 'function' ? anchorEl() : anchorEl;\n}\n\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\nvar defaultPopperOptions = {};\n/**\n * Poppers rely on the 3rd party library [Popper.js](https://popper.js.org/docs/v1/) for positioning.\n */\n\nvar Popper = /*#__PURE__*/React.forwardRef(function Popper(props, ref) {\n  var anchorEl = props.anchorEl,\n      children = props.children,\n      container = props.container,\n      _props$disablePortal = props.disablePortal,\n      disablePortal = _props$disablePortal === void 0 ? false : _props$disablePortal,\n      _props$keepMounted = props.keepMounted,\n      keepMounted = _props$keepMounted === void 0 ? false : _props$keepMounted,\n      modifiers = props.modifiers,\n      open = props.open,\n      _props$placement = props.placement,\n      initialPlacement = _props$placement === void 0 ? 'bottom' : _props$placement,\n      _props$popperOptions = props.popperOptions,\n      popperOptions = _props$popperOptions === void 0 ? defaultPopperOptions : _props$popperOptions,\n      popperRefProp = props.popperRef,\n      style = props.style,\n      _props$transition = props.transition,\n      transition = _props$transition === void 0 ? false : _props$transition,\n      other = _objectWithoutProperties(props, [\"anchorEl\", \"children\", \"container\", \"disablePortal\", \"keepMounted\", \"modifiers\", \"open\", \"placement\", \"popperOptions\", \"popperRef\", \"style\", \"transition\"]);\n\n  var tooltipRef = React.useRef(null);\n  var ownRef = useForkRef(tooltipRef, ref);\n  var popperRef = React.useRef(null);\n  var handlePopperRef = useForkRef(popperRef, popperRefProp);\n  var handlePopperRefRef = React.useRef(handlePopperRef);\n  useEnhancedEffect(function () {\n    handlePopperRefRef.current = handlePopperRef;\n  }, [handlePopperRef]);\n  React.useImperativeHandle(popperRefProp, function () {\n    return popperRef.current;\n  }, []);\n\n  var _React$useState = React.useState(true),\n      exited = _React$useState[0],\n      setExited = _React$useState[1];\n\n  var theme = useTheme();\n  var rtlPlacement = flipPlacement(initialPlacement, theme);\n  /**\n   * placement initialized from prop but can change during lifetime if modifiers.flip.\n   * modifiers.flip is essentially a flip for controlled/uncontrolled behavior\n   */\n\n  var _React$useState2 = React.useState(rtlPlacement),\n      placement = _React$useState2[0],\n      setPlacement = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (popperRef.current) {\n      popperRef.current.update();\n    }\n  });\n  var handleOpen = React.useCallback(function () {\n    if (!tooltipRef.current || !anchorEl || !open) {\n      return;\n    }\n\n    if (popperRef.current) {\n      popperRef.current.destroy();\n      handlePopperRefRef.current(null);\n    }\n\n    var handlePopperUpdate = function handlePopperUpdate(data) {\n      setPlacement(data.placement);\n    };\n\n    var resolvedAnchorEl = getAnchorEl(anchorEl);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (resolvedAnchorEl && resolvedAnchorEl.nodeType === 1) {\n        var box = resolvedAnchorEl.getBoundingClientRect();\n\n        if (process.env.NODE_ENV !== 'test' && box.top === 0 && box.left === 0 && box.right === 0 && box.bottom === 0) {\n          console.warn(['Material-UI: The `anchorEl` prop provided to the component is invalid.', 'The anchor element should be part of the document layout.', \"Make sure the element is present in the document or that it's not display none.\"].join('\\n'));\n        }\n      }\n    }\n\n    var popper = new PopperJs(getAnchorEl(anchorEl), tooltipRef.current, _extends({\n      placement: rtlPlacement\n    }, popperOptions, {\n      modifiers: _extends({}, disablePortal ? {} : {\n        // It's using scrollParent by default, we can use the viewport when using a portal.\n        preventOverflow: {\n          boundariesElement: 'window'\n        }\n      }, modifiers, popperOptions.modifiers),\n      // We could have been using a custom modifier like react-popper is doing.\n      // But it seems this is the best public API for this use case.\n      onCreate: createChainedFunction(handlePopperUpdate, popperOptions.onCreate),\n      onUpdate: createChainedFunction(handlePopperUpdate, popperOptions.onUpdate)\n    }));\n    handlePopperRefRef.current(popper);\n  }, [anchorEl, disablePortal, modifiers, open, rtlPlacement, popperOptions]);\n  var handleRef = React.useCallback(function (node) {\n    setRef(ownRef, node);\n    handleOpen();\n  }, [ownRef, handleOpen]);\n\n  var handleEnter = function handleEnter() {\n    setExited(false);\n  };\n\n  var handleClose = function handleClose() {\n    if (!popperRef.current) {\n      return;\n    }\n\n    popperRef.current.destroy();\n    handlePopperRefRef.current(null);\n  };\n\n  var handleExited = function handleExited() {\n    setExited(true);\n    handleClose();\n  };\n\n  React.useEffect(function () {\n    return function () {\n      handleClose();\n    };\n  }, []);\n  React.useEffect(function () {\n    if (!open && !transition) {\n      // Otherwise handleExited will call this.\n      handleClose();\n    }\n  }, [open, transition]);\n\n  if (!keepMounted && !open && (!transition || exited)) {\n    return null;\n  }\n\n  var childProps = {\n    placement: placement\n  };\n\n  if (transition) {\n    childProps.TransitionProps = {\n      in: open,\n      onEnter: handleEnter,\n      onExited: handleExited\n    };\n  }\n\n  return /*#__PURE__*/React.createElement(Portal, {\n    disablePortal: disablePortal,\n    container: container\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: handleRef,\n    role: \"tooltip\"\n  }, other, {\n    style: _extends({\n      // Prevents scroll issue, waiting for Popper.js to add this style once initiated.\n      position: 'fixed',\n      // Fix Popper.js display issue\n      top: 0,\n      left: 0,\n      display: !open && keepMounted && !transition ? 'none' : null\n    }, style)\n  }), typeof children === 'function' ? children(childProps) : children));\n});\nprocess.env.NODE_ENV !== \"production\" ? Popper.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * A HTML element, [referenceObject](https://popper.js.org/docs/v1/#referenceObject),\n   * or a function that returns either.\n   * It's used to set the position of the popper.\n   * The return value will passed as the reference object of the Popper instance.\n   */\n  anchorEl: chainPropTypes(PropTypes.oneOfType([HTMLElementType, PropTypes.object, PropTypes.func]), function (props) {\n    if (props.open) {\n      var resolvedAnchorEl = getAnchorEl(props.anchorEl);\n\n      if (resolvedAnchorEl && resolvedAnchorEl.nodeType === 1) {\n        var box = resolvedAnchorEl.getBoundingClientRect();\n\n        if (process.env.NODE_ENV !== 'test' && box.top === 0 && box.left === 0 && box.right === 0 && box.bottom === 0) {\n          return new Error(['Material-UI: The `anchorEl` prop provided to the component is invalid.', 'The anchor element should be part of the document layout.', \"Make sure the element is present in the document or that it's not display none.\"].join('\\n'));\n        }\n      } else if (!resolvedAnchorEl || typeof resolvedAnchorEl.clientWidth !== 'number' || typeof resolvedAnchorEl.clientHeight !== 'number' || typeof resolvedAnchorEl.getBoundingClientRect !== 'function') {\n        return new Error(['Material-UI: The `anchorEl` prop provided to the component is invalid.', 'It should be an HTML element instance or a referenceObject ', '(https://popper.js.org/docs/v1/#referenceObject).'].join('\\n'));\n      }\n    }\n\n    return null;\n  }),\n\n  /**\n   * Popper render function or node.\n   */\n  children: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n\n  /**\n   * A HTML element, component instance, or function that returns either.\n   * The `container` will have the portal children appended to it.\n   *\n   * By default, it uses the body of the top-level document object,\n   * so it's simply `document.body` most of the time.\n   */\n  container: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([HTMLElementType, PropTypes.instanceOf(React.Component), PropTypes.func]),\n\n  /**\n   * Disable the portal behavior.\n   * The children stay within it's parent DOM hierarchy.\n   */\n  disablePortal: PropTypes.bool,\n\n  /**\n   * Always keep the children in the DOM.\n   * This prop can be useful in SEO situation or\n   * when you want to maximize the responsiveness of the Popper.\n   */\n  keepMounted: PropTypes.bool,\n\n  /**\n   * Popper.js is based on a \"plugin-like\" architecture,\n   * most of its features are fully encapsulated \"modifiers\".\n   *\n   * A modifier is a function that is called each time Popper.js needs to\n   * compute the position of the popper.\n   * For this reason, modifiers should be very performant to avoid bottlenecks.\n   * To learn how to create a modifier, [read the modifiers documentation](https://popper.js.org/docs/v1/#modifiers).\n   */\n  modifiers: PropTypes.object,\n\n  /**\n   * If `true`, the popper is visible.\n   */\n  open: PropTypes.bool.isRequired,\n\n  /**\n   * Popper placement.\n   */\n  placement: PropTypes.oneOf(['bottom-end', 'bottom-start', 'bottom', 'left-end', 'left-start', 'left', 'right-end', 'right-start', 'right', 'top-end', 'top-start', 'top']),\n\n  /**\n   * Options provided to the [`popper.js`](https://popper.js.org/docs/v1/) instance.\n   */\n  popperOptions: PropTypes.object,\n\n  /**\n   * A ref that points to the used popper instance.\n   */\n  popperRef: refType,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * Help supporting a react-transition-group/Transition component.\n   */\n  transition: PropTypes.bool\n} : void 0;\nexport default Popper;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListItem from '../ListItem';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body1, _defineProperty({\n      minHeight: 48,\n      paddingTop: 6,\n      paddingBottom: 6,\n      boxSizing: 'border-box',\n      width: 'auto',\n      overflow: 'hidden',\n      whiteSpace: 'nowrap'\n    }, theme.breakpoints.up('sm'), {\n      minHeight: 'auto'\n    })),\n    // TODO v5: remove\n\n    /* Styles applied to the root element if `disableGutters={false}`. */\n    gutters: {},\n\n    /* Styles applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the root element if dense. */\n    dense: _extends({}, theme.typography.body2, {\n      minHeight: 'auto'\n    })\n  };\n};\nvar MenuItem = /*#__PURE__*/React.forwardRef(function MenuItem(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      ListItemClasses = props.ListItemClasses,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'menuitem' : _props$role,\n      selected = props.selected,\n      tabIndexProp = props.tabIndex,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"component\", \"disableGutters\", \"ListItemClasses\", \"role\", \"selected\", \"tabIndex\"]);\n\n  var tabIndex;\n\n  if (!props.disabled) {\n    tabIndex = tabIndexProp !== undefined ? tabIndexProp : -1;\n  }\n\n  return /*#__PURE__*/React.createElement(ListItem, _extends({\n    button: true,\n    role: role,\n    tabIndex: tabIndex,\n    component: component,\n    selected: selected,\n    disableGutters: disableGutters,\n    classes: _extends({\n      dense: classes.dense\n    }, ListItemClasses),\n    className: clsx(classes.root, className, selected && classes.selected, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? MenuItem.propTypes = {\n  /**\n   * Menu item contents.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * If `true`, compact vertical padding designed for keyboard and mouse input will be used.\n   */\n  dense: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the left and right padding is removed.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * `classes` prop applied to the [`ListItem`](/api/list-item/) element.\n   */\n  ListItemClasses: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.number\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiMenuItem'\n})(MenuItem);","import _curry2 from \"./internal/_curry2.js\";\n/**\n * Sorts a list according to a list of comparators.\n *\n * @func\n * @memberOf R\n * @since v0.23.0\n * @category Relation\n * @sig [(a, a) -> Number] -> [a] -> [a]\n * @param {Array} functions A list of comparator functions.\n * @param {Array} list The list to sort.\n * @return {Array} A new list sorted according to the comarator functions.\n * @example\n *\n *      const alice = {\n *        name: 'alice',\n *        age: 40\n *      };\n *      const bob = {\n *        name: 'bob',\n *        age: 30\n *      };\n *      const clara = {\n *        name: 'clara',\n *        age: 40\n *      };\n *      const people = [clara, bob, alice];\n *      const ageNameSort = R.sortWith([\n *        R.descend(R.prop('age')),\n *        R.ascend(R.prop('name'))\n *      ]);\n *      ageNameSort(people); //=> [alice, clara, bob]\n */\n\nvar sortWith =\n/*#__PURE__*/\n_curry2(function sortWith(fns, list) {\n  return Array.prototype.slice.call(list, 0).sort(function (a, b) {\n    var result = 0;\n    var i = 0;\n\n    while (result === 0 && i < fns.length) {\n      result = fns[i](a, b);\n      i += 1;\n    }\n\n    return result;\n  });\n});\n\nexport default sortWith;","import _curry3 from \"./internal/_curry3.js\";\n/**\n * Makes a descending comparator function out of a function that returns a value\n * that can be compared with `<` and `>`.\n *\n * @func\n * @memberOf R\n * @since v0.23.0\n * @category Function\n * @sig Ord b => (a -> b) -> a -> a -> Number\n * @param {Function} fn A function of arity one that returns a value that can be compared\n * @param {*} a The first item to be compared.\n * @param {*} b The second item to be compared.\n * @return {Number} `-1` if fn(a) > fn(b), `1` if fn(b) > fn(a), otherwise `0`\n * @see R.ascend\n * @example\n *\n *      const byAge = R.descend(R.prop('age'));\n *      const people = [\n *        { name: 'Emma', age: 70 },\n *        { name: 'Peter', age: 78 },\n *        { name: 'Mikhail', age: 62 },\n *      ];\n *      const peopleByOldestFirst = R.sort(byAge, people);\n *        //=> [{ name: 'Peter', age: 78 }, { name: 'Emma', age: 70 }, { name: 'Mikhail', age: 62 }]\n */\n\nvar descend =\n/*#__PURE__*/\n_curry3(function descend(fn, a, b) {\n  var aa = fn(a);\n  var bb = fn(b);\n  return aa > bb ? -1 : aa < bb ? 1 : 0;\n});\n\nexport default descend;","import _curry3 from \"./internal/_curry3.js\";\n/**\n * Makes an ascending comparator function out of a function that returns a value\n * that can be compared with `<` and `>`.\n *\n * @func\n * @memberOf R\n * @since v0.23.0\n * @category Function\n * @sig Ord b => (a -> b) -> a -> a -> Number\n * @param {Function} fn A function of arity one that returns a value that can be compared\n * @param {*} a The first item to be compared.\n * @param {*} b The second item to be compared.\n * @return {Number} `-1` if fn(a) < fn(b), `1` if fn(b) < fn(a), otherwise `0`\n * @see R.descend\n * @example\n *\n *      const byAge = R.ascend(R.prop('age'));\n *      const people = [\n *        { name: 'Emma', age: 70 },\n *        { name: 'Peter', age: 78 },\n *        { name: 'Mikhail', age: 62 },\n *      ];\n *      const peopleByYoungestFirst = R.sort(byAge, people);\n *        //=> [{ name: 'Mikhail', age: 62 },{ name: 'Emma', age: 70 }, { name: 'Peter', age: 78 }]\n */\n\nvar ascend =\n/*#__PURE__*/\n_curry3(function ascend(fn, a, b) {\n  var aa = fn(a);\n  var bb = fn(b);\n  return aa < bb ? -1 : aa > bb ? 1 : 0;\n});\n\nexport default ascend;","/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */\nexport default Number.isInteger || function _isInteger(n) {\n  return n << 0 === n;\n};","import _curry2 from \"./internal/_curry2.js\";\nimport _isString from \"./internal/_isString.js\";\n/**\n * Returns the nth element of the given list or string. If n is negative the\n * element at index length + n is returned.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> [a] -> a | Undefined\n * @sig Number -> String -> String\n * @param {Number} offset\n * @param {*} list\n * @return {*}\n * @example\n *\n *      const list = ['foo', 'bar', 'baz', 'quux'];\n *      R.nth(1, list); //=> 'bar'\n *      R.nth(-1, list); //=> 'quux'\n *      R.nth(-99, list); //=> undefined\n *\n *      R.nth(2, 'abc'); //=> 'c'\n *      R.nth(3, 'abc'); //=> ''\n * @symb R.nth(-1, [a, b, c]) = c\n * @symb R.nth(0, [a, b, c]) = a\n * @symb R.nth(1, [a, b, c]) = b\n */\n\nvar nth =\n/*#__PURE__*/\n_curry2(function nth(offset, list) {\n  var idx = offset < 0 ? list.length + offset : offset;\n  return _isString(list) ? list.charAt(idx) : list[idx];\n});\n\nexport default nth;","import _curry2 from \"./internal/_curry2.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\nimport nth from \"./nth.js\";\n/**\n * Retrieves the values at given paths of an object.\n *\n * @func\n * @memberOf R\n * @since v0.27.1\n * @category Object\n * @typedefn Idx = [String | Int]\n * @sig [Idx] -> {a} -> [a | Undefined]\n * @param {Array} pathsArray The array of paths to be fetched.\n * @param {Object} obj The object to retrieve the nested properties from.\n * @return {Array} A list consisting of values at paths specified by \"pathsArray\".\n * @see R.path\n * @example\n *\n *      R.paths([['a', 'b'], ['p', 0, 'q']], {a: {b: 2}, p: [{q: 3}]}); //=> [2, 3]\n *      R.paths([['a', 'b'], ['p', 'r']], {a: {b: 2}, p: [{q: 3}]}); //=> [2, undefined]\n */\n\nvar paths =\n/*#__PURE__*/\n_curry2(function paths(pathsArray, obj) {\n  return pathsArray.map(function (paths) {\n    var val = obj;\n    var idx = 0;\n    var p;\n\n    while (idx < paths.length) {\n      if (val == null) {\n        return;\n      }\n\n      p = paths[idx];\n      val = _isInteger(p) ? nth(p, val) : val[p];\n      idx += 1;\n    }\n\n    return val;\n  });\n});\n\nexport default paths;","import _curry2 from \"./internal/_curry2.js\";\nimport paths from \"./paths.js\";\n/**\n * Retrieve the value at a given path.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Object\n * @typedefn Idx = String | Int\n * @sig [Idx] -> {a} -> a | Undefined\n * @param {Array} path The path to use.\n * @param {Object} obj The object to retrieve the nested property from.\n * @return {*} The data at `path`.\n * @see R.prop, R.nth\n * @example\n *\n *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2\n *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined\n *      R.path(['a', 'b', 0], {a: {b: [1, 2, 3]}}); //=> 1\n *      R.path(['a', 'b', -2], {a: {b: [1, 2, 3]}}); //=> 2\n */\n\nvar path =\n/*#__PURE__*/\n_curry2(function path(pathAr, obj) {\n  return paths([pathAr], obj)[0];\n});\n\nexport default path;","import _curry2 from \"./internal/_curry2.js\";\nimport path from \"./path.js\";\n/**\n * Returns a function that when supplied an object returns the indicated\n * property of that object, if it exists.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @typedefn Idx = String | Int\n * @sig Idx -> {s: a} -> a | Undefined\n * @param {String|Number} p The property name or array index\n * @param {Object} obj The object to query\n * @return {*} The value at `obj.p`.\n * @see R.path, R.nth\n * @example\n *\n *      R.prop('x', {x: 100}); //=> 100\n *      R.prop('x', {}); //=> undefined\n *      R.prop(0, [100]); //=> 100\n *      R.compose(R.inc, R.prop('x'))({ x: 3 }) //=> 4\n */\n\nvar prop =\n/*#__PURE__*/\n_curry2(function prop(p, obj) {\n  return path([p], obj);\n});\n\nexport default prop;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'Person');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport Person from '../internal/svg-icons/Person';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      flexShrink: 0,\n      width: 40,\n      height: 40,\n      fontFamily: theme.typography.fontFamily,\n      fontSize: theme.typography.pxToRem(20),\n      lineHeight: 1,\n      borderRadius: '50%',\n      overflow: 'hidden',\n      userSelect: 'none'\n    },\n\n    /* Styles applied to the root element if not `src` or `srcSet`. */\n    colorDefault: {\n      color: theme.palette.background.default,\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[600]\n    },\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {},\n\n    /* Styles applied to the root element if `variant=\"circular\"`. */\n    circular: {},\n\n    /* Styles applied to the root element if `variant=\"rounded\"`. */\n    rounded: {\n      borderRadius: theme.shape.borderRadius\n    },\n\n    /* Styles applied to the root element if `variant=\"square\"`. */\n    square: {\n      borderRadius: 0\n    },\n\n    /* Styles applied to the img element if either `src` or `srcSet` is defined. */\n    img: {\n      width: '100%',\n      height: '100%',\n      textAlign: 'center',\n      // Handle non-square image. The property isn't supported by IE 11.\n      objectFit: 'cover',\n      // Hide alt text.\n      color: 'transparent',\n      // Hide the image broken icon, only works on Chrome.\n      textIndent: 10000\n    },\n\n    /* Styles applied to the fallback icon */\n    fallback: {\n      width: '75%',\n      height: '75%'\n    }\n  };\n};\n\nfunction useLoaded(_ref) {\n  var src = _ref.src,\n      srcSet = _ref.srcSet;\n\n  var _React$useState = React.useState(false),\n      loaded = _React$useState[0],\n      setLoaded = _React$useState[1];\n\n  React.useEffect(function () {\n    if (!src && !srcSet) {\n      return undefined;\n    }\n\n    setLoaded(false);\n    var active = true;\n    var image = new Image();\n    image.src = src;\n    image.srcSet = srcSet;\n\n    image.onload = function () {\n      if (!active) {\n        return;\n      }\n\n      setLoaded('loaded');\n    };\n\n    image.onerror = function () {\n      if (!active) {\n        return;\n      }\n\n      setLoaded('error');\n    };\n\n    return function () {\n      active = false;\n    };\n  }, [src, srcSet]);\n  return loaded;\n}\n\nvar Avatar = /*#__PURE__*/React.forwardRef(function Avatar(props, ref) {\n  var alt = props.alt,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      imgProps = props.imgProps,\n      sizes = props.sizes,\n      src = props.src,\n      srcSet = props.srcSet,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'circular' : _props$variant,\n      other = _objectWithoutProperties(props, [\"alt\", \"children\", \"classes\", \"className\", \"component\", \"imgProps\", \"sizes\", \"src\", \"srcSet\", \"variant\"]);\n\n  var children = null; // Use a hook instead of onError on the img element to support server-side rendering.\n\n  var loaded = useLoaded({\n    src: src,\n    srcSet: srcSet\n  });\n  var hasImg = src || srcSet;\n  var hasImgNotFailing = hasImg && loaded !== 'error';\n\n  if (hasImgNotFailing) {\n    children = /*#__PURE__*/React.createElement(\"img\", _extends({\n      alt: alt,\n      src: src,\n      srcSet: srcSet,\n      sizes: sizes,\n      className: classes.img\n    }, imgProps));\n  } else if (childrenProp != null) {\n    children = childrenProp;\n  } else if (hasImg && alt) {\n    children = alt[0];\n  } else {\n    children = /*#__PURE__*/React.createElement(Person, {\n      className: classes.fallback\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, classes.system, classes[variant], className, !hasImgNotFailing && classes.colorDefault),\n    ref: ref\n  }, other), children);\n});\nprocess.env.NODE_ENV !== \"production\" ? Avatar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Used in combination with `src` or `srcSet` to\n   * provide an alt attribute for the rendered `img` element.\n   */\n  alt: PropTypes.string,\n\n  /**\n   * Used to render icon or text elements inside the Avatar if `src` is not set.\n   * This can be an element, or just a string.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: chainPropTypes(PropTypes.object, function (props) {\n    var classes = props.classes;\n\n    if (classes == null) {\n      return null;\n    }\n\n    if (classes.circle != null && // 2 classnames? one from withStyles the other must be custom\n    classes.circle.split(' ').length > 1) {\n      throw new Error(\"Material-UI: The `circle` class is deprecated. Use `circular` instead.\");\n    }\n\n    return null;\n  }),\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Attributes applied to the `img` element if the component is used to display an image.\n   * It can be used to listen for the loading error event.\n   */\n  imgProps: PropTypes.object,\n\n  /**\n   * The `sizes` attribute for the `img` element.\n   */\n  sizes: PropTypes.string,\n\n  /**\n   * The `src` attribute for the `img` element.\n   */\n  src: PropTypes.string,\n\n  /**\n   * The `srcSet` attribute for the `img` element.\n   * Use this attribute for responsive image display.\n   */\n  srcSet: PropTypes.string,\n\n  /**\n   * The shape of the avatar.\n   */\n  variant: chainPropTypes(PropTypes.oneOf(['circle', 'circular', 'rounded', 'square']), function (props) {\n    var variant = props.variant;\n\n    if (variant === 'circle') {\n      throw new Error('Material-UI: `variant=\"circle\"` is deprecated. Use `variant=\"circular\"` instead.');\n    }\n\n    return null;\n  })\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAvatar'\n})(Avatar);","import { equal } from '@wry/equality';\n\nimport { OperationData } from './OperationData';\nimport {\n  SubscriptionCurrentObservable,\n  SubscriptionDataOptions,\n  SubscriptionResult\n} from '../types/types';\n\nexport class SubscriptionData<\n  TData = any,\n  TVariables = any\n> extends OperationData<SubscriptionDataOptions<TData, TVariables>> {\n  private setResult: any;\n  private currentObservable: SubscriptionCurrentObservable = {};\n\n  constructor({\n    options,\n    context,\n    setResult\n  }: {\n    options: SubscriptionDataOptions<TData, TVariables>;\n    context: any;\n    setResult: any;\n  }) {\n    super(options, context);\n    this.setResult = setResult;\n    this.initialize(options);\n  }\n\n  public execute(result: SubscriptionResult<TData>) {\n    if (this.getOptions().skip === true) {\n      this.cleanup();\n      return {\n        loading: false,\n        error: undefined,\n        data: undefined,\n        variables: this.getOptions().variables\n      };\n    }\n\n    let currentResult = result;\n    if (this.refreshClient().isNew) {\n      currentResult = this.getLoadingResult();\n    }\n\n    let { shouldResubscribe } = this.getOptions();\n    if (typeof shouldResubscribe === 'function') {\n      shouldResubscribe = !!shouldResubscribe(this.getOptions());\n    }\n\n    if (\n      shouldResubscribe !== false &&\n      this.previousOptions &&\n      Object.keys(this.previousOptions).length > 0 &&\n      (this.previousOptions.subscription !== this.getOptions().subscription ||\n        !equal(this.previousOptions.variables, this.getOptions().variables) ||\n        this.previousOptions.skip !== this.getOptions().skip)\n    ) {\n      this.cleanup();\n      currentResult = this.getLoadingResult();\n    }\n\n    this.initialize(this.getOptions());\n    this.startSubscription();\n\n    this.previousOptions = this.getOptions();\n    return { ...currentResult, variables: this.getOptions().variables };\n  }\n\n  public afterExecute() {\n    this.isMounted = true;\n  }\n\n  public cleanup() {\n    this.endSubscription();\n    delete this.currentObservable.query;\n  }\n\n  private initialize(options: SubscriptionDataOptions<TData, TVariables>) {\n    if (this.currentObservable.query || this.getOptions().skip === true) return;\n    this.currentObservable.query = this.refreshClient().client.subscribe({\n      query: options.subscription,\n      variables: options.variables,\n      fetchPolicy: options.fetchPolicy,\n      context: options.context,\n    });\n  }\n\n  private startSubscription() {\n    if (this.currentObservable.subscription) return;\n    this.currentObservable.subscription = this.currentObservable.query!.subscribe(\n      {\n        next: this.updateCurrentData.bind(this),\n        error: this.updateError.bind(this),\n        complete: this.completeSubscription.bind(this)\n      }\n    );\n  }\n\n  private getLoadingResult() {\n    return {\n      loading: true,\n      error: undefined,\n      data: undefined\n    } as SubscriptionResult<TData>;\n  }\n\n  private updateResult(result: SubscriptionResult) {\n    if (this.isMounted) {\n      this.setResult(result);\n    }\n  }\n\n  private updateCurrentData(result: SubscriptionResult<TData>) {\n    const { onSubscriptionData } = this.getOptions();\n\n    this.updateResult({\n      data: result.data,\n      loading: false,\n      error: undefined\n    });\n\n    if (onSubscriptionData) {\n      onSubscriptionData({\n        client: this.refreshClient().client,\n        subscriptionData: result\n      });\n    }\n  }\n\n  private updateError(error: any) {\n    this.updateResult({\n      error,\n      loading: false\n    });\n  }\n\n  private completeSubscription() {\n    // We have to defer this endSubscription call, because otherwise multiple\n    // subscriptions for the same component will cause infinite rendering.\n    // See https://github.com/apollographql/apollo-client/pull/7917\n    Promise.resolve().then(() => {\n      const { onSubscriptionComplete } = this.getOptions();\n      if (onSubscriptionComplete) onSubscriptionComplete();\n      this.endSubscription();\n    });\n  }\n\n  private endSubscription() {\n    if (this.currentObservable.subscription) {\n      this.currentObservable.subscription.unsubscribe();\n      delete this.currentObservable.subscription;\n    }\n  }\n}\n","import '../../utilities/globals';\n\nimport { useContext, useState, useRef, useEffect, useReducer } from 'react';\nimport { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\n\nimport { SubscriptionHookOptions } from '../types/types';\nimport { SubscriptionData } from '../data';\nimport { OperationVariables } from '../../core';\nimport { getApolloContext } from '../context';\nimport { useAfterFastRefresh } from './utils/useAfterFastRefresh';\n\nexport function useSubscription<TData = any, TVariables = OperationVariables>(\n  subscription: DocumentNode | TypedDocumentNode<TData, TVariables>,\n  options?: SubscriptionHookOptions<TData, TVariables>\n) {\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n  const context = useContext(getApolloContext());\n  const updatedOptions = options\n    ? { ...options, subscription }\n    : { subscription };\n  const [result, setResult] = useState({\n    loading: !updatedOptions.skip,\n    error: void 0,\n    data: void 0,\n  });\n\n  const subscriptionDataRef = useRef<SubscriptionData<TData, TVariables>>();\n  function getSubscriptionDataRef() {\n    if (!subscriptionDataRef.current) {\n      subscriptionDataRef.current = new SubscriptionData<TData, TVariables>({\n        options: updatedOptions,\n        context,\n        setResult\n      });\n    }\n    return subscriptionDataRef.current;\n  }\n\n  const subscriptionData = getSubscriptionDataRef();\n  subscriptionData.setOptions(updatedOptions, true);\n  subscriptionData.context = context;\n\n  if (__DEV__) {\n    // ensure we run an update after refreshing so that we can resubscribe\n    useAfterFastRefresh(forceUpdate);\n  }\n\n  useEffect(() => subscriptionData.afterExecute());\n  useEffect(() => {\n    return () => {\n      subscriptionData.cleanup();\n      subscriptionDataRef.current = void 0;\n    };\n  }, []);\n\n  return subscriptionData.execute(result);\n}\n"],"sourceRoot":""}