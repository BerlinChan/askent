(this["webpackJsonpaskent-client"]=this["webpackJsonpaskent-client"]||[]).push([[7],{117:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h}));var a=n(94),r=n.n(a),c=n(112),o=n(39),i=n(1),u=n.n(i),s=n(132);function l(){var e=Object(i.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){Object(c.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.load();case 2:return t=e.sent,e.next=5,t.get();case 5:n=e.sent,c=n.visitorId,a(c);case 8:case"end":return e.stop()}}),e)})))()}),[]),n}var b=n(52),j=n(217);function d(){var e=u.a.useState(localStorage.getItem(b.a.AUTH_TOKEN)||""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(j.a)();return{token:n,setToken:function(e){a(e),localStorage.setItem(b.a.AUTH_TOKEN,e)},removeToken:function(){a(""),localStorage.removeItem(b.a.AUTH_TOKEN),r.resetStore()}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,t=Object(i.useState)(null),n=Object(o.a)(t,2),a=n[0],r=n[1],c=Object(i.useState)(!0),u=Object(o.a)(c,2),s=u[0],l=u[1],b=null,j=function(t){r(t),l(!1),null!==b&&window.clearTimeout(b),b=window.setTimeout((function(){b=null,l(!0)}),e)};return Object(i.useEffect)((function(){return window.addEventListener("mousemove",j),function(){null!==b&&window.clearTimeout(b),window.removeEventListener("mousemove",j)}}),[]),{mouseEvent:a,mouseStop:s}}},122:function(e,t,n){"use strict";var a=n(40),r=n(111),c=(n(1),n(16)),o=n(117),i=n(8),u=["children"];t.a=function(e){var t=e.children,n=Object(r.a)(e,u),s=Object(o.c)().token;return Object(i.jsx)(c.b,Object(a.a)(Object(a.a)({},n),{},{render:function(e){var n=e.location;return s?t:Object(i.jsx)(c.a,{to:{pathname:"/unauthorized",state:{from:n}}})}}))}},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return X}));var a,r=n(1),c=n.n(r),o=n(227),i=n(230),u=n(118),s=n(145),l=Object(s.a)(a||(a=Object(u.a)(["\n  type PackageInfo {\n    version: String!\n    description: String!\n  }\n\n  extend type Query {\n    packageInfo: PackageInfo!\n  }\n  extend type Mutation {\n    packageInfo(version: String, description: String): PackageInfo!\n  }\n"]))),b={Mutation:{packageInfo:function(e,t,n){return console.log(t),t}}},j=n(98),d=n(40),h=n(222),O=n(232);var f=n(231),p=n(223),v=n(224),m=n(233),x=n(135),g=n(136),w=n(138),k=n(50),E={apiUri:"https://askent-server.berlinchan.com:48444/graphql",hasuraUri:"https://hasura.berlinchan.com:48444/v1/graphql",hasuraWsUri:"wss://hasura.berlinchan.com:48444/v1/graphql"},T=n(52),S=function(){return localStorage.getItem(T.a.AUTH_TOKEN)?"Bearer ".concat(localStorage.getItem(T.a.AUTH_TOKEN)):""},y=Object(x.a)((function(e,t){var n=t.headers;return{headers:Object(d.a)(Object(d.a)({},n),{},{Authorization:S()})}})),P=new f.a({uri:E.apiUri}),A=new f.a({uri:E.hasuraUri}),I=new g.a({uri:E.hasuraWsUri,options:{reconnect:!0,connectionParams:{headers:{Authorization:S()}}}}),U=Object(p.a)((function(e){return"hasura"===e.getContext().clientName}),A,P);var z=new O.a({typePolicies:{Query:{fields:{eventsByMe:{keyArgs:["eventOwnerFilter","dateStatusFilter","searchString"],merge:function(e,t,n){n.args;var a=n.readField;return Object(d.a)(Object(d.a)({},t),{},{list:[].concat(Object(j.a)(h.a((function(e,t){return a("id",e)===a("id",t)}),(null===e||void 0===e?void 0:e.list)||[],t.list)),Object(j.a)(t.list))})}}}}}}),N=Object(v.a)([Object(w.a)((function(e){var t=e.graphQLErrors,n=e.networkError;(null===t||void 0===t?void 0:t.length)&&t.map((function(e){var t=e.message,n=e.locations,a=e.path;return console.warn("[GraphQL error]: Message: ".concat(t,", Path: ").concat(a,", Location:"),n)})),n&&console.warn("[Network error]:",n)})),y,new m.a,Object(p.a)((function(e){var t=e.query,n=Object(k.e)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),I,U)]);var _=n(144),L=n(228),H=n(229),K=n(120),R=n(196),q=n(198),F=n(143),W=n(63),B=n(146),C=n(8),D=new i.a({cache:z,link:N,typeDefs:l,resolvers:b,queryDeduplication:!0,connectToDevTools:!0}),M=Object(_.a)(),Q={zh:{CREATE_EVENT:"\u521b\u5efa\u6d3b\u52a8"},en:{CREATE_EVENT:"Create Event"}},J={en:W.a,zh:B.a},V=function(e){var t="zh";return Object(C.jsx)(o.a,{client:D,children:Object(C.jsx)(R.a,{locale:t,messages:Q.zh,onError:function(e){},children:Object(C.jsxs)(L.a,{theme:M,children:[Object(C.jsx)(H.a,{}),Object(C.jsx)(K.a,{children:Object(C.jsx)(q.a,{utils:F.a,locale:J.zh,children:e.children})})]})})})},G=n(39),$=n(76),X=function(e){var t=e.children,n=Object($.a)(),a=c.a.useState(n),r=Object(G.a)(a,2),o=r[0],i=r[1],u=function(){i(Object(_.a)({palette:{type:"dark"},typography:{htmlFontSize:1280/window.document.documentElement.clientWidth*16}}))};return c.a.useEffect((function(){return window.addEventListener("resize",u),function(){return window.removeEventListener("resize",u)}})),c.a.useEffect((function(){u()}),[]),Object(C.jsx)(L.a,{theme:o,children:t})}},182:function(e,t,n){"use strict";n.r(t);n(1);var a=n(26),r=n.n(a),c=n(35),o=n(122),i=n(93),u=n(16),s=n(36),l=n(124),b=n(8),j=Object(c.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(11)]).then(n.bind(null,663))}),{fallback:Object(b.jsx)(s.a,{})}),d=Object(c.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(17)]).then(n.bind(null,646))}),{fallback:Object(b.jsx)(s.a,{})}),h=Object(c.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(18)]).then(n.bind(null,647))}),{fallback:Object(b.jsx)(s.a,{})}),O=Object(c.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(10)]).then(n.bind(null,673))}),{fallback:Object(b.jsx)(s.a,{})}),f=Object(c.a)((function(){return Promise.all([n.e(6),n.e(21)]).then(n.bind(null,648))}),{fallback:Object(b.jsx)(s.a,{})}),p=Object(c.a)((function(){return n.e(27).then(n.bind(null,649))}),{fallback:Object(b.jsx)(s.a,{})}),v=Object(c.a)((function(){return Promise.all([n.e(0),n.e(22),n.e(6),n.e(31)]).then(n.bind(null,650))}),{fallback:Object(b.jsx)(s.a,{})}),m=Object(c.a)((function(){return n.e(24).then(n.bind(null,651))}),{fallback:Object(b.jsx)(s.a,{})}),x=Object(c.a)((function(){return n.e(32).then(n.bind(null,652))}),{fallback:Object(b.jsx)(s.a,{})}),g=function(){return Object(b.jsx)(l.a,{children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{exact:!0,path:"/",component:j}),Object(b.jsx)(u.b,{path:"/login",component:d}),Object(b.jsx)(u.b,{path:"/signup",component:h}),Object(b.jsx)(u.a,{exact:!0,path:"/admin",to:"/admin/events"}),Object(b.jsx)(o.a,{path:"/admin",children:Object(b.jsx)(O,{})}),Object(b.jsx)(u.a,{exact:!0,path:"/event",to:"/"}),Object(b.jsx)(u.b,{path:"/event/:id",component:f}),Object(b.jsx)(u.b,{path:"/about",component:p}),Object(b.jsx)(u.b,{path:"/demo",component:v}),Object(b.jsx)(u.b,{path:"/unauthorized",component:m}),Object(b.jsx)(u.b,{path:"*",component:x})]})})})},w=function(){return Object(b.jsx)(g,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(b.jsx)(w,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},36:function(e,t,n){"use strict";var a=n(1),r=n(8);t.a=function(){return Object(r.jsx)(a.Fragment,{children:"Loading..."})}},52:function(e,t,n){"use strict";var a,r,c;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),function(e){e.AUTH_TOKEN="AUTH_TOKEN"}(a||(a={})),function(e){e.Review="Review",e.Publish="Publish",e.Archive="Archive",e.Starred="Starred"}(r||(r={})),function(e){e.Popular="Popular",e.Recent="Recent",e.Oldest="Oldest",e.Starred="Starred"}(c||(c={}))}},[[182,8,9]]]);
//# sourceMappingURL=main.36b5e29b.chunk.js.map