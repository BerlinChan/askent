fragment ReplyPagedFields on ReplyPaged {
  hash
  limit
  offset
  totalCount
  hasNextPage
}
fragment ReplyFields on Reply {
  id
  createdAt
  updatedAt
  content
  reviewStatus
  isModerator
  author {
    id
    name
    avatar
  }
}

query RepliesByQuestion($input: ReplyQueryInput!) {
  repliesByQuestion(input: $input) {
    ...ReplyPagedFields
    list {
      ...ReplyFields
    }
  }
}

mutation UpdateReplyContent($replyId: ID!, $content: String!) {
  updateReplyContent(replyId: $replyId, content: $content) {
    ...ReplyFields
  }
}

mutation UpdateReplyReviewStatus($replyId: ID!, $reviewStatus: ReviewStatus!) {
  updateReplyReviewStatus(replyId: $replyId, reviewStatus: $reviewStatus) {
    ...ReplyFields
  }
}

mutation DeleteReply($replyId: ID!) {
  deleteReply(replyId: $replyId) {
    id
  }
}

subscription ReplyRealtimeSearch($questionId: String!, $hash: String!) {
  replyRealtimeSearch(questionId: $questionId, hash: $hash) {
    totalCount
    insertList {
      ...ReplyFields
    }
    updateList {
      ...ReplyFields
    }
    deleteList
  }
}
