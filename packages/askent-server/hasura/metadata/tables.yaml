- table:
    schema: public
    name: event
  object_relationships:
  - name: owner
    using:
      foreign_key_constraint_on: ownerId
  array_relationships:
  - name: audiences
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: public
          name: eventAudiences
  - name: guestes
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: public
          name: eventGuestes
  - name: questions
    using:
      foreign_key_constraint_on:
        column: eventId
        table:
          schema: public
          name: question
  select_permissions:
  - role: developer
    permission:
      columns:
      - code
      - createdAt
      - deletedAt
      - endAt
      - id
      - moderation
      - name
      - ownerId
      - startAt
      - updatedAt
      filter: {}
      allow_aggregations: true
  - role: User
    permission:
      columns:
      - id
      - code
      - name
      - startAt
      - endAt
      - moderation
      - createdAt
      - updatedAt
      - ownerId
      filter:
        _and:
        - owner:
            id:
              _eq: x-hasura-user-id
        - deletedAt:
            _is_null: true
      allow_aggregations: true
- table:
    schema: public
    name: eventAudiences
  object_relationships:
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: user
    using:
      foreign_key_constraint_on: userId
  select_permissions:
  - role: developer
    permission:
      columns:
      - eventId
      - userId
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: eventGuestes
  object_relationships:
  - name: event
    using:
      foreign_key_constraint_on: eventId
  - name: user
    using:
      foreign_key_constraint_on: userId
  select_permissions:
  - role: developer
    permission:
      columns:
      - eventId
      - userId
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: question
  object_relationships:
  - name: author
    using:
      foreign_key_constraint_on: authorId
  - name: event
    using:
      foreign_key_constraint_on: eventId
  array_relationships:
  - name: replies
    using:
      foreign_key_constraint_on:
        column: questionId
        table:
          schema: public
          name: reply
  - name: voteUpUsers
    using:
      foreign_key_constraint_on:
        column: questionId
        table:
          schema: public
          name: usersVoteUpQuestions
  select_permissions:
  - role: Audience
    permission:
      columns:
      - anonymous
      - authorId
      - content
      - createdAt
      - eventId
      - id
      - replyCount
      - reviewStatus
      - star
      - top
      - updatedAt
      - voteUpCount
      filter:
        _and:
        - deletedAt:
            _is_null: true
        - reviewStatus:
            _eq: Publish
      allow_aggregations: true
  - role: developer
    permission:
      columns:
      - id
      - content
      - anonymous
      - reviewStatus
      - star
      - top
      - voteUpCount
      - replyCount
      - createdAt
      - updatedAt
      - deletedAt
      - eventId
      - authorId
      filter: {}
      allow_aggregations: true
  - role: User
    permission:
      columns:
      - anonymous
      - authorId
      - content
      - createdAt
      - eventId
      - id
      - replyCount
      - reviewStatus
      - star
      - top
      - updatedAt
      - voteUpCount
      filter:
        _and:
        - _or:
          - event:
              owner:
                id:
                  _eq: x-hasura-user-id
          - authorId:
              _eq: x-hasura-user-id
        - deletedAt:
            _is_null: true
      allow_aggregations: true
- table:
    schema: public
    name: question_query_meta
  select_permissions:
  - role: developer
    permission:
      columns:
      - id
      - query
      - list
      - createdAt
      - updatedAt
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: reply
  object_relationships:
  - name: author
    using:
      foreign_key_constraint_on: authorId
  - name: question
    using:
      foreign_key_constraint_on: questionId
  select_permissions:
  - role: developer
    permission:
      columns:
      - id
      - content
      - reviewStatus
      - isModerator
      - anonymous
      - createdAt
      - updatedAt
      - deletedAt
      - questionId
      - authorId
      filter: {}
      allow_aggregations: true
  - role: User
    permission:
      columns:
      - anonymous
      - authorId
      - content
      - createdAt
      - id
      - isModerator
      - questionId
      - reviewStatus
      - updatedAt
      filter:
        _and:
        - question:
            event:
              owner:
                id:
                  _eq: x-hasura-user-id
        - deletedAt:
            _is_null: true
      allow_aggregations: true
- table:
    schema: public
    name: reply_query_meta
  select_permissions:
  - role: developer
    permission:
      columns:
      - id
      - query
      - list
      - createdAt
      - updatedAt
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: role
  array_relationships:
  - name: users
    using:
      foreign_key_constraint_on:
        column: roleId
        table:
          schema: public
          name: userRoles
  select_permissions:
  - role: developer
    permission:
      columns:
      - id
      - name
      - createdAt
      - updatedAt
      - deletedAt
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: user
  array_relationships:
  - name: attendedEvents
    using:
      foreign_key_constraint_on:
        column: userId
        table:
          schema: public
          name: eventAudiences
  - name: events
    using:
      foreign_key_constraint_on:
        column: ownerId
        table:
          schema: public
          name: event
  - name: guestEvents
    using:
      foreign_key_constraint_on:
        column: userId
        table:
          schema: public
          name: eventGuestes
  - name: questions
    using:
      foreign_key_constraint_on:
        column: authorId
        table:
          schema: public
          name: question
  - name: replies
    using:
      foreign_key_constraint_on:
        column: authorId
        table:
          schema: public
          name: reply
  - name: roles
    using:
      foreign_key_constraint_on:
        column: userId
        table:
          schema: public
          name: userRoles
  - name: voteUpQuestions
    using:
      foreign_key_constraint_on:
        column: userId
        table:
          schema: public
          name: usersVoteUpQuestions
  select_permissions:
  - role: Audience
    permission:
      columns:
      - anonymous
      - avatar
      - createdAt
      - email
      - fingerprint
      - id
      - name
      - updatedAt
      filter:
        _and:
        - id:
            _eq: x-hasura-user-id
        - deletedAt:
            _is_null: true
  - role: developer
    permission:
      columns:
      - id
      - fingerprint
      - email
      - avatar
      - password
      - name
      - anonymous
      - createdAt
      - updatedAt
      - deletedAt
      filter: {}
      allow_aggregations: true
  - role: User
    permission:
      columns:
      - anonymous
      - avatar
      - createdAt
      - email
      - fingerprint
      - id
      - name
      - updatedAt
      filter:
        _and:
        - id:
            _eq: x-hasura-user-id
        - deletedAt:
            _is_null: true
      allow_aggregations: true
- table:
    schema: public
    name: userRoles
  object_relationships:
  - name: role
    using:
      foreign_key_constraint_on: roleId
  - name: user
    using:
      foreign_key_constraint_on: userId
  select_permissions:
  - role: developer
    permission:
      columns:
      - roleId
      - userId
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: usersVoteUpQuestions
  object_relationships:
  - name: question
    using:
      foreign_key_constraint_on: questionId
  - name: user
    using:
      foreign_key_constraint_on: userId
  select_permissions:
  - role: Audience
    permission:
      columns:
      - questionId
      - userId
      filter:
        userId:
          _eq: x-hasura-user-id
  - role: developer
    permission:
      columns:
      - questionId
      - userId
      filter: {}
      allow_aggregations: true
